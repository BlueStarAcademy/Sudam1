var _2=Object.defineProperty;var B2=(o,a,c)=>a in o?_2(o,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[a]=c;var Aa=(o,a,c)=>B2(o,typeof a!="symbol"?a+"":a,c);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))m(u);new MutationObserver(u=>{for(const p of u)if(p.type==="childList")for(const s of p.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&m(s)}).observe(document,{childList:!0,subtree:!0});function c(u){const p={};return u.integrity&&(p.integrity=u.integrity),u.referrerPolicy&&(p.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?p.credentials="include":u.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function m(u){if(u.ep)return;u.ep=!0;const p=c(u);fetch(u.href,p)}})();function L2(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var BD={exports:{}},dx={},LD={exports:{}},Od={exports:{}};Od.exports;(function(o,a){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var c="18.3.1",m=Symbol.for("react.element"),u=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),g=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),U=Symbol.iterator,S="@@iterator";function M(T){if(T===null||typeof T!="object")return null;var ee=U&&T[U]||T[S];return typeof ee=="function"?ee:null}var C={current:null},w={transition:null},R={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},O={current:null},V={},$=null;function z(T){$=T}V.setExtraStackFrame=function(T){$=T},V.getCurrentStack=null,V.getStackAddendum=function(){var T="";$&&(T+=$);var ee=V.getCurrentStack;return ee&&(T+=ee()||""),T};var P=!1,G=!1,q=!1,B=!1,X=!1,H={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:w,ReactCurrentOwner:O};H.ReactDebugCurrentFrame=V,H.ReactCurrentActQueue=R;function Q(T){{for(var ee=arguments.length,xe=new Array(ee>1?ee-1:0),Ae=1;Ae<ee;Ae++)xe[Ae-1]=arguments[Ae];ne("warn",T,xe)}}function Z(T){{for(var ee=arguments.length,xe=new Array(ee>1?ee-1:0),Ae=1;Ae<ee;Ae++)xe[Ae-1]=arguments[Ae];ne("error",T,xe)}}function ne(T,ee,xe){{var Ae=H.ReactDebugCurrentFrame,Ne=Ae.getStackAddendum();Ne!==""&&(ee+="%s",xe=xe.concat([Ne]));var xn=xe.map(function(fn){return String(fn)});xn.unshift("Warning: "+ee),Function.prototype.apply.call(console[T],console,xn)}}var le={};function L(T,ee){{var xe=T.constructor,Ae=xe&&(xe.displayName||xe.name)||"ReactClass",Ne=Ae+"."+ee;if(le[Ne])return;Z("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ee,Ae),le[Ne]=!0}}var ue={isMounted:function(T){return!1},enqueueForceUpdate:function(T,ee,xe){L(T,"forceUpdate")},enqueueReplaceState:function(T,ee,xe,Ae){L(T,"replaceState")},enqueueSetState:function(T,ee,xe,Ae){L(T,"setState")}},pe=Object.assign,ie={};Object.freeze(ie);function fe(T,ee,xe){this.props=T,this.context=ee,this.refs=ie,this.updater=xe||ue}fe.prototype.isReactComponent={},fe.prototype.setState=function(T,ee){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,ee,"setState")},fe.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};{var W={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Pe=function(T,ee){Object.defineProperty(fe.prototype,T,{get:function(){Q("%s(...) is deprecated in plain JavaScript React classes. %s",ee[0],ee[1])}})};for(var me in W)W.hasOwnProperty(me)&&Pe(me,W[me])}function de(){}de.prototype=fe.prototype;function Ge(T,ee,xe){this.props=T,this.context=ee,this.refs=ie,this.updater=xe||ue}var ve=Ge.prototype=new de;ve.constructor=Ge,pe(ve,fe.prototype),ve.isPureReactComponent=!0;function an(){var T={current:null};return Object.seal(T),T}var ye=Array.isArray;function De(T){return ye(T)}function We(T){{var ee=typeof Symbol=="function"&&Symbol.toStringTag,xe=ee&&T[Symbol.toStringTag]||T.constructor.name||"Object";return xe}}function Ie(T){try{return Je(T),!1}catch{return!0}}function Je(T){return""+T}function K(T){if(Ie(T))return Z("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",We(T)),Je(T)}function J(T,ee,xe){var Ae=T.displayName;if(Ae)return Ae;var Ne=ee.displayName||ee.name||"";return Ne!==""?xe+"("+Ne+")":xe}function ke(T){return T.displayName||"Context"}function Te(T){if(T==null)return null;if(typeof T.tag=="number"&&Z("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof T=="function")return T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case p:return"Fragment";case u:return"Portal";case x:return"Profiler";case s:return"StrictMode";case h:return"Suspense";case N:return"SuspenseList"}if(typeof T=="object")switch(T.$$typeof){case g:var ee=T;return ke(ee)+".Consumer";case v:var xe=T;return ke(xe._context)+".Provider";case f:return J(T,T.render,"ForwardRef");case y:var Ae=T.displayName||null;return Ae!==null?Ae:Te(T.type)||"Memo";case E:{var Ne=T,xn=Ne._payload,fn=Ne._init;try{return Te(fn(xn))}catch{return null}}}return null}var be=Object.prototype.hasOwnProperty,Ce={key:!0,ref:!0,__self:!0,__source:!0},Re,Ze,Se;Se={};function Fe(T){if(be.call(T,"ref")){var ee=Object.getOwnPropertyDescriptor(T,"ref").get;if(ee&&ee.isReactWarning)return!1}return T.ref!==void 0}function tn(T){if(be.call(T,"key")){var ee=Object.getOwnPropertyDescriptor(T,"key").get;if(ee&&ee.isReactWarning)return!1}return T.key!==void 0}function Rn(T,ee){var xe=function(){Re||(Re=!0,Z("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ee))};xe.isReactWarning=!0,Object.defineProperty(T,"key",{get:xe,configurable:!0})}function Dn(T,ee){var xe=function(){Ze||(Ze=!0,Z("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ee))};xe.isReactWarning=!0,Object.defineProperty(T,"ref",{get:xe,configurable:!0})}function Ue(T){if(typeof T.ref=="string"&&O.current&&T.__self&&O.current.stateNode!==T.__self){var ee=Te(O.current.type);Se[ee]||(Z('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ee,T.ref),Se[ee]=!0)}}var Be=function(T,ee,xe,Ae,Ne,xn,fn){var Tn={$$typeof:m,type:T,key:ee,ref:xe,props:fn,_owner:xn};return Tn._store={},Object.defineProperty(Tn._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Tn,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ae}),Object.defineProperty(Tn,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ne}),Object.freeze&&(Object.freeze(Tn.props),Object.freeze(Tn)),Tn};function qe(T,ee,xe){var Ae,Ne={},xn=null,fn=null,Tn=null,tt=null;if(ee!=null){Fe(ee)&&(fn=ee.ref,Ue(ee)),tn(ee)&&(K(ee.key),xn=""+ee.key),Tn=ee.__self===void 0?null:ee.__self,tt=ee.__source===void 0?null:ee.__source;for(Ae in ee)be.call(ee,Ae)&&!Ce.hasOwnProperty(Ae)&&(Ne[Ae]=ee[Ae])}var yt=arguments.length-2;if(yt===1)Ne.children=xe;else if(yt>1){for(var lt=Array(yt),Qe=0;Qe<yt;Qe++)lt[Qe]=arguments[Qe+2];Object.freeze&&Object.freeze(lt),Ne.children=lt}if(T&&T.defaultProps){var Mn=T.defaultProps;for(Ae in Mn)Ne[Ae]===void 0&&(Ne[Ae]=Mn[Ae])}if(xn||fn){var Et=typeof T=="function"?T.displayName||T.name||"Unknown":T;xn&&Rn(Ne,Et),fn&&Dn(Ne,Et)}return Be(T,xn,fn,Tn,tt,O.current,Ne)}function Ee(T,ee){var xe=Be(T.type,ee,T.ref,T._self,T._source,T._owner,T.props);return xe}function ze(T,ee,xe){if(T==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Ae,Ne=pe({},T.props),xn=T.key,fn=T.ref,Tn=T._self,tt=T._source,yt=T._owner;if(ee!=null){Fe(ee)&&(fn=ee.ref,yt=O.current),tn(ee)&&(K(ee.key),xn=""+ee.key);var lt;T.type&&T.type.defaultProps&&(lt=T.type.defaultProps);for(Ae in ee)be.call(ee,Ae)&&!Ce.hasOwnProperty(Ae)&&(ee[Ae]===void 0&&lt!==void 0?Ne[Ae]=lt[Ae]:Ne[Ae]=ee[Ae])}var Qe=arguments.length-2;if(Qe===1)Ne.children=xe;else if(Qe>1){for(var Mn=Array(Qe),Et=0;Et<Qe;Et++)Mn[Et]=arguments[Et+2];Ne.children=Mn}return Be(T.type,xn,fn,Tn,tt,yt,Ne)}function ln(T){return typeof T=="object"&&T!==null&&T.$$typeof===m}var yn=".",Ln=":";function Bn(T){var ee=/[=:]/g,xe={"=":"=0",":":"=2"},Ae=T.replace(ee,function(Ne){return xe[Ne]});return"$"+Ae}var zn=!1,Xe=/\/+/g;function nn(T){return T.replace(Xe,"$&/")}function Sn(T,ee){return typeof T=="object"&&T!==null&&T.key!=null?(K(T.key),Bn(""+T.key)):ee.toString(36)}function Nn(T,ee,xe,Ae,Ne){var xn=typeof T;(xn==="undefined"||xn==="boolean")&&(T=null);var fn=!1;if(T===null)fn=!0;else switch(xn){case"string":case"number":fn=!0;break;case"object":switch(T.$$typeof){case m:case u:fn=!0}}if(fn){var Tn=T,tt=Ne(Tn),yt=Ae===""?yn+Sn(Tn,0):Ae;if(De(tt)){var lt="";yt!=null&&(lt=nn(yt)+"/"),Nn(tt,ee,lt,"",function(xt){return xt})}else tt!=null&&(ln(tt)&&(tt.key&&(!Tn||Tn.key!==tt.key)&&K(tt.key),tt=Ee(tt,xe+(tt.key&&(!Tn||Tn.key!==tt.key)?nn(""+tt.key)+"/":"")+yt)),ee.push(tt));return 1}var Qe,Mn,Et=0,zt=Ae===""?yn:Ae+Ln;if(De(T))for(var sn=0;sn<T.length;sn++)Qe=T[sn],Mn=zt+Sn(Qe,sn),Et+=Nn(Qe,ee,xe,Mn,Ne);else{var hn=M(T);if(typeof hn=="function"){var Fn=T;hn===Fn.entries&&(zn||Q("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),zn=!0);for(var Vn=hn.call(Fn),pt,Dt=0;!(pt=Vn.next()).done;)Qe=pt.value,Mn=zt+Sn(Qe,Dt++),Et+=Nn(Qe,ee,xe,Mn,Ne)}else if(xn==="object"){var Cn=String(T);throw new Error("Objects are not valid as a React child (found: "+(Cn==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":Cn)+"). If you meant to render a collection of children, use an array instead.")}}return Et}function wn(T,ee,xe){if(T==null)return T;var Ae=[],Ne=0;return Nn(T,Ae,"","",function(xn){return ee.call(xe,xn,Ne++)}),Ae}function on(T){var ee=0;return wn(T,function(){ee++}),ee}function $n(T,ee,xe){wn(T,function(){ee.apply(this,arguments)},xe)}function mt(T){return wn(T,function(ee){return ee})||[]}function Bt(T){if(!ln(T))throw new Error("React.Children.only expected to receive a single React element child.");return T}function It(T){var ee={$$typeof:g,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ee.Provider={$$typeof:v,_context:ee};var xe=!1,Ae=!1,Ne=!1;{var xn={$$typeof:g,_context:ee};Object.defineProperties(xn,{Provider:{get:function(){return Ae||(Ae=!0,Z("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ee.Provider},set:function(fn){ee.Provider=fn}},_currentValue:{get:function(){return ee._currentValue},set:function(fn){ee._currentValue=fn}},_currentValue2:{get:function(){return ee._currentValue2},set:function(fn){ee._currentValue2=fn}},_threadCount:{get:function(){return ee._threadCount},set:function(fn){ee._threadCount=fn}},Consumer:{get:function(){return xe||(xe=!0,Z("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ee.Consumer}},displayName:{get:function(){return ee.displayName},set:function(fn){Ne||(Q("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",fn),Ne=!0)}}}),ee.Consumer=xn}return ee._currentRenderer=null,ee._currentRenderer2=null,ee}var Xt=-1,Ft=0,Zt=1,Fo=2;function ji(T){if(T._status===Xt){var ee=T._result,xe=ee();if(xe.then(function(xn){if(T._status===Ft||T._status===Xt){var fn=T;fn._status=Zt,fn._result=xn}},function(xn){if(T._status===Ft||T._status===Xt){var fn=T;fn._status=Fo,fn._result=xn}}),T._status===Xt){var Ae=T;Ae._status=Ft,Ae._result=xe}}if(T._status===Zt){var Ne=T._result;return Ne===void 0&&Z(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Ne),"default"in Ne||Z(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Ne),Ne.default}else throw T._result}function te(T){var ee={_status:Xt,_result:T},xe={$$typeof:E,_payload:ee,_init:ji};{var Ae,Ne;Object.defineProperties(xe,{defaultProps:{configurable:!0,get:function(){return Ae},set:function(xn){Z("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ae=xn,Object.defineProperty(xe,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Ne},set:function(xn){Z("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ne=xn,Object.defineProperty(xe,"propTypes",{enumerable:!0})}}})}return xe}function Ke(T){T!=null&&T.$$typeof===y?Z("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof T!="function"?Z("forwardRef requires a render function but was given %s.",T===null?"null":typeof T):T.length!==0&&T.length!==2&&Z("forwardRef render functions accept exactly two parameters: props and ref. %s",T.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),T!=null&&(T.defaultProps!=null||T.propTypes!=null)&&Z("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ee={$$typeof:f,render:T};{var xe;Object.defineProperty(ee,"displayName",{enumerable:!1,configurable:!0,get:function(){return xe},set:function(Ae){xe=Ae,!T.name&&!T.displayName&&(T.displayName=Ae)}})}return ee}var rn;rn=Symbol.for("react.module.reference");function En(T){return!!(typeof T=="string"||typeof T=="function"||T===p||T===x||X||T===s||T===h||T===N||B||T===j||P||G||q||typeof T=="object"&&T!==null&&(T.$$typeof===E||T.$$typeof===y||T.$$typeof===v||T.$$typeof===g||T.$$typeof===f||T.$$typeof===rn||T.getModuleId!==void 0))}function nt(T,ee){En(T)||Z("memo: The first argument must be a component. Instead received: %s",T===null?"null":typeof T);var xe={$$typeof:y,type:T,compare:ee===void 0?null:ee};{var Ae;Object.defineProperty(xe,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ae},set:function(Ne){Ae=Ne,!T.name&&!T.displayName&&(T.displayName=Ne)}})}return xe}function un(){var T=C.current;return T===null&&Z(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),T}function qn(T){var ee=un();if(T._context!==void 0){var xe=T._context;xe.Consumer===T?Z("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):xe.Provider===T&&Z("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ee.useContext(T)}function An(T){var ee=un();return ee.useState(T)}function Qt(T,ee,xe){var Ae=un();return Ae.useReducer(T,ee,xe)}function $t(T){var ee=un();return ee.useRef(T)}function Lt(T,ee){var xe=un();return xe.useEffect(T,ee)}function go(T,ee){var xe=un();return xe.useInsertionEffect(T,ee)}function di(T,ee){var xe=un();return xe.useLayoutEffect(T,ee)}function fi(T,ee){var xe=un();return xe.useCallback(T,ee)}function Yt(T,ee){var xe=un();return xe.useMemo(T,ee)}function yl(T,ee,xe){var Ae=un();return Ae.useImperativeHandle(T,ee,xe)}function Io(T,ee){{var xe=un();return xe.useDebugValue(T,ee)}}function it(){var T=un();return T.useTransition()}function _i(T){var ee=un();return ee.useDeferredValue(T)}function Mr(){var T=un();return T.useId()}function Dl(T,ee,xe){var Ae=un();return Ae.useSyncExternalStore(T,ee,xe)}var el=0,Zl,Ia,ea,_a,na,Cr,Rr;function ta(){}ta.__reactDisabledLog=!0;function Ba(){{if(el===0){Zl=console.log,Ia=console.info,ea=console.warn,_a=console.error,na=console.group,Cr=console.groupCollapsed,Rr=console.groupEnd;var T={configurable:!0,enumerable:!0,value:ta,writable:!0};Object.defineProperties(console,{info:T,log:T,warn:T,error:T,group:T,groupCollapsed:T,groupEnd:T})}el++}}function Mi(){{if(el--,el===0){var T={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:pe({},T,{value:Zl}),info:pe({},T,{value:Ia}),warn:pe({},T,{value:ea}),error:pe({},T,{value:_a}),group:pe({},T,{value:na}),groupCollapsed:pe({},T,{value:Cr}),groupEnd:pe({},T,{value:Rr})})}el<0&&Z("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Sl=H.ReactCurrentDispatcher,nl;function ti(T,ee,xe){{if(nl===void 0)try{throw Error()}catch(Ne){var Ae=Ne.stack.trim().match(/\n( *(at )?)/);nl=Ae&&Ae[1]||""}return`
`+nl+T}}var Nt=!1,qo;{var La=typeof WeakMap=="function"?WeakMap:Map;qo=new La}function Er(T,ee){if(!T||Nt)return"";{var xe=qo.get(T);if(xe!==void 0)return xe}var Ae;Nt=!0;var Ne=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var xn;xn=Sl.current,Sl.current=null,Ba();try{if(ee){var fn=function(){throw Error()};if(Object.defineProperty(fn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fn,[])}catch(zt){Ae=zt}Reflect.construct(T,[],fn)}else{try{fn.call()}catch(zt){Ae=zt}T.call(fn.prototype)}}else{try{throw Error()}catch(zt){Ae=zt}T()}}catch(zt){if(zt&&Ae&&typeof zt.stack=="string"){for(var Tn=zt.stack.split(`
`),tt=Ae.stack.split(`
`),yt=Tn.length-1,lt=tt.length-1;yt>=1&&lt>=0&&Tn[yt]!==tt[lt];)lt--;for(;yt>=1&&lt>=0;yt--,lt--)if(Tn[yt]!==tt[lt]){if(yt!==1||lt!==1)do if(yt--,lt--,lt<0||Tn[yt]!==tt[lt]){var Qe=`
`+Tn[yt].replace(" at new "," at ");return T.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",T.displayName)),typeof T=="function"&&qo.set(T,Qe),Qe}while(yt>=1&&lt>=0);break}}}finally{Nt=!1,Sl.current=xn,Mi(),Error.prepareStackTrace=Ne}var Mn=T?T.displayName||T.name:"",Et=Mn?ti(Mn):"";return typeof T=="function"&&qo.set(T,Et),Et}function $a(T,ee,xe){return Er(T,!1)}function jl(T){var ee=T.prototype;return!!(ee&&ee.isReactComponent)}function Ci(T,ee,xe){if(T==null)return"";if(typeof T=="function")return Er(T,jl(T));if(typeof T=="string")return ti(T);switch(T){case h:return ti("Suspense");case N:return ti("SuspenseList")}if(typeof T=="object")switch(T.$$typeof){case f:return $a(T.render);case y:return Ci(T.type,ee,xe);case E:{var Ae=T,Ne=Ae._payload,xn=Ae._init;try{return Ci(xn(Ne),ee,xe)}catch{}}}return""}var oa={},Ml=H.ReactDebugCurrentFrame;function jt(T){if(T){var ee=T._owner,xe=Ci(T.type,T._source,ee?ee.type:null);Ml.setExtraStackFrame(xe)}else Ml.setExtraStackFrame(null)}function _s(T,ee,xe,Ae,Ne){{var xn=Function.call.bind(be);for(var fn in T)if(xn(T,fn)){var Tn=void 0;try{if(typeof T[fn]!="function"){var tt=Error((Ae||"React class")+": "+xe+" type `"+fn+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof T[fn]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw tt.name="Invariant Violation",tt}Tn=T[fn](ee,fn,Ae,xe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(yt){Tn=yt}Tn&&!(Tn instanceof Error)&&(jt(Ne),Z("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ae||"React class",xe,fn,typeof Tn),jt(null)),Tn instanceof Error&&!(Tn.message in oa)&&(oa[Tn.message]=!0,jt(Ne),Z("Failed %s type: %s",xe,Tn.message),jt(null))}}}function Bi(T){if(T){var ee=T._owner,xe=Ci(T.type,T._source,ee?ee.type:null);z(xe)}else z(null)}var Qn;Qn=!1;function Oa(){if(O.current){var T=Te(O.current.type);if(T)return`

Check the render method of \``+T+"`."}return""}function jo(T){if(T!==void 0){var ee=T.fileName.replace(/^.*[\\\/]/,""),xe=T.lineNumber;return`

Check your code at `+ee+":"+xe+"."}return""}function Cl(T){return T!=null?jo(T.__source):""}var tl={};function Bs(T){var ee=Oa();if(!ee){var xe=typeof T=="string"?T:T.displayName||T.name;xe&&(ee=`

Check the top-level render call using <`+xe+">.")}return ee}function oo(T,ee){if(!(!T._store||T._store.validated||T.key!=null)){T._store.validated=!0;var xe=Bs(ee);if(!tl[xe]){tl[xe]=!0;var Ae="";T&&T._owner&&T._owner!==O.current&&(Ae=" It was passed a child from "+Te(T._owner.type)+"."),Bi(T),Z('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',xe,Ae),Bi(null)}}}function Gt(T,ee){if(typeof T=="object"){if(De(T))for(var xe=0;xe<T.length;xe++){var Ae=T[xe];ln(Ae)&&oo(Ae,ee)}else if(ln(T))T._store&&(T._store.validated=!0);else if(T){var Ne=M(T);if(typeof Ne=="function"&&Ne!==T.entries)for(var xn=Ne.call(T),fn;!(fn=xn.next()).done;)ln(fn.value)&&oo(fn.value,ee)}}}function Ar(T){{var ee=T.type;if(ee==null||typeof ee=="string")return;var xe;if(typeof ee=="function")xe=ee.propTypes;else if(typeof ee=="object"&&(ee.$$typeof===f||ee.$$typeof===y))xe=ee.propTypes;else return;if(xe){var Ae=Te(ee);_s(xe,T.props,"prop",Ae,T)}else if(ee.PropTypes!==void 0&&!Qn){Qn=!0;var Ne=Te(ee);Z("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ne||"Unknown")}typeof ee.getDefaultProps=="function"&&!ee.getDefaultProps.isReactClassApproved&&Z("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function oi(T){{for(var ee=Object.keys(T.props),xe=0;xe<ee.length;xe++){var Ae=ee[xe];if(Ae!=="children"&&Ae!=="key"){Bi(T),Z("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ae),Bi(null);break}}T.ref!==null&&(Bi(T),Z("Invalid attribute `ref` supplied to `React.Fragment`."),Bi(null))}}function Mo(T,ee,xe){var Ae=En(T);if(!Ae){var Ne="";(T===void 0||typeof T=="object"&&T!==null&&Object.keys(T).length===0)&&(Ne+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xn=Cl(ee);xn?Ne+=xn:Ne+=Oa();var fn;T===null?fn="null":De(T)?fn="array":T!==void 0&&T.$$typeof===m?(fn="<"+(Te(T.type)||"Unknown")+" />",Ne=" Did you accidentally export a JSX literal instead of a component?"):fn=typeof T,Z("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",fn,Ne)}var Tn=qe.apply(this,arguments);if(Tn==null)return Tn;if(Ae)for(var tt=2;tt<arguments.length;tt++)Gt(arguments[tt],T);return T===p?oi(Tn):Ar(Tn),Tn}var pi=!1;function Ls(T){var ee=Mo.bind(null,T);return ee.type=T,pi||(pi=!0,Q("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ee,"type",{enumerable:!1,get:function(){return Q("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:T}),T}}),ee}function Ga(T,ee,xe){for(var Ae=ze.apply(this,arguments),Ne=2;Ne<arguments.length;Ne++)Gt(arguments[Ne],Ae.type);return Ar(Ae),Ae}function re(T,ee){var xe=w.transition;w.transition={};var Ae=w.transition;w.transition._updatedFibers=new Set;try{T()}finally{if(w.transition=xe,xe===null&&Ae._updatedFibers){var Ne=Ae._updatedFibers.size;Ne>10&&Q("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Ae._updatedFibers.clear()}}}var He=!1,$e=null;function Le(T){if($e===null)try{var ee=("require"+Math.random()).slice(0,7),xe=o&&o[ee];$e=xe.call(o,"timers").setImmediate}catch{$e=function(Ne){He===!1&&(He=!0,typeof MessageChannel>"u"&&Z("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var xn=new MessageChannel;xn.port1.onmessage=Ne,xn.port2.postMessage(void 0)}}return $e(T)}var On=0,Wn=!1;function ct(T){{var ee=On;On++,R.current===null&&(R.current=[]);var xe=R.isBatchingLegacy,Ae;try{if(R.isBatchingLegacy=!0,Ae=T(),!xe&&R.didScheduleLegacyUpdate){var Ne=R.current;Ne!==null&&(R.didScheduleLegacyUpdate=!1,ho(Ne))}}catch(Mn){throw Vt(ee),Mn}finally{R.isBatchingLegacy=xe}if(Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var xn=Ae,fn=!1,Tn={then:function(Mn,Et){fn=!0,xn.then(function(zt){Vt(ee),On===0?_o(zt,Mn,Et):Mn(zt)},function(zt){Vt(ee),Et(zt)})}};return!Wn&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){fn||(Wn=!0,Z("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Tn}else{var tt=Ae;if(Vt(ee),On===0){var yt=R.current;yt!==null&&(ho(yt),R.current=null);var lt={then:function(Mn,Et){R.current===null?(R.current=[],_o(tt,Mn,Et)):Mn(tt)}};return lt}else{var Qe={then:function(Mn,Et){Mn(tt)}};return Qe}}}}function Vt(T){T!==On-1&&Z("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),On=T}function _o(T,ee,xe){{var Ae=R.current;if(Ae!==null)try{ho(Ae),Le(function(){Ae.length===0?(R.current=null,ee(T)):_o(T,ee,xe)})}catch(Ne){xe(Ne)}else ee(T)}}var Co=!1;function ho(T){if(!Co){Co=!0;var ee=0;try{for(;ee<T.length;ee++){var xe=T[ee];do xe=xe(!0);while(xe!==null)}T.length=0}catch(Ae){throw T=T.slice(ee+1),Ae}finally{Co=!1}}}var Mt=Mo,ut=Ga,Bo=Ls,Ri={map:wn,forEach:$n,count:on,toArray:mt,only:Bt};a.Children=Ri,a.Component=fe,a.Fragment=p,a.Profiler=x,a.PureComponent=Ge,a.StrictMode=s,a.Suspense=h,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,a.act=ct,a.cloneElement=ut,a.createContext=It,a.createElement=Mt,a.createFactory=Bo,a.createRef=an,a.forwardRef=Ke,a.isValidElement=ln,a.lazy=te,a.memo=nt,a.startTransition=re,a.unstable_act=ct,a.useCallback=fi,a.useContext=qn,a.useDebugValue=Io,a.useDeferredValue=_i,a.useEffect=Lt,a.useId=Mr,a.useImperativeHandle=yl,a.useInsertionEffect=go,a.useLayoutEffect=di,a.useMemo=Yt,a.useReducer=Qt,a.useRef=$t,a.useState=An,a.useSyncExternalStore=Dl,a.useTransition=it,a.version=c,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Od,Od.exports);var $2=Od.exports;LD.exports=$2;var b=LD.exports;const to=L2(b);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var o=b,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),E=Symbol.iterator,j="@@iterator";function U(te){if(te===null||typeof te!="object")return null;var Ke=E&&te[E]||te[j];return typeof Ke=="function"?Ke:null}var S=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function M(te){{for(var Ke=arguments.length,rn=new Array(Ke>1?Ke-1:0),En=1;En<Ke;En++)rn[En-1]=arguments[En];C("error",te,rn)}}function C(te,Ke,rn){{var En=S.ReactDebugCurrentFrame,nt=En.getStackAddendum();nt!==""&&(Ke+="%s",rn=rn.concat([nt]));var un=rn.map(function(qn){return String(qn)});un.unshift("Warning: "+Ke),Function.prototype.apply.call(console[te],console,un)}}var w=!1,R=!1,O=!1,V=!1,$=!1,z;z=Symbol.for("react.module.reference");function P(te){return!!(typeof te=="string"||typeof te=="function"||te===m||te===p||$||te===u||te===g||te===f||V||te===y||w||R||O||typeof te=="object"&&te!==null&&(te.$$typeof===N||te.$$typeof===h||te.$$typeof===s||te.$$typeof===x||te.$$typeof===v||te.$$typeof===z||te.getModuleId!==void 0))}function G(te,Ke,rn){var En=te.displayName;if(En)return En;var nt=Ke.displayName||Ke.name||"";return nt!==""?rn+"("+nt+")":rn}function q(te){return te.displayName||"Context"}function B(te){if(te==null)return null;if(typeof te.tag=="number"&&M("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof te=="function")return te.displayName||te.name||null;if(typeof te=="string")return te;switch(te){case m:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case f:return"SuspenseList"}if(typeof te=="object")switch(te.$$typeof){case x:var Ke=te;return q(Ke)+".Consumer";case s:var rn=te;return q(rn._context)+".Provider";case v:return G(te,te.render,"ForwardRef");case h:var En=te.displayName||null;return En!==null?En:B(te.type)||"Memo";case N:{var nt=te,un=nt._payload,qn=nt._init;try{return B(qn(un))}catch{return null}}}return null}var X=Object.assign,H=0,Q,Z,ne,le,L,ue,pe;function ie(){}ie.__reactDisabledLog=!0;function fe(){{if(H===0){Q=console.log,Z=console.info,ne=console.warn,le=console.error,L=console.group,ue=console.groupCollapsed,pe=console.groupEnd;var te={configurable:!0,enumerable:!0,value:ie,writable:!0};Object.defineProperties(console,{info:te,log:te,warn:te,error:te,group:te,groupCollapsed:te,groupEnd:te})}H++}}function W(){{if(H--,H===0){var te={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:X({},te,{value:Q}),info:X({},te,{value:Z}),warn:X({},te,{value:ne}),error:X({},te,{value:le}),group:X({},te,{value:L}),groupCollapsed:X({},te,{value:ue}),groupEnd:X({},te,{value:pe})})}H<0&&M("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Pe=S.ReactCurrentDispatcher,me;function de(te,Ke,rn){{if(me===void 0)try{throw Error()}catch(nt){var En=nt.stack.trim().match(/\n( *(at )?)/);me=En&&En[1]||""}return`
`+me+te}}var Ge=!1,ve;{var an=typeof WeakMap=="function"?WeakMap:Map;ve=new an}function ye(te,Ke){if(!te||Ge)return"";{var rn=ve.get(te);if(rn!==void 0)return rn}var En;Ge=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var un;un=Pe.current,Pe.current=null,fe();try{if(Ke){var qn=function(){throw Error()};if(Object.defineProperty(qn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qn,[])}catch(Yt){En=Yt}Reflect.construct(te,[],qn)}else{try{qn.call()}catch(Yt){En=Yt}te.call(qn.prototype)}}else{try{throw Error()}catch(Yt){En=Yt}te()}}catch(Yt){if(Yt&&En&&typeof Yt.stack=="string"){for(var An=Yt.stack.split(`
`),Qt=En.stack.split(`
`),$t=An.length-1,Lt=Qt.length-1;$t>=1&&Lt>=0&&An[$t]!==Qt[Lt];)Lt--;for(;$t>=1&&Lt>=0;$t--,Lt--)if(An[$t]!==Qt[Lt]){if($t!==1||Lt!==1)do if($t--,Lt--,Lt<0||An[$t]!==Qt[Lt]){var go=`
`+An[$t].replace(" at new "," at ");return te.displayName&&go.includes("<anonymous>")&&(go=go.replace("<anonymous>",te.displayName)),typeof te=="function"&&ve.set(te,go),go}while($t>=1&&Lt>=0);break}}}finally{Ge=!1,Pe.current=un,W(),Error.prepareStackTrace=nt}var di=te?te.displayName||te.name:"",fi=di?de(di):"";return typeof te=="function"&&ve.set(te,fi),fi}function De(te,Ke,rn){return ye(te,!1)}function We(te){var Ke=te.prototype;return!!(Ke&&Ke.isReactComponent)}function Ie(te,Ke,rn){if(te==null)return"";if(typeof te=="function")return ye(te,We(te));if(typeof te=="string")return de(te);switch(te){case g:return de("Suspense");case f:return de("SuspenseList")}if(typeof te=="object")switch(te.$$typeof){case v:return De(te.render);case h:return Ie(te.type,Ke,rn);case N:{var En=te,nt=En._payload,un=En._init;try{return Ie(un(nt),Ke,rn)}catch{}}}return""}var Je=Object.prototype.hasOwnProperty,K={},J=S.ReactDebugCurrentFrame;function ke(te){if(te){var Ke=te._owner,rn=Ie(te.type,te._source,Ke?Ke.type:null);J.setExtraStackFrame(rn)}else J.setExtraStackFrame(null)}function Te(te,Ke,rn,En,nt){{var un=Function.call.bind(Je);for(var qn in te)if(un(te,qn)){var An=void 0;try{if(typeof te[qn]!="function"){var Qt=Error((En||"React class")+": "+rn+" type `"+qn+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof te[qn]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Qt.name="Invariant Violation",Qt}An=te[qn](Ke,qn,En,rn,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch($t){An=$t}An&&!(An instanceof Error)&&(ke(nt),M("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",En||"React class",rn,qn,typeof An),ke(null)),An instanceof Error&&!(An.message in K)&&(K[An.message]=!0,ke(nt),M("Failed %s type: %s",rn,An.message),ke(null))}}}var be=Array.isArray;function Ce(te){return be(te)}function Re(te){{var Ke=typeof Symbol=="function"&&Symbol.toStringTag,rn=Ke&&te[Symbol.toStringTag]||te.constructor.name||"Object";return rn}}function Ze(te){try{return Se(te),!1}catch{return!0}}function Se(te){return""+te}function Fe(te){if(Ze(te))return M("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Re(te)),Se(te)}var tn=S.ReactCurrentOwner,Rn={key:!0,ref:!0,__self:!0,__source:!0},Dn,Ue,Be;Be={};function qe(te){if(Je.call(te,"ref")){var Ke=Object.getOwnPropertyDescriptor(te,"ref").get;if(Ke&&Ke.isReactWarning)return!1}return te.ref!==void 0}function Ee(te){if(Je.call(te,"key")){var Ke=Object.getOwnPropertyDescriptor(te,"key").get;if(Ke&&Ke.isReactWarning)return!1}return te.key!==void 0}function ze(te,Ke){if(typeof te.ref=="string"&&tn.current&&Ke&&tn.current.stateNode!==Ke){var rn=B(tn.current.type);Be[rn]||(M('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',B(tn.current.type),te.ref),Be[rn]=!0)}}function ln(te,Ke){{var rn=function(){Dn||(Dn=!0,M("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ke))};rn.isReactWarning=!0,Object.defineProperty(te,"key",{get:rn,configurable:!0})}}function yn(te,Ke){{var rn=function(){Ue||(Ue=!0,M("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ke))};rn.isReactWarning=!0,Object.defineProperty(te,"ref",{get:rn,configurable:!0})}}var Ln=function(te,Ke,rn,En,nt,un,qn){var An={$$typeof:a,type:te,key:Ke,ref:rn,props:qn,_owner:un};return An._store={},Object.defineProperty(An._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(An,"_self",{configurable:!1,enumerable:!1,writable:!1,value:En}),Object.defineProperty(An,"_source",{configurable:!1,enumerable:!1,writable:!1,value:nt}),Object.freeze&&(Object.freeze(An.props),Object.freeze(An)),An};function Bn(te,Ke,rn,En,nt){{var un,qn={},An=null,Qt=null;rn!==void 0&&(Fe(rn),An=""+rn),Ee(Ke)&&(Fe(Ke.key),An=""+Ke.key),qe(Ke)&&(Qt=Ke.ref,ze(Ke,nt));for(un in Ke)Je.call(Ke,un)&&!Rn.hasOwnProperty(un)&&(qn[un]=Ke[un]);if(te&&te.defaultProps){var $t=te.defaultProps;for(un in $t)qn[un]===void 0&&(qn[un]=$t[un])}if(An||Qt){var Lt=typeof te=="function"?te.displayName||te.name||"Unknown":te;An&&ln(qn,Lt),Qt&&yn(qn,Lt)}return Ln(te,An,Qt,nt,En,tn.current,qn)}}var zn=S.ReactCurrentOwner,Xe=S.ReactDebugCurrentFrame;function nn(te){if(te){var Ke=te._owner,rn=Ie(te.type,te._source,Ke?Ke.type:null);Xe.setExtraStackFrame(rn)}else Xe.setExtraStackFrame(null)}var Sn;Sn=!1;function Nn(te){return typeof te=="object"&&te!==null&&te.$$typeof===a}function wn(){{if(zn.current){var te=B(zn.current.type);if(te)return`

Check the render method of \``+te+"`."}return""}}function on(te){{if(te!==void 0){var Ke=te.fileName.replace(/^.*[\\\/]/,""),rn=te.lineNumber;return`

Check your code at `+Ke+":"+rn+"."}return""}}var $n={};function mt(te){{var Ke=wn();if(!Ke){var rn=typeof te=="string"?te:te.displayName||te.name;rn&&(Ke=`

Check the top-level render call using <`+rn+">.")}return Ke}}function Bt(te,Ke){{if(!te._store||te._store.validated||te.key!=null)return;te._store.validated=!0;var rn=mt(Ke);if($n[rn])return;$n[rn]=!0;var En="";te&&te._owner&&te._owner!==zn.current&&(En=" It was passed a child from "+B(te._owner.type)+"."),nn(te),M('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',rn,En),nn(null)}}function It(te,Ke){{if(typeof te!="object")return;if(Ce(te))for(var rn=0;rn<te.length;rn++){var En=te[rn];Nn(En)&&Bt(En,Ke)}else if(Nn(te))te._store&&(te._store.validated=!0);else if(te){var nt=U(te);if(typeof nt=="function"&&nt!==te.entries)for(var un=nt.call(te),qn;!(qn=un.next()).done;)Nn(qn.value)&&Bt(qn.value,Ke)}}}function Xt(te){{var Ke=te.type;if(Ke==null||typeof Ke=="string")return;var rn;if(typeof Ke=="function")rn=Ke.propTypes;else if(typeof Ke=="object"&&(Ke.$$typeof===v||Ke.$$typeof===h))rn=Ke.propTypes;else return;if(rn){var En=B(Ke);Te(rn,te.props,"prop",En,te)}else if(Ke.PropTypes!==void 0&&!Sn){Sn=!0;var nt=B(Ke);M("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",nt||"Unknown")}typeof Ke.getDefaultProps=="function"&&!Ke.getDefaultProps.isReactClassApproved&&M("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ft(te){{for(var Ke=Object.keys(te.props),rn=0;rn<Ke.length;rn++){var En=Ke[rn];if(En!=="children"&&En!=="key"){nn(te),M("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",En),nn(null);break}}te.ref!==null&&(nn(te),M("Invalid attribute `ref` supplied to `React.Fragment`."),nn(null))}}var Zt={};function Fo(te,Ke,rn,En,nt,un){{var qn=P(te);if(!qn){var An="";(te===void 0||typeof te=="object"&&te!==null&&Object.keys(te).length===0)&&(An+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Qt=on(nt);Qt?An+=Qt:An+=wn();var $t;te===null?$t="null":Ce(te)?$t="array":te!==void 0&&te.$$typeof===a?($t="<"+(B(te.type)||"Unknown")+" />",An=" Did you accidentally export a JSX literal instead of a component?"):$t=typeof te,M("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",$t,An)}var Lt=Bn(te,Ke,rn,nt,un);if(Lt==null)return Lt;if(qn){var go=Ke.children;if(go!==void 0)if(En)if(Ce(go)){for(var di=0;di<go.length;di++)It(go[di],te);Object.freeze&&Object.freeze(go)}else M("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else It(go,te)}if(Je.call(Ke,"key")){var fi=B(te),Yt=Object.keys(Ke).filter(function(it){return it!=="key"}),yl=Yt.length>0?"{key: someKey, "+Yt.join(": ..., ")+": ...}":"{key: someKey}";if(!Zt[fi+yl]){var Io=Yt.length>0?"{"+Yt.join(": ..., ")+": ...}":"{}";M(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,yl,fi,Io,fi),Zt[fi+yl]=!0}}return te===m?Ft(Lt):Xt(Lt),Lt}}var ji=Fo;dx.Fragment=m,dx.jsxDEV=ji})();BD.exports=dx;var e=BD.exports,fx={},$D={exports:{}},Si={},OD={exports:{}},GD={};(function(o){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var a=!1,c=5;function m(Ue,Be){var qe=Ue.length;Ue.push(Be),s(Ue,Be,qe)}function u(Ue){return Ue.length===0?null:Ue[0]}function p(Ue){if(Ue.length===0)return null;var Be=Ue[0],qe=Ue.pop();return qe!==Be&&(Ue[0]=qe,x(Ue,qe,0)),Be}function s(Ue,Be,qe){for(var Ee=qe;Ee>0;){var ze=Ee-1>>>1,ln=Ue[ze];if(v(ln,Be)>0)Ue[ze]=Be,Ue[Ee]=ln,Ee=ze;else return}}function x(Ue,Be,qe){for(var Ee=qe,ze=Ue.length,ln=ze>>>1;Ee<ln;){var yn=(Ee+1)*2-1,Ln=Ue[yn],Bn=yn+1,zn=Ue[Bn];if(v(Ln,Be)<0)Bn<ze&&v(zn,Ln)<0?(Ue[Ee]=zn,Ue[Bn]=Be,Ee=Bn):(Ue[Ee]=Ln,Ue[yn]=Be,Ee=yn);else if(Bn<ze&&v(zn,Be)<0)Ue[Ee]=zn,Ue[Bn]=Be,Ee=Bn;else return}}function v(Ue,Be){var qe=Ue.sortIndex-Be.sortIndex;return qe!==0?qe:Ue.id-Be.id}var g=1,f=2,h=3,N=4,y=5;function E(Ue,Be){}var j=typeof performance=="object"&&typeof performance.now=="function";if(j){var U=performance;o.unstable_now=function(){return U.now()}}else{var S=Date,M=S.now();o.unstable_now=function(){return S.now()-M}}var C=1073741823,w=-1,R=250,O=5e3,V=1e4,$=C,z=[],P=[],G=1,q=null,B=h,X=!1,H=!1,Q=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Ue){for(var Be=u(P);Be!==null;){if(Be.callback===null)p(P);else if(Be.startTime<=Ue)p(P),Be.sortIndex=Be.expirationTime,m(z,Be);else return;Be=u(P)}}function ue(Ue){if(Q=!1,L(Ue),!H)if(u(z)!==null)H=!0,Se(pe);else{var Be=u(P);Be!==null&&Fe(ue,Be.startTime-Ue)}}function pe(Ue,Be){H=!1,Q&&(Q=!1,tn()),X=!0;var qe=B;try{var Ee;if(!a)return ie(Ue,Be)}finally{q=null,B=qe,X=!1}}function ie(Ue,Be){var qe=Be;for(L(qe),q=u(z);q!==null&&!(q.expirationTime>qe&&(!Ue||J()));){var Ee=q.callback;if(typeof Ee=="function"){q.callback=null,B=q.priorityLevel;var ze=q.expirationTime<=qe,ln=Ee(ze);qe=o.unstable_now(),typeof ln=="function"?q.callback=ln:q===u(z)&&p(z),L(qe)}else p(z);q=u(z)}if(q!==null)return!0;var yn=u(P);return yn!==null&&Fe(ue,yn.startTime-qe),!1}function fe(Ue,Be){switch(Ue){case g:case f:case h:case N:case y:break;default:Ue=h}var qe=B;B=Ue;try{return Be()}finally{B=qe}}function W(Ue){var Be;switch(B){case g:case f:case h:Be=h;break;default:Be=B;break}var qe=B;B=Be;try{return Ue()}finally{B=qe}}function Pe(Ue){var Be=B;return function(){var qe=B;B=Be;try{return Ue.apply(this,arguments)}finally{B=qe}}}function me(Ue,Be,qe){var Ee=o.unstable_now(),ze;if(typeof qe=="object"&&qe!==null){var ln=qe.delay;typeof ln=="number"&&ln>0?ze=Ee+ln:ze=Ee}else ze=Ee;var yn;switch(Ue){case g:yn=w;break;case f:yn=R;break;case y:yn=$;break;case N:yn=V;break;case h:default:yn=O;break}var Ln=ze+yn,Bn={id:G++,callback:Be,priorityLevel:Ue,startTime:ze,expirationTime:Ln,sortIndex:-1};return ze>Ee?(Bn.sortIndex=ze,m(P,Bn),u(z)===null&&Bn===u(P)&&(Q?tn():Q=!0,Fe(ue,ze-Ee))):(Bn.sortIndex=Ln,m(z,Bn),!H&&!X&&(H=!0,Se(pe))),Bn}function de(){}function Ge(){!H&&!X&&(H=!0,Se(pe))}function ve(){return u(z)}function an(Ue){Ue.callback=null}function ye(){return B}var De=!1,We=null,Ie=-1,Je=c,K=-1;function J(){var Ue=o.unstable_now()-K;return!(Ue<Je)}function ke(){}function Te(Ue){if(Ue<0||Ue>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Ue>0?Je=Math.floor(1e3/Ue):Je=c}var be=function(){if(We!==null){var Ue=o.unstable_now();K=Ue;var Be=!0,qe=!0;try{qe=We(Be,Ue)}finally{qe?Ce():(De=!1,We=null)}}else De=!1},Ce;if(typeof le=="function")Ce=function(){le(be)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ze=Re.port2;Re.port1.onmessage=be,Ce=function(){Ze.postMessage(null)}}else Ce=function(){Z(be,0)};function Se(Ue){We=Ue,De||(De=!0,Ce())}function Fe(Ue,Be){Ie=Z(function(){Ue(o.unstable_now())},Be)}function tn(){ne(Ie),Ie=-1}var Rn=ke,Dn=null;o.unstable_IdlePriority=y,o.unstable_ImmediatePriority=g,o.unstable_LowPriority=N,o.unstable_NormalPriority=h,o.unstable_Profiling=Dn,o.unstable_UserBlockingPriority=f,o.unstable_cancelCallback=an,o.unstable_continueExecution=Ge,o.unstable_forceFrameRate=Te,o.unstable_getCurrentPriorityLevel=ye,o.unstable_getFirstCallbackNode=ve,o.unstable_next=W,o.unstable_pauseExecution=de,o.unstable_requestPaint=Rn,o.unstable_runWithPriority=fe,o.unstable_scheduleCallback=me,o.unstable_shouldYield=J,o.unstable_wrapCallback=Pe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(GD);OD.exports=GD;var O2=OD.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var o=b,a=O2,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=!1;function u(n){m=n}function p(n){if(!m){for(var t=arguments.length,i=new Array(t>1?t-1:0),l=1;l<t;l++)i[l-1]=arguments[l];x("warn",n,i)}}function s(n){if(!m){for(var t=arguments.length,i=new Array(t>1?t-1:0),l=1;l<t;l++)i[l-1]=arguments[l];x("error",n,i)}}function x(n,t,i){{var l=c.ReactDebugCurrentFrame,r=l.getStackAddendum();r!==""&&(t+="%s",i=i.concat([r]));var d=i.map(function(D){return String(D)});d.unshift("Warning: "+t),Function.prototype.apply.call(console[n],console,d)}}var v=0,g=1,f=2,h=3,N=4,y=5,E=6,j=7,U=8,S=9,M=10,C=11,w=12,R=13,O=14,V=15,$=16,z=17,P=18,G=19,q=21,B=22,X=23,H=24,Q=25,Z=!0,ne=!1,le=!1,L=!1,ue=!1,pe=!0,ie=!0,fe=!0,W=!0,Pe=new Set,me={},de={};function Ge(n,t){ve(n,t),ve(n+"Capture",t)}function ve(n,t){me[n]&&s("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",n),me[n]=t;{var i=n.toLowerCase();de[i]=n,n==="onDoubleClick"&&(de.ondblclick=n)}for(var l=0;l<t.length;l++)Pe.add(t[l])}var an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ye=Object.prototype.hasOwnProperty;function De(n){{var t=typeof Symbol=="function"&&Symbol.toStringTag,i=t&&n[Symbol.toStringTag]||n.constructor.name||"Object";return i}}function We(n){try{return Ie(n),!1}catch{return!0}}function Ie(n){return""+n}function Je(n,t){if(We(n))return s("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",t,De(n)),Ie(n)}function K(n){if(We(n))return s("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",De(n)),Ie(n)}function J(n,t){if(We(n))return s("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",t,De(n)),Ie(n)}function ke(n,t){if(We(n))return s("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",t,De(n)),Ie(n)}function Te(n){if(We(n))return s("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",De(n)),Ie(n)}function be(n){if(We(n))return s("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",De(n)),Ie(n)}var Ce=0,Re=1,Ze=2,Se=3,Fe=4,tn=5,Rn=6,Dn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ue=Dn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Be=new RegExp("^["+Dn+"]["+Ue+"]*$"),qe={},Ee={};function ze(n){return ye.call(Ee,n)?!0:ye.call(qe,n)?!1:Be.test(n)?(Ee[n]=!0,!0):(qe[n]=!0,s("Invalid attribute name: `%s`",n),!1)}function ln(n,t,i){return t!==null?t.type===Ce:i?!1:n.length>2&&(n[0]==="o"||n[0]==="O")&&(n[1]==="n"||n[1]==="N")}function yn(n,t,i,l){if(i!==null&&i.type===Ce)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":{if(l)return!1;if(i!==null)return!i.acceptsBooleans;var r=n.toLowerCase().slice(0,5);return r!=="data-"&&r!=="aria-"}default:return!1}}function Ln(n,t,i,l){if(t===null||typeof t>"u"||yn(n,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case Se:return!t;case Fe:return t===!1;case tn:return isNaN(t);case Rn:return isNaN(t)||t<1}return!1}function Bn(n){return Xe.hasOwnProperty(n)?Xe[n]:null}function zn(n,t,i,l,r,d,D){this.acceptsBooleans=t===Ze||t===Se||t===Fe,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=n,this.type=t,this.sanitizeURL=d,this.removeEmptyString=D}var Xe={},nn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];nn.forEach(function(n){Xe[n]=new zn(n,Ce,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0],i=n[1];Xe[t]=new zn(t,Re,!1,i,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){Xe[n]=new zn(n,Ze,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Xe[n]=new zn(n,Ze,!1,n,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(n){Xe[n]=new zn(n,Se,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){Xe[n]=new zn(n,Se,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){Xe[n]=new zn(n,Fe,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){Xe[n]=new zn(n,Rn,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){Xe[n]=new zn(n,tn,!1,n.toLowerCase(),null,!1,!1)});var Sn=/[\-\:]([a-z])/g,Nn=function(n){return n[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(n){var t=n.replace(Sn,Nn);Xe[t]=new zn(t,Re,!1,n,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(n){var t=n.replace(Sn,Nn);Xe[t]=new zn(t,Re,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Sn,Nn);Xe[t]=new zn(t,Re,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){Xe[n]=new zn(n,Re,!1,n.toLowerCase(),null,!1,!1)});var wn="xlinkHref";Xe[wn]=new zn("xlinkHref",Re,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){Xe[n]=new zn(n,Re,!1,n.toLowerCase(),null,!0,!0)});var on=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,$n=!1;function mt(n){!$n&&on.test(n)&&($n=!0,s("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(n)))}function Bt(n,t,i,l){if(l.mustUseProperty){var r=l.propertyName;return n[r]}else{Je(i,t),l.sanitizeURL&&mt(""+i);var d=l.attributeName,D=null;if(l.type===Fe){if(n.hasAttribute(d)){var A=n.getAttribute(d);return A===""?!0:Ln(t,i,l,!1)?A:A===""+i?i:A}}else if(n.hasAttribute(d)){if(Ln(t,i,l,!1))return n.getAttribute(d);if(l.type===Se)return i;D=n.getAttribute(d)}return Ln(t,i,l,!1)?D===null?i:D:D===""+i?i:D}}function It(n,t,i,l){{if(!ze(t))return;if(!n.hasAttribute(t))return i===void 0?void 0:null;var r=n.getAttribute(t);return Je(i,t),r===""+i?i:r}}function Xt(n,t,i,l){var r=Bn(t);if(!ln(t,r,l)){if(Ln(t,i,r,l)&&(i=null),l||r===null){if(ze(t)){var d=t;i===null?n.removeAttribute(d):(Je(i,t),n.setAttribute(d,""+i))}return}var D=r.mustUseProperty;if(D){var A=r.propertyName;if(i===null){var k=r.type;n[A]=k===Se?!1:""}else n[A]=i;return}var F=r.attributeName,Y=r.attributeNamespace;if(i===null)n.removeAttribute(F);else{var ce=r.type,se;ce===Se||ce===Fe&&i===!0?se="":(Je(i,F),se=""+i,r.sanitizeURL&&mt(se.toString())),Y?n.setAttributeNS(Y,F,se):n.setAttribute(F,se)}}}var Ft=Symbol.for("react.element"),Zt=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),ji=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),rn=Symbol.for("react.context"),En=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),un=Symbol.for("react.suspense_list"),qn=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),Qt=Symbol.for("react.scope"),$t=Symbol.for("react.debug_trace_mode"),Lt=Symbol.for("react.offscreen"),go=Symbol.for("react.legacy_hidden"),di=Symbol.for("react.cache"),fi=Symbol.for("react.tracing_marker"),Yt=Symbol.iterator,yl="@@iterator";function Io(n){if(n===null||typeof n!="object")return null;var t=Yt&&n[Yt]||n[yl];return typeof t=="function"?t:null}var it=Object.assign,_i=0,Mr,Dl,el,Zl,Ia,ea,_a;function na(){}na.__reactDisabledLog=!0;function Cr(){{if(_i===0){Mr=console.log,Dl=console.info,el=console.warn,Zl=console.error,Ia=console.group,ea=console.groupCollapsed,_a=console.groupEnd;var n={configurable:!0,enumerable:!0,value:na,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}_i++}}function Rr(){{if(_i--,_i===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:it({},n,{value:Mr}),info:it({},n,{value:Dl}),warn:it({},n,{value:el}),error:it({},n,{value:Zl}),group:it({},n,{value:Ia}),groupCollapsed:it({},n,{value:ea}),groupEnd:it({},n,{value:_a})})}_i<0&&s("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ta=c.ReactCurrentDispatcher,Ba;function Mi(n,t,i){{if(Ba===void 0)try{throw Error()}catch(r){var l=r.stack.trim().match(/\n( *(at )?)/);Ba=l&&l[1]||""}return`
`+Ba+n}}var Sl=!1,nl;{var ti=typeof WeakMap=="function"?WeakMap:Map;nl=new ti}function Nt(n,t){if(!n||Sl)return"";{var i=nl.get(n);if(i!==void 0)return i}var l;Sl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=ta.current,ta.current=null,Cr();try{if(t){var D=function(){throw Error()};if(Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(Me){l=Me}Reflect.construct(n,[],D)}else{try{D.call()}catch(Me){l=Me}n.call(D.prototype)}}else{try{throw Error()}catch(Me){l=Me}n()}}catch(Me){if(Me&&l&&typeof Me.stack=="string"){for(var A=Me.stack.split(`
`),k=l.stack.split(`
`),F=A.length-1,Y=k.length-1;F>=1&&Y>=0&&A[F]!==k[Y];)Y--;for(;F>=1&&Y>=0;F--,Y--)if(A[F]!==k[Y]){if(F!==1||Y!==1)do if(F--,Y--,Y<0||A[F]!==k[Y]){var ce=`
`+A[F].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),typeof n=="function"&&nl.set(n,ce),ce}while(F>=1&&Y>=0);break}}}finally{Sl=!1,ta.current=d,Rr(),Error.prepareStackTrace=r}var se=n?n.displayName||n.name:"",je=se?Mi(se):"";return typeof n=="function"&&nl.set(n,je),je}function qo(n,t,i){return Nt(n,!0)}function La(n,t,i){return Nt(n,!1)}function Er(n){var t=n.prototype;return!!(t&&t.isReactComponent)}function $a(n,t,i){if(n==null)return"";if(typeof n=="function")return Nt(n,Er(n));if(typeof n=="string")return Mi(n);switch(n){case nt:return Mi("Suspense");case un:return Mi("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case En:return La(n.render);case qn:return $a(n.type,t,i);case An:{var l=n,r=l._payload,d=l._init;try{return $a(d(r),t,i)}catch{}}}return""}function jl(n){switch(n._debugOwner&&n._debugOwner.type,n._debugSource,n.tag){case y:return Mi(n.type);case $:return Mi("Lazy");case R:return Mi("Suspense");case G:return Mi("SuspenseList");case v:case f:case V:return La(n.type);case C:return La(n.type.render);case g:return qo(n.type);default:return""}}function Ci(n){try{var t="",i=n;do t+=jl(i),i=i.return;while(i);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function oa(n,t,i){var l=n.displayName;if(l)return l;var r=t.displayName||t.name||"";return r!==""?i+"("+r+")":i}function Ml(n){return n.displayName||"Context"}function jt(n){if(n==null)return null;if(typeof n.tag=="number"&&s("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fo:return"Fragment";case Zt:return"Portal";case te:return"Profiler";case ji:return"StrictMode";case nt:return"Suspense";case un:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case rn:var t=n;return Ml(t)+".Consumer";case Ke:var i=n;return Ml(i._context)+".Provider";case En:return oa(n,n.render,"ForwardRef");case qn:var l=n.displayName||null;return l!==null?l:jt(n.type)||"Memo";case An:{var r=n,d=r._payload,D=r._init;try{return jt(D(d))}catch{return null}}}return null}function _s(n,t,i){var l=t.displayName||t.name||"";return n.displayName||(l!==""?i+"("+l+")":i)}function Bi(n){return n.displayName||"Context"}function Qn(n){var t=n.tag,i=n.type;switch(t){case H:return"Cache";case S:var l=i;return Bi(l)+".Consumer";case M:var r=i;return Bi(r._context)+".Provider";case P:return"DehydratedFragment";case C:return _s(i,i.render,"ForwardRef");case j:return"Fragment";case y:return i;case N:return"Portal";case h:return"Root";case E:return"Text";case $:return jt(i);case U:return i===ji?"StrictMode":"Mode";case B:return"Offscreen";case w:return"Profiler";case q:return"Scope";case R:return"Suspense";case G:return"SuspenseList";case Q:return"TracingMarker";case g:case v:case z:case f:case O:case V:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;break}return null}var Oa=c.ReactDebugCurrentFrame,jo=null,Cl=!1;function tl(){{if(jo===null)return null;var n=jo._debugOwner;if(n!==null&&typeof n<"u")return Qn(n)}return null}function Bs(){return jo===null?"":Ci(jo)}function oo(){Oa.getCurrentStack=null,jo=null,Cl=!1}function Gt(n){Oa.getCurrentStack=n===null?null:Bs,jo=n,Cl=!1}function Ar(){return jo}function oi(n){Cl=n}function Mo(n){return""+n}function pi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return be(n),n;default:return""}}var Ls={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Ga(n,t){Ls[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||t.value==null||s("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||t.checked==null||s("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function re(n){var t=n.type,i=n.nodeName;return i&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(n){return n._valueTracker}function $e(n){n._valueTracker=null}function Le(n){var t="";return n&&(re(n)?t=n.checked?"true":"false":t=n.value),t}function On(n){var t=re(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,t);be(n[t]);var l=""+n[t];if(!(n.hasOwnProperty(t)||typeof i>"u"||typeof i.get!="function"||typeof i.set!="function")){var r=i.get,d=i.set;Object.defineProperty(n,t,{configurable:!0,get:function(){return r.call(this)},set:function(A){be(A),l=""+A,d.call(this,A)}}),Object.defineProperty(n,t,{enumerable:i.enumerable});var D={getValue:function(){return l},setValue:function(A){be(A),l=""+A},stopTracking:function(){$e(n),delete n[t]}};return D}}function Wn(n){He(n)||(n._valueTracker=On(n))}function ct(n){if(!n)return!1;var t=He(n);if(!t)return!0;var i=t.getValue(),l=Le(n);return l!==i?(t.setValue(l),!0):!1}function Vt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var _o=!1,Co=!1,ho=!1,Mt=!1;function ut(n){var t=n.type==="checkbox"||n.type==="radio";return t?n.checked!=null:n.value!=null}function Bo(n,t){var i=n,l=t.checked,r=it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked});return r}function Ri(n,t){Ga("input",t),t.checked!==void 0&&t.defaultChecked!==void 0&&!Co&&(s("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",tl()||"A component",t.type),Co=!0),t.value!==void 0&&t.defaultValue!==void 0&&!_o&&(s("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",tl()||"A component",t.type),_o=!0);var i=n,l=t.defaultValue==null?"":t.defaultValue;i._wrapperState={initialChecked:t.checked!=null?t.checked:t.defaultChecked,initialValue:pi(t.value!=null?t.value:l),controlled:ut(t)}}function T(n,t){var i=n,l=t.checked;l!=null&&Xt(i,"checked",l,!1)}function ee(n,t){var i=n;{var l=ut(t);!i._wrapperState.controlled&&l&&!Mt&&(s("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Mt=!0),i._wrapperState.controlled&&!l&&!ho&&(s("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ho=!0)}T(n,t);var r=pi(t.value),d=t.type;if(r!=null)d==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=Mo(r)):i.value!==Mo(r)&&(i.value=Mo(r));else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?xn(i,t.type,r):t.hasOwnProperty("defaultValue")&&xn(i,t.type,pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function xe(n,t,i){var l=n;if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type,d=r==="submit"||r==="reset";if(d&&(t.value===void 0||t.value===null))return;var D=Mo(l._wrapperState.initialValue);i||D!==l.value&&(l.value=D),l.defaultValue=D}var A=l.name;A!==""&&(l.name=""),l.defaultChecked=!l.defaultChecked,l.defaultChecked=!!l._wrapperState.initialChecked,A!==""&&(l.name=A)}function Ae(n,t){var i=n;ee(i,t),Ne(i,t)}function Ne(n,t){var i=t.name;if(t.type==="radio"&&i!=null){for(var l=n;l.parentNode;)l=l.parentNode;Je(i,"name");for(var r=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<r.length;d++){var D=r[d];if(!(D===n||D.form!==n.form)){var A=gu(D);if(!A)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");ct(D),ee(D,A)}}}}function xn(n,t,i){(t!=="number"||Vt(n.ownerDocument)!==n)&&(i==null?n.defaultValue=Mo(n._wrapperState.initialValue):n.defaultValue!==Mo(i)&&(n.defaultValue=Mo(i)))}var fn=!1,Tn=!1,tt=!1;function yt(n,t){t.value==null&&(typeof t.children=="object"&&t.children!==null?o.Children.forEach(t.children,function(i){i!=null&&(typeof i=="string"||typeof i=="number"||Tn||(Tn=!0,s("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):t.dangerouslySetInnerHTML!=null&&(tt||(tt=!0,s("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),t.selected!=null&&!fn&&(s("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),fn=!0)}function lt(n,t){t.value!=null&&n.setAttribute("value",Mo(pi(t.value)))}var Qe=Array.isArray;function Mn(n){return Qe(n)}var Et;Et=!1;function zt(){var n=tl();return n?`

Check the render method of \``+n+"`.":""}var sn=["value","defaultValue"];function hn(n){{Ga("select",n);for(var t=0;t<sn.length;t++){var i=sn[t];if(n[i]!=null){var l=Mn(n[i]);n.multiple&&!l?s("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",i,zt()):!n.multiple&&l&&s("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",i,zt())}}}}function Fn(n,t,i,l){var r=n.options;if(t){for(var d=i,D={},A=0;A<d.length;A++)D["$"+d[A]]=!0;for(var k=0;k<r.length;k++){var F=D.hasOwnProperty("$"+r[k].value);r[k].selected!==F&&(r[k].selected=F),F&&l&&(r[k].defaultSelected=!0)}}else{for(var Y=Mo(pi(i)),ce=null,se=0;se<r.length;se++){if(r[se].value===Y){r[se].selected=!0,l&&(r[se].defaultSelected=!0);return}ce===null&&!r[se].disabled&&(ce=r[se])}ce!==null&&(ce.selected=!0)}}function Vn(n,t){return it({},t,{value:void 0})}function pt(n,t){var i=n;hn(t),i._wrapperState={wasMultiple:!!t.multiple},t.value!==void 0&&t.defaultValue!==void 0&&!Et&&(s("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Et=!0)}function Dt(n,t){var i=n;i.multiple=!!t.multiple;var l=t.value;l!=null?Fn(i,!!t.multiple,l,!1):t.defaultValue!=null&&Fn(i,!!t.multiple,t.defaultValue,!0)}function Cn(n,t){var i=n,l=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!t.multiple;var r=t.value;r!=null?Fn(i,!!t.multiple,r,!1):l!==!!t.multiple&&(t.defaultValue!=null?Fn(i,!!t.multiple,t.defaultValue,!0):Fn(i,!!t.multiple,t.multiple?[]:"",!1))}function xt(n,t){var i=n,l=t.value;l!=null&&Fn(i,!!t.multiple,l,!1)}var bt=!1;function Pn(n,t){var i=n;if(t.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var l=it({},t,{value:void 0,defaultValue:void 0,children:Mo(i._wrapperState.initialValue)});return l}function so(n,t){var i=n;Ga("textarea",t),t.value!==void 0&&t.defaultValue!==void 0&&!bt&&(s("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",tl()||"A component"),bt=!0);var l=t.value;if(l==null){var r=t.children,d=t.defaultValue;if(r!=null){s("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(d!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Mn(r)){if(r.length>1)throw new Error("<textarea> can only have at most one child.");r=r[0]}d=r}}d==null&&(d=""),l=d}i._wrapperState={initialValue:pi(l)}}function eo(n,t){var i=n,l=pi(t.value),r=pi(t.defaultValue);if(l!=null){var d=Mo(l);d!==i.value&&(i.value=d),t.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)}r!=null&&(i.defaultValue=Mo(r))}function Rl(n,t){var i=n,l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ia(n,t){eo(n,t)}var Ei="http://www.w3.org/1999/xhtml",Vm="http://www.w3.org/1998/Math/MathML",Ur="http://www.w3.org/2000/svg";function wr(n){switch(n){case"svg":return Ur;case"math":return Vm;default:return Ei}}function Lo(n,t){return n==null||n===Ei?wr(t):n===Ur&&t==="foreignObject"?Ei:n}var km=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,r){MSApp.execUnsafeLocalFunction(function(){return n(t,i,l,r)})}:n},za,Tm=km(function(n,t){if(n.namespaceURI===Ur&&!("innerHTML"in n)){za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var i=za.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild);return}n.innerHTML=t}),ii=1,El=3,io=8,Al=9,nf=11,Pm=function(n,t){if(t){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===El){i.nodeValue=t;return}}n.textContent=t},RS={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},$s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function ES(n,t){return n+t.charAt(0).toUpperCase()+t.substring(1)}var AS=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(n){AS.forEach(function(t){$s[ES(t,n)]=$s[n]})});function tf(n,t,i){var l=t==null||typeof t=="boolean"||t==="";return l?"":!i&&typeof t=="number"&&t!==0&&!($s.hasOwnProperty(n)&&$s[n])?t+"px":(ke(t,n),(""+t).trim())}var US=/([A-Z])/g,wS=/^ms-/;function VS(n){return n.replace(US,"-$1").toLowerCase().replace(wS,"-ms-")}var Cx=function(){};{var kS=/^(?:webkit|moz|o)[A-Z]/,TS=/^-ms-/,PS=/-(.)/g,Rx=/;\s*$/,Vr={},of={},Ex=!1,Ax=!1,IS=function(n){return n.replace(PS,function(t,i){return i.toUpperCase()})},_S=function(n){Vr.hasOwnProperty(n)&&Vr[n]||(Vr[n]=!0,s("Unsupported style property %s. Did you mean %s?",n,IS(n.replace(TS,"ms-"))))},BS=function(n){Vr.hasOwnProperty(n)&&Vr[n]||(Vr[n]=!0,s("Unsupported vendor-prefixed style property %s. Did you mean %s?",n,n.charAt(0).toUpperCase()+n.slice(1)))},LS=function(n,t){of.hasOwnProperty(t)&&of[t]||(of[t]=!0,s(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,n,t.replace(Rx,"")))},$S=function(n,t){Ex||(Ex=!0,s("`NaN` is an invalid value for the `%s` css style property.",n))},OS=function(n,t){Ax||(Ax=!0,s("`Infinity` is an invalid value for the `%s` css style property.",n))};Cx=function(n,t){n.indexOf("-")>-1?_S(n):kS.test(n)?BS(n):Rx.test(t)&&LS(n,t),typeof t=="number"&&(isNaN(t)?$S(n,t):isFinite(t)||OS(n,t))}}var GS=Cx;function zS(n){{var t="",i="";for(var l in n)if(n.hasOwnProperty(l)){var r=n[l];if(r!=null){var d=l.indexOf("--")===0;t+=i+(d?l:VS(l))+":",t+=tf(l,r,d),i=";"}}return t||null}}function Ux(n,t){var i=n.style;for(var l in t)if(t.hasOwnProperty(l)){var r=l.indexOf("--")===0;r||GS(l,t[l]);var d=tf(l,t[l],r);l==="float"&&(l="cssFloat"),r?i.setProperty(l,d):i[l]=d}}function HS(n){return n==null||typeof n=="boolean"||n===""}function wx(n){var t={};for(var i in n)for(var l=RS[i]||[i],r=0;r<l.length;r++)t[l[r]]=i;return t}function WS(n,t){{if(!t)return;var i=wx(n),l=wx(t),r={};for(var d in i){var D=i[d],A=l[d];if(A&&D!==A){var k=D+","+A;if(r[k])continue;r[k]=!0,s("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",HS(n[D])?"Removing":"Updating",D,A)}}}}var FS={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},qS=it({menuitem:!0},FS),QS="__html";function lf(n,t){if(t){if(qS[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw new Error(n+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof t.dangerouslySetInnerHTML!="object"||!(QS in t.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&t.children!=null&&s("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),t.style!=null&&typeof t.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Ha(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Vx={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},kr={},YS=new RegExp("^(aria)-["+Ue+"]*$"),KS=new RegExp("^(aria)[A-Z]["+Ue+"]*$");function JS(n,t){{if(ye.call(kr,t)&&kr[t])return!0;if(KS.test(t)){var i="aria-"+t.slice(4).toLowerCase(),l=Vx.hasOwnProperty(i)?i:null;if(l==null)return s("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),kr[t]=!0,!0;if(t!==l)return s("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,l),kr[t]=!0,!0}if(YS.test(t)){var r=t.toLowerCase(),d=Vx.hasOwnProperty(r)?r:null;if(d==null)return kr[t]=!0,!1;if(t!==d)return s("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,d),kr[t]=!0,!0}}return!0}function XS(n,t){{var i=[];for(var l in t){var r=JS(n,l);r||i.push(l)}var d=i.map(function(D){return"`"+D+"`"}).join(", ");i.length===1?s("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",d,n):i.length>1&&s("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",d,n)}}function ZS(n,t){Ha(n,t)||XS(n,t)}var kx=!1;function ej(n,t){{if(n!=="input"&&n!=="textarea"&&n!=="select")return;t!=null&&t.value===null&&!kx&&(kx=!0,n==="select"&&t.multiple?s("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",n):s("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",n))}}var Tx=function(){};{var Qo={},Px=/^on./,nj=/^on[^A-Z]/,tj=new RegExp("^(aria)-["+Ue+"]*$"),oj=new RegExp("^(aria)[A-Z]["+Ue+"]*$");Tx=function(n,t,i,l){if(ye.call(Qo,t)&&Qo[t])return!0;var r=t.toLowerCase();if(r==="onfocusin"||r==="onfocusout")return s("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Qo[t]=!0,!0;if(l!=null){var d=l.registrationNameDependencies,D=l.possibleRegistrationNames;if(d.hasOwnProperty(t))return!0;var A=D.hasOwnProperty(r)?D[r]:null;if(A!=null)return s("Invalid event handler property `%s`. Did you mean `%s`?",t,A),Qo[t]=!0,!0;if(Px.test(t))return s("Unknown event handler property `%s`. It will be ignored.",t),Qo[t]=!0,!0}else if(Px.test(t))return nj.test(t)&&s("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),Qo[t]=!0,!0;if(tj.test(t)||oj.test(t))return!0;if(r==="innerhtml")return s("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Qo[t]=!0,!0;if(r==="aria")return s("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Qo[t]=!0,!0;if(r==="is"&&i!==null&&i!==void 0&&typeof i!="string")return s("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof i),Qo[t]=!0,!0;if(typeof i=="number"&&isNaN(i))return s("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),Qo[t]=!0,!0;var k=Bn(t),F=k!==null&&k.type===Ce;if(Im.hasOwnProperty(r)){var Y=Im[r];if(Y!==t)return s("Invalid DOM property `%s`. Did you mean `%s`?",t,Y),Qo[t]=!0,!0}else if(!F&&t!==r)return s("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,r),Qo[t]=!0,!0;return typeof i=="boolean"&&yn(t,i,k,!1)?(i?s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',i,t,t,i,t):s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',i,t,t,i,t,t,t),Qo[t]=!0,!0):F?!0:yn(t,i,k,!1)?(Qo[t]=!0,!1):((i==="false"||i==="true")&&k!==null&&k.type===Se&&(s("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",i,t,i==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,i),Qo[t]=!0),!0)}}var ij=function(n,t,i){{var l=[];for(var r in t){var d=Tx(n,r,t[r],i);d||l.push(r)}var D=l.map(function(A){return"`"+A+"`"}).join(", ");l.length===1?s("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,n):l.length>1&&s("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,n)}};function lj(n,t,i){Ha(n,t)||ij(n,t,i)}var Ix=1,af=2,Os=4,aj=Ix|af|Os,Gs=null;function rj(n){Gs!==null&&s("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Gs=n}function sj(){Gs===null&&s("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Gs=null}function cj(n){return n===Gs}function rf(n){var t=n.target||n.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===El?t.parentNode:t}var sf=null,Tr=null,Pr=null;function _x(n){var t=fa(n);if(t){if(typeof sf!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var i=t.stateNode;if(i){var l=gu(i);sf(t.stateNode,t.type,l)}}}function mj(n){sf=n}function Bx(n){Tr?Pr?Pr.push(n):Pr=[n]:Tr=n}function uj(){return Tr!==null||Pr!==null}function Lx(){if(Tr){var n=Tr,t=Pr;if(Tr=null,Pr=null,_x(n),t)for(var i=0;i<t.length;i++)_x(t[i])}}var $x=function(n,t){return n(t)},Ox=function(){},cf=!1;function dj(){var n=uj();n&&(Ox(),Lx())}function Gx(n,t,i){if(cf)return n(t,i);cf=!0;try{return $x(n,t,i)}finally{cf=!1,dj()}}function fj(n,t,i){$x=n,Ox=i}function pj(n){return n==="button"||n==="input"||n==="select"||n==="textarea"}function bj(n,t,i){switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(i.disabled&&pj(t));default:return!1}}function zs(n,t){var i=n.stateNode;if(i===null)return null;var l=gu(i);if(l===null)return null;var r=l[t];if(bj(t,n.type,l))return null;if(r&&typeof r!="function")throw new Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof r+"` type.");return r}var mf=!1;if(an)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){mf=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{mf=!1}function zx(n,t,i,l,r,d,D,A,k){var F=Array.prototype.slice.call(arguments,3);try{t.apply(i,F)}catch(Y){this.onError(Y)}}var Hx=zx;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var uf=document.createElement("react");Hx=function(t,i,l,r,d,D,A,k,F){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var Y=document.createEvent("Event"),ce=!1,se=!0,je=window.event,Me=Object.getOwnPropertyDescriptor(window,"event");function we(){uf.removeEventListener(Ve,kn,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=je)}var dn=Array.prototype.slice.call(arguments,3);function kn(){ce=!0,we(),i.apply(l,dn),se=!1}var Un,vt=!1,ft=!1;function ge(he){if(Un=he.error,vt=!0,Un===null&&he.colno===0&&he.lineno===0&&(ft=!0),he.defaultPrevented&&Un!=null&&typeof Un=="object")try{Un._suppressLogging=!0}catch{}}var Ve="react-"+(t||"invokeguardedcallback");if(window.addEventListener("error",ge),uf.addEventListener(Ve,kn,!1),Y.initEvent(Ve,!1,!1),uf.dispatchEvent(Y),Me&&Object.defineProperty(window,"event",Me),ce&&se&&(vt?ft&&(Un=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Un=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Un)),window.removeEventListener("error",ge),!ce)return we(),zx.apply(this,arguments)}}var Nj=Hx,Ir=!1,_m=null,Bm=!1,df=null,xj={onError:function(n){Ir=!0,_m=n}};function ff(n,t,i,l,r,d,D,A,k){Ir=!1,_m=null,Nj.apply(xj,arguments)}function gj(n,t,i,l,r,d,D,A,k){if(ff.apply(this,arguments),Ir){var F=pf();Bm||(Bm=!0,df=F)}}function hj(){if(Bm){var n=df;throw Bm=!1,df=null,n}}function vj(){return Ir}function pf(){if(Ir){var n=_m;return Ir=!1,_m=null,n}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function _r(n){return n._reactInternals}function yj(n){return n._reactInternals!==void 0}function Dj(n,t){n._reactInternals=t}var Gn=0,Br=1,lo=2,At=4,Wa=16,Ws=32,Wx=64,Ut=128,Ul=256,Fa=512,Lr=1024,la=2048,wl=4096,qa=8192,bf=16384,Sj=32767,Lm=32768,Yo=65536,Nf=131072,Fx=1048576,xf=2097152,Qa=4194304,gf=8388608,aa=16777216,hf=33554432,vf=At|Lr|0,yf=lo|At|Wa|Ws|Fa|wl|qa,Fs=At|Wx|Fa|qa,$r=la|Wa,Vl=Qa|gf|xf,jj=c.ReactCurrentOwner;function Ya(n){var t=n,i=n;if(n.alternate)for(;t.return;)t=t.return;else{var l=t;do t=l,(t.flags&(lo|wl))!==Gn&&(i=t.return),l=t.return;while(l)}return t.tag===h?i:null}function qx(n){if(n.tag===R){var t=n.memoizedState;if(t===null){var i=n.alternate;i!==null&&(t=i.memoizedState)}if(t!==null)return t.dehydrated}return null}function Qx(n){return n.tag===h?n.stateNode.containerInfo:null}function Mj(n){return Ya(n)===n}function Cj(n){{var t=jj.current;if(t!==null&&t.tag===g){var i=t,l=i.stateNode;l._warnedAboutRefsInRender||s("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Qn(i)||"A component"),l._warnedAboutRefsInRender=!0}}var r=_r(n);return r?Ya(r)===r:!1}function Yx(n){if(Ya(n)!==n)throw new Error("Unable to find node on an unmounted component.")}function Kx(n){var t=n.alternate;if(!t){var i=Ya(n);if(i===null)throw new Error("Unable to find node on an unmounted component.");return i!==n?null:n}for(var l=n,r=t;;){var d=l.return;if(d===null)break;var D=d.alternate;if(D===null){var A=d.return;if(A!==null){l=r=A;continue}break}if(d.child===D.child){for(var k=d.child;k;){if(k===l)return Yx(d),n;if(k===r)return Yx(d),t;k=k.sibling}throw new Error("Unable to find node on an unmounted component.")}if(l.return!==r.return)l=d,r=D;else{for(var F=!1,Y=d.child;Y;){if(Y===l){F=!0,l=d,r=D;break}if(Y===r){F=!0,r=d,l=D;break}Y=Y.sibling}if(!F){for(Y=D.child;Y;){if(Y===l){F=!0,l=D,r=d;break}if(Y===r){F=!0,r=D,l=d;break}Y=Y.sibling}if(!F)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(l.alternate!==r)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(l.tag!==h)throw new Error("Unable to find node on an unmounted component.");return l.stateNode.current===l?n:t}function Jx(n){var t=Kx(n);return t!==null?Xx(t):null}function Xx(n){if(n.tag===y||n.tag===E)return n;for(var t=n.child;t!==null;){var i=Xx(t);if(i!==null)return i;t=t.sibling}return null}function Rj(n){var t=Kx(n);return t!==null?Zx(t):null}function Zx(n){if(n.tag===y||n.tag===E)return n;for(var t=n.child;t!==null;){if(t.tag!==N){var i=Zx(t);if(i!==null)return i}t=t.sibling}return null}var e0=a.unstable_scheduleCallback,Ej=a.unstable_cancelCallback,Aj=a.unstable_shouldYield,Uj=a.unstable_requestPaint,vo=a.unstable_now,wj=a.unstable_getCurrentPriorityLevel,$m=a.unstable_ImmediatePriority,Df=a.unstable_UserBlockingPriority,Ka=a.unstable_NormalPriority,Vj=a.unstable_LowPriority,Sf=a.unstable_IdlePriority,kj=a.unstable_yieldValue,Tj=a.unstable_setDisableYieldValue,Or=null,$o=null,bn=null,ol=!1,Li=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function Pj(n){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return s("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{ie&&(n=it({},n,{getLaneLabelMap:Oj,injectProfilingHooks:$j})),Or=t.inject(n),$o=t}catch(i){s("React instrumentation encountered an error: %s.",i)}return!!t.checkDCE}function Ij(n,t){if($o&&typeof $o.onScheduleFiberRoot=="function")try{$o.onScheduleFiberRoot(Or,n,t)}catch(i){ol||(ol=!0,s("React instrumentation encountered an error: %s",i))}}function _j(n,t){if($o&&typeof $o.onCommitFiberRoot=="function")try{var i=(n.current.flags&Ut)===Ut;if(fe){var l;switch(t){case xi:l=$m;break;case Tl:l=Df;break;case Pl:l=Ka;break;case qm:l=Sf;break;default:l=Ka;break}$o.onCommitFiberRoot(Or,n,l,i)}}catch(r){ol||(ol=!0,s("React instrumentation encountered an error: %s",r))}}function Bj(n){if($o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Or,n)}catch(t){ol||(ol=!0,s("React instrumentation encountered an error: %s",t))}}function Lj(n){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Or,n)}catch(t){ol||(ol=!0,s("React instrumentation encountered an error: %s",t))}}function yo(n){if(typeof kj=="function"&&(Tj(n),u(n)),$o&&typeof $o.setStrictMode=="function")try{$o.setStrictMode(Or,n)}catch(t){ol||(ol=!0,s("React instrumentation encountered an error: %s",t))}}function $j(n){bn=n}function Oj(){{for(var n=new Map,t=1,i=0;i<Mf;i++){var l=rM(t);n.set(t,l),t*=2}return n}}function Gj(n){bn!==null&&typeof bn.markCommitStarted=="function"&&bn.markCommitStarted(n)}function n0(){bn!==null&&typeof bn.markCommitStopped=="function"&&bn.markCommitStopped()}function qs(n){bn!==null&&typeof bn.markComponentRenderStarted=="function"&&bn.markComponentRenderStarted(n)}function Gr(){bn!==null&&typeof bn.markComponentRenderStopped=="function"&&bn.markComponentRenderStopped()}function zj(n){bn!==null&&typeof bn.markComponentPassiveEffectMountStarted=="function"&&bn.markComponentPassiveEffectMountStarted(n)}function Hj(){bn!==null&&typeof bn.markComponentPassiveEffectMountStopped=="function"&&bn.markComponentPassiveEffectMountStopped()}function Wj(n){bn!==null&&typeof bn.markComponentPassiveEffectUnmountStarted=="function"&&bn.markComponentPassiveEffectUnmountStarted(n)}function Fj(){bn!==null&&typeof bn.markComponentPassiveEffectUnmountStopped=="function"&&bn.markComponentPassiveEffectUnmountStopped()}function qj(n){bn!==null&&typeof bn.markComponentLayoutEffectMountStarted=="function"&&bn.markComponentLayoutEffectMountStarted(n)}function Qj(){bn!==null&&typeof bn.markComponentLayoutEffectMountStopped=="function"&&bn.markComponentLayoutEffectMountStopped()}function t0(n){bn!==null&&typeof bn.markComponentLayoutEffectUnmountStarted=="function"&&bn.markComponentLayoutEffectUnmountStarted(n)}function o0(){bn!==null&&typeof bn.markComponentLayoutEffectUnmountStopped=="function"&&bn.markComponentLayoutEffectUnmountStopped()}function Yj(n,t,i){bn!==null&&typeof bn.markComponentErrored=="function"&&bn.markComponentErrored(n,t,i)}function Kj(n,t,i){bn!==null&&typeof bn.markComponentSuspended=="function"&&bn.markComponentSuspended(n,t,i)}function Jj(n){bn!==null&&typeof bn.markLayoutEffectsStarted=="function"&&bn.markLayoutEffectsStarted(n)}function Xj(){bn!==null&&typeof bn.markLayoutEffectsStopped=="function"&&bn.markLayoutEffectsStopped()}function Zj(n){bn!==null&&typeof bn.markPassiveEffectsStarted=="function"&&bn.markPassiveEffectsStarted(n)}function eM(){bn!==null&&typeof bn.markPassiveEffectsStopped=="function"&&bn.markPassiveEffectsStopped()}function i0(n){bn!==null&&typeof bn.markRenderStarted=="function"&&bn.markRenderStarted(n)}function nM(){bn!==null&&typeof bn.markRenderYielded=="function"&&bn.markRenderYielded()}function l0(){bn!==null&&typeof bn.markRenderStopped=="function"&&bn.markRenderStopped()}function tM(n){bn!==null&&typeof bn.markRenderScheduled=="function"&&bn.markRenderScheduled(n)}function oM(n,t){bn!==null&&typeof bn.markForceUpdateScheduled=="function"&&bn.markForceUpdateScheduled(n,t)}function jf(n,t){bn!==null&&typeof bn.markStateUpdateScheduled=="function"&&bn.markStateUpdateScheduled(n,t)}var In=0,gt=1,kt=2,Kt=8,il=16,a0=Math.clz32?Math.clz32:aM,iM=Math.log,lM=Math.LN2;function aM(n){var t=n>>>0;return t===0?32:31-(iM(t)/lM|0)|0}var Mf=31,Ye=0,Do=0,Yn=1,zr=2,kl=4,Ja=8,ll=16,Qs=32,Hr=4194240,Ys=64,Cf=128,Rf=256,Ef=512,Af=1024,Uf=2048,wf=4096,Vf=8192,kf=16384,Tf=32768,Pf=65536,If=131072,_f=262144,Bf=524288,Lf=1048576,$f=2097152,Om=130023424,Wr=4194304,Of=8388608,Gf=16777216,zf=33554432,Hf=67108864,r0=Wr,Ks=134217728,s0=268435455,Js=268435456,Xa=536870912,bi=1073741824;function rM(n){{if(n&Yn)return"Sync";if(n&zr)return"InputContinuousHydration";if(n&kl)return"InputContinuous";if(n&Ja)return"DefaultHydration";if(n&ll)return"Default";if(n&Qs)return"TransitionHydration";if(n&Hr)return"Transition";if(n&Om)return"Retry";if(n&Ks)return"SelectiveHydration";if(n&Js)return"IdleHydration";if(n&Xa)return"Idle";if(n&bi)return"Offscreen"}}var Ht=-1,Gm=Ys,zm=Wr;function Xs(n){switch(Za(n)){case Yn:return Yn;case zr:return zr;case kl:return kl;case Ja:return Ja;case ll:return ll;case Qs:return Qs;case Ys:case Cf:case Rf:case Ef:case Af:case Uf:case wf:case Vf:case kf:case Tf:case Pf:case If:case _f:case Bf:case Lf:case $f:return n&Hr;case Wr:case Of:case Gf:case zf:case Hf:return n&Om;case Ks:return Ks;case Js:return Js;case Xa:return Xa;case bi:return bi;default:return s("Should have found matching lanes. This is a bug in React."),n}}function Hm(n,t){var i=n.pendingLanes;if(i===Ye)return Ye;var l=Ye,r=n.suspendedLanes,d=n.pingedLanes,D=i&s0;if(D!==Ye){var A=D&~r;if(A!==Ye)l=Xs(A);else{var k=D&d;k!==Ye&&(l=Xs(k))}}else{var F=i&~r;F!==Ye?l=Xs(F):d!==Ye&&(l=Xs(d))}if(l===Ye)return Ye;if(t!==Ye&&t!==l&&(t&r)===Ye){var Y=Za(l),ce=Za(t);if(Y>=ce||Y===ll&&(ce&Hr)!==Ye)return t}(l&kl)!==Ye&&(l|=i&ll);var se=n.entangledLanes;if(se!==Ye)for(var je=n.entanglements,Me=l&se;Me>0;){var we=er(Me),dn=1<<we;l|=je[we],Me&=~dn}return l}function sM(n,t){for(var i=n.eventTimes,l=Ht;t>0;){var r=er(t),d=1<<r,D=i[r];D>l&&(l=D),t&=~d}return l}function cM(n,t){switch(n){case Yn:case zr:case kl:return t+250;case Ja:case ll:case Qs:case Ys:case Cf:case Rf:case Ef:case Af:case Uf:case wf:case Vf:case kf:case Tf:case Pf:case If:case _f:case Bf:case Lf:case $f:return t+5e3;case Wr:case Of:case Gf:case zf:case Hf:return Ht;case Ks:case Js:case Xa:case bi:return Ht;default:return s("Should have found matching lanes. This is a bug in React."),Ht}}function mM(n,t){for(var i=n.pendingLanes,l=n.suspendedLanes,r=n.pingedLanes,d=n.expirationTimes,D=i;D>0;){var A=er(D),k=1<<A,F=d[A];F===Ht?((k&l)===Ye||(k&r)!==Ye)&&(d[A]=cM(k,t)):F<=t&&(n.expiredLanes|=k),D&=~k}}function uM(n){return Xs(n.pendingLanes)}function Wf(n){var t=n.pendingLanes&~bi;return t!==Ye?t:t&bi?bi:Ye}function dM(n){return(n&Yn)!==Ye}function Ff(n){return(n&s0)!==Ye}function c0(n){return(n&Om)===n}function fM(n){var t=Yn|kl|ll;return(n&t)===Ye}function pM(n){return(n&Hr)===n}function Wm(n,t){var i=zr|kl|Ja|ll;return(t&i)!==Ye}function bM(n,t){return(t&n.expiredLanes)!==Ye}function m0(n){return(n&Hr)!==Ye}function u0(){var n=Gm;return Gm<<=1,(Gm&Hr)===Ye&&(Gm=Ys),n}function NM(){var n=zm;return zm<<=1,(zm&Om)===Ye&&(zm=Wr),n}function Za(n){return n&-n}function Zs(n){return Za(n)}function er(n){return 31-a0(n)}function qf(n){return er(n)}function Ni(n,t){return(n&t)!==Ye}function Fr(n,t){return(n&t)===t}function at(n,t){return n|t}function Fm(n,t){return n&~t}function d0(n,t){return n&t}function yk(n){return n}function xM(n,t){return n!==Do&&n<t?n:t}function Qf(n){for(var t=[],i=0;i<Mf;i++)t.push(n);return t}function ec(n,t,i){n.pendingLanes|=t,t!==Xa&&(n.suspendedLanes=Ye,n.pingedLanes=Ye);var l=n.eventTimes,r=qf(t);l[r]=i}function gM(n,t){n.suspendedLanes|=t,n.pingedLanes&=~t;for(var i=n.expirationTimes,l=t;l>0;){var r=er(l),d=1<<r;i[r]=Ht,l&=~d}}function f0(n,t,i){n.pingedLanes|=n.suspendedLanes&t}function hM(n,t){var i=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=Ye,n.pingedLanes=Ye,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t;for(var l=n.entanglements,r=n.eventTimes,d=n.expirationTimes,D=i;D>0;){var A=er(D),k=1<<A;l[A]=Ye,r[A]=Ht,d[A]=Ht,D&=~k}}function Yf(n,t){for(var i=n.entangledLanes|=t,l=n.entanglements,r=i;r;){var d=er(r),D=1<<d;D&t|l[d]&t&&(l[d]|=t),r&=~D}}function vM(n,t){var i=Za(t),l;switch(i){case kl:l=zr;break;case ll:l=Ja;break;case Ys:case Cf:case Rf:case Ef:case Af:case Uf:case wf:case Vf:case kf:case Tf:case Pf:case If:case _f:case Bf:case Lf:case $f:case Wr:case Of:case Gf:case zf:case Hf:l=Qs;break;case Xa:l=Js;break;default:l=Do;break}return(l&(n.suspendedLanes|t))!==Do?Do:l}function p0(n,t,i){if(Li)for(var l=n.pendingUpdatersLaneMap;i>0;){var r=qf(i),d=1<<r,D=l[r];D.add(t),i&=~d}}function b0(n,t){if(Li)for(var i=n.pendingUpdatersLaneMap,l=n.memoizedUpdaters;t>0;){var r=qf(t),d=1<<r,D=i[r];D.size>0&&(D.forEach(function(A){var k=A.alternate;(k===null||!l.has(k))&&l.add(A)}),D.clear()),t&=~d}}function N0(n,t){return null}var xi=Yn,Tl=kl,Pl=ll,qm=Xa,nc=Do;function $i(){return nc}function So(n){nc=n}function yM(n,t){var i=nc;try{return nc=n,t()}finally{nc=i}}function DM(n,t){return n!==0&&n<t?n:t}function SM(n,t){return n>t?n:t}function Kf(n,t){return n!==0&&n<t}function x0(n){var t=Za(n);return Kf(xi,t)?Kf(Tl,t)?Ff(t)?Pl:qm:Tl:xi}function Qm(n){var t=n.current.memoizedState;return t.isDehydrated}var g0;function jM(n){g0=n}function MM(n){g0(n)}var Jf;function CM(n){Jf=n}var h0;function RM(n){h0=n}var v0;function EM(n){v0=n}var y0;function AM(n){y0=n}var Xf=!1,Ym=[],ra=null,sa=null,ca=null,tc=new Map,oc=new Map,ma=[],UM=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function wM(n){return UM.indexOf(n)>-1}function VM(n,t,i,l,r){return{blockedOn:n,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[l]}}function D0(n,t){switch(n){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":{var i=t.pointerId;tc.delete(i);break}case"gotpointercapture":case"lostpointercapture":{var l=t.pointerId;oc.delete(l);break}}}function ic(n,t,i,l,r,d){if(n===null||n.nativeEvent!==d){var D=VM(t,i,l,r,d);if(t!==null){var A=fa(t);A!==null&&Jf(A)}return D}n.eventSystemFlags|=l;var k=n.targetContainers;return r!==null&&k.indexOf(r)===-1&&k.push(r),n}function kM(n,t,i,l,r){switch(t){case"focusin":{var d=r;return ra=ic(ra,n,t,i,l,d),!0}case"dragenter":{var D=r;return sa=ic(sa,n,t,i,l,D),!0}case"mouseover":{var A=r;return ca=ic(ca,n,t,i,l,A),!0}case"pointerover":{var k=r,F=k.pointerId;return tc.set(F,ic(tc.get(F)||null,n,t,i,l,k)),!0}case"gotpointercapture":{var Y=r,ce=Y.pointerId;return oc.set(ce,ic(oc.get(ce)||null,n,t,i,l,Y)),!0}}return!1}function S0(n){var t=or(n.target);if(t!==null){var i=Ya(t);if(i!==null){var l=i.tag;if(l===R){var r=qx(i);if(r!==null){n.blockedOn=r,y0(n.priority,function(){h0(i)});return}}else if(l===h){var d=i.stateNode;if(Qm(d)){n.blockedOn=Qx(i);return}}}}n.blockedOn=null}function TM(n){for(var t=v0(),i={blockedOn:null,target:n,priority:t},l=0;l<ma.length&&Kf(t,ma[l].priority);l++);ma.splice(l,0,i),l===0&&S0(i)}function Km(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;t.length>0;){var i=t[0],l=np(n.domEventName,n.eventSystemFlags,i,n.nativeEvent);if(l===null){var r=n.nativeEvent,d=new r.constructor(r.type,r);rj(d),r.target.dispatchEvent(d),sj()}else{var D=fa(l);return D!==null&&Jf(D),n.blockedOn=l,!1}t.shift()}return!0}function j0(n,t,i){Km(n)&&i.delete(t)}function PM(){Xf=!1,ra!==null&&Km(ra)&&(ra=null),sa!==null&&Km(sa)&&(sa=null),ca!==null&&Km(ca)&&(ca=null),tc.forEach(j0),oc.forEach(j0)}function lc(n,t){n.blockedOn===t&&(n.blockedOn=null,Xf||(Xf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,PM)))}function ac(n){if(Ym.length>0){lc(Ym[0],n);for(var t=1;t<Ym.length;t++){var i=Ym[t];i.blockedOn===n&&(i.blockedOn=null)}}ra!==null&&lc(ra,n),sa!==null&&lc(sa,n),ca!==null&&lc(ca,n);var l=function(A){return lc(A,n)};tc.forEach(l),oc.forEach(l);for(var r=0;r<ma.length;r++){var d=ma[r];d.blockedOn===n&&(d.blockedOn=null)}for(;ma.length>0;){var D=ma[0];if(D.blockedOn!==null)break;S0(D),D.blockedOn===null&&ma.shift()}}var qr=c.ReactCurrentBatchConfig,Zf=!0;function M0(n){Zf=!!n}function IM(){return Zf}function _M(n,t,i){var l=C0(t),r;switch(l){case xi:r=BM;break;case Tl:r=LM;break;case Pl:default:r=ep;break}return r.bind(null,t,i,n)}function BM(n,t,i,l){var r=$i(),d=qr.transition;qr.transition=null;try{So(xi),ep(n,t,i,l)}finally{So(r),qr.transition=d}}function LM(n,t,i,l){var r=$i(),d=qr.transition;qr.transition=null;try{So(Tl),ep(n,t,i,l)}finally{So(r),qr.transition=d}}function ep(n,t,i,l){Zf&&$M(n,t,i,l)}function $M(n,t,i,l){var r=np(n,t,i,l);if(r===null){bp(n,t,l,Jm,i),D0(n,l);return}if(kM(r,n,t,i,l)){l.stopPropagation();return}if(D0(n,l),t&Os&&wM(n)){for(;r!==null;){var d=fa(r);d!==null&&MM(d);var D=np(n,t,i,l);if(D===null&&bp(n,t,l,Jm,i),D===r)break;r=D}r!==null&&l.stopPropagation();return}bp(n,t,l,null,i)}var Jm=null;function np(n,t,i,l){Jm=null;var r=rf(l),d=or(r);if(d!==null){var D=Ya(d);if(D===null)d=null;else{var A=D.tag;if(A===R){var k=qx(D);if(k!==null)return k;d=null}else if(A===h){var F=D.stateNode;if(Qm(F))return Qx(D);d=null}else D!==d&&(d=null)}}return Jm=d,null}function C0(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return xi;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Tl;case"message":{var t=wj();switch(t){case $m:return xi;case Df:return Tl;case Ka:case Vj:return Pl;case Sf:return qm;default:return Pl}}default:return Pl}}function OM(n,t,i){return n.addEventListener(t,i,!1),i}function GM(n,t,i){return n.addEventListener(t,i,!0),i}function zM(n,t,i,l){return n.addEventListener(t,i,{capture:!0,passive:l}),i}function HM(n,t,i,l){return n.addEventListener(t,i,{passive:l}),i}var rc=null,tp=null,sc=null;function WM(n){return rc=n,tp=E0(),!0}function FM(){rc=null,tp=null,sc=null}function R0(){if(sc)return sc;var n,t=tp,i=t.length,l,r=E0(),d=r.length;for(n=0;n<i&&t[n]===r[n];n++);var D=i-n;for(l=1;l<=D&&t[i-l]===r[d-l];l++);var A=l>1?1-l:void 0;return sc=r.slice(n,A),sc}function E0(){return"value"in rc?rc.value:rc.textContent}function Xm(n){var t,i=n.keyCode;return"charCode"in n?(t=n.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),t>=32||t===13?t:0}function Zm(){return!0}function A0(){return!1}function gi(n){function t(i,l,r,d,D){this._reactName=i,this._targetInst=r,this.type=l,this.nativeEvent=d,this.target=D,this.currentTarget=null;for(var A in n)if(n.hasOwnProperty(A)){var k=n[A];k?this[A]=k(d):this[A]=d[A]}var F=d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1;return F?this.isDefaultPrevented=Zm:this.isDefaultPrevented=A0,this.isPropagationStopped=A0,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},op=gi(Qr),cc=it({},Qr,{view:0,detail:0}),qM=gi(cc),ip,lp,mc;function QM(n){n!==mc&&(mc&&n.type==="mousemove"?(ip=n.screenX-mc.screenX,lp=n.screenY-mc.screenY):(ip=0,lp=0),mc=n)}var eu=it({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(QM(n),ip)},movementY:function(n){return"movementY"in n?n.movementY:lp}}),U0=gi(eu),YM=it({},eu,{dataTransfer:0}),KM=gi(YM),JM=it({},cc,{relatedTarget:0}),ap=gi(JM),XM=it({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ZM=gi(XM),eC=it({},Qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nC=gi(eC),tC=it({},Qr,{data:0}),w0=gi(tC),oC=w0,iC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function aC(n){if(n.key){var t=iC[n.key]||n.key;if(t!=="Unidentified")return t}if(n.type==="keypress"){var i=Xm(n);return i===13?"Enter":String.fromCharCode(i)}return n.type==="keydown"||n.type==="keyup"?lC[n.keyCode]||"Unidentified":""}var rC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(n){var t=this,i=t.nativeEvent;if(i.getModifierState)return i.getModifierState(n);var l=rC[n];return l?!!i[l]:!1}function rp(n){return sC}var cC=it({},cc,{key:aC,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(n){return n.type==="keypress"?Xm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mC=gi(cC),uC=it({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=gi(uC),dC=it({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),fC=gi(dC),pC=it({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bC=gi(pC),NC=it({},eu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=gi(NC),gC=[9,13,27,32],k0=229,sp=an&&"CompositionEvent"in window,uc=null;an&&"documentMode"in document&&(uc=document.documentMode);var hC=an&&"TextEvent"in window&&!uc,T0=an&&(!sp||uc&&uc>8&&uc<=11),P0=32,I0=String.fromCharCode(P0);function vC(){Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Ge("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Ge("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var _0=!1;function yC(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function DC(n){switch(n){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function SC(n,t){return n==="keydown"&&t.keyCode===k0}function B0(n,t){switch(n){case"keyup":return gC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==k0;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(n){var t=n.detail;return typeof t=="object"&&"data"in t?t.data:null}function $0(n){return n.locale==="ko"}var Yr=!1;function jC(n,t,i,l,r){var d,D;if(sp?d=DC(t):Yr?B0(t,l)&&(d="onCompositionEnd"):SC(t,l)&&(d="onCompositionStart"),!d)return null;T0&&!$0(l)&&(!Yr&&d==="onCompositionStart"?Yr=WM(r):d==="onCompositionEnd"&&Yr&&(D=R0()));var A=lu(i,d);if(A.length>0){var k=new w0(d,t,null,l,r);if(n.push({event:k,listeners:A}),D)k.data=D;else{var F=L0(l);F!==null&&(k.data=F)}}}function MC(n,t){switch(n){case"compositionend":return L0(t);case"keypress":var i=t.which;return i!==P0?null:(_0=!0,I0);case"textInput":var l=t.data;return l===I0&&_0?null:l;default:return null}}function CC(n,t){if(Yr){if(n==="compositionend"||!sp&&B0(n,t)){var i=R0();return FM(),Yr=!1,i}return null}switch(n){case"paste":return null;case"keypress":if(!yC(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T0&&!$0(t)?null:t.data;default:return null}}function RC(n,t,i,l,r){var d;if(hC?d=MC(t,l):d=CC(t,l),!d)return null;var D=lu(i,"onBeforeInput");if(D.length>0){var A=new oC("onBeforeInput","beforeinput",null,l,r);n.push({event:A,listeners:D}),A.data=d}}function EC(n,t,i,l,r,d,D){jC(n,t,i,l,r),RC(n,t,i,l,r)}var AC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!AC[n.type]:t==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function UC(n){if(!an)return!1;var t="on"+n,i=t in document;if(!i){var l=document.createElement("div");l.setAttribute(t,"return;"),i=typeof l[t]=="function"}return i}function wC(){Ge("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function G0(n,t,i,l){Bx(l);var r=lu(t,"onChange");if(r.length>0){var d=new op("onChange","change",null,i,l);n.push({event:d,listeners:r})}}var dc=null,fc=null;function VC(n){var t=n.nodeName&&n.nodeName.toLowerCase();return t==="select"||t==="input"&&n.type==="file"}function kC(n){var t=[];G0(t,fc,n,rf(n)),Gx(TC,t)}function TC(n){ag(n,0)}function nu(n){var t=ns(n);if(ct(t))return n}function PC(n,t){if(n==="change")return t}var z0=!1;an&&(z0=UC("input")&&(!document.documentMode||document.documentMode>9));function IC(n,t){dc=n,fc=t,dc.attachEvent("onpropertychange",W0)}function H0(){dc&&(dc.detachEvent("onpropertychange",W0),dc=null,fc=null)}function W0(n){n.propertyName==="value"&&nu(fc)&&kC(n)}function _C(n,t,i){n==="focusin"?(H0(),IC(t,i)):n==="focusout"&&H0()}function BC(n,t){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nu(fc)}function LC(n){var t=n.nodeName;return t&&t.toLowerCase()==="input"&&(n.type==="checkbox"||n.type==="radio")}function $C(n,t){if(n==="click")return nu(t)}function OC(n,t){if(n==="input"||n==="change")return nu(t)}function GC(n){var t=n._wrapperState;!t||!t.controlled||n.type!=="number"||xn(n,"number",n.value)}function zC(n,t,i,l,r,d,D){var A=i?ns(i):window,k,F;if(VC(A)?k=PC:O0(A)?z0?k=OC:(k=BC,F=_C):LC(A)&&(k=$C),k){var Y=k(t,i);if(Y){G0(n,Y,l,r);return}}F&&F(t,A,i),t==="focusout"&&GC(A)}function HC(){ve("onMouseEnter",["mouseout","mouseover"]),ve("onMouseLeave",["mouseout","mouseover"]),ve("onPointerEnter",["pointerout","pointerover"]),ve("onPointerLeave",["pointerout","pointerover"])}function WC(n,t,i,l,r,d,D){var A=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout";if(A&&!cj(l)){var F=l.relatedTarget||l.fromElement;if(F&&(or(F)||Ec(F)))return}if(!(!k&&!A)){var Y;if(r.window===r)Y=r;else{var ce=r.ownerDocument;ce?Y=ce.defaultView||ce.parentWindow:Y=window}var se,je;if(k){var Me=l.relatedTarget||l.toElement;if(se=i,je=Me?or(Me):null,je!==null){var we=Ya(je);(je!==we||je.tag!==y&&je.tag!==E)&&(je=null)}}else se=null,je=i;if(se!==je){var dn=U0,kn="onMouseLeave",Un="onMouseEnter",vt="mouse";(t==="pointerout"||t==="pointerover")&&(dn=V0,kn="onPointerLeave",Un="onPointerEnter",vt="pointer");var ft=se==null?Y:ns(se),ge=je==null?Y:ns(je),Ve=new dn(kn,vt+"leave",se,l,r);Ve.target=ft,Ve.relatedTarget=ge;var he=null,en=or(r);if(en===i){var vn=new dn(Un,vt+"enter",je,l,r);vn.target=ge,vn.relatedTarget=ft,he=vn}b1(n,Ve,he,se,je)}}}function FC(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var hi=typeof Object.is=="function"?Object.is:FC;function pc(n,t){if(hi(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var i=Object.keys(n),l=Object.keys(t);if(i.length!==l.length)return!1;for(var r=0;r<i.length;r++){var d=i[r];if(!ye.call(t,d)||!hi(n[d],t[d]))return!1}return!0}function F0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qC(n){for(;n;){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function q0(n,t){for(var i=F0(n),l=0,r=0;i;){if(i.nodeType===El){if(r=l+i.textContent.length,l<=t&&r>=t)return{node:i,offset:t-l};l=r}i=F0(qC(i))}}function QC(n){var t=n.ownerDocument,i=t&&t.defaultView||window,l=i.getSelection&&i.getSelection();if(!l||l.rangeCount===0)return null;var r=l.anchorNode,d=l.anchorOffset,D=l.focusNode,A=l.focusOffset;try{r.nodeType,D.nodeType}catch{return null}return YC(n,r,d,D,A)}function YC(n,t,i,l,r){var d=0,D=-1,A=-1,k=0,F=0,Y=n,ce=null;e:for(;;){for(var se=null;Y===t&&(i===0||Y.nodeType===El)&&(D=d+i),Y===l&&(r===0||Y.nodeType===El)&&(A=d+r),Y.nodeType===El&&(d+=Y.nodeValue.length),(se=Y.firstChild)!==null;)ce=Y,Y=se;for(;;){if(Y===n)break e;if(ce===t&&++k===i&&(D=d),ce===l&&++F===r&&(A=d),(se=Y.nextSibling)!==null)break;Y=ce,ce=Y.parentNode}Y=se}return D===-1||A===-1?null:{start:D,end:A}}function KC(n,t){var i=n.ownerDocument||document,l=i&&i.defaultView||window;if(l.getSelection){var r=l.getSelection(),d=n.textContent.length,D=Math.min(t.start,d),A=t.end===void 0?D:Math.min(t.end,d);if(!r.extend&&D>A){var k=A;A=D,D=k}var F=q0(n,D),Y=q0(n,A);if(F&&Y){if(r.rangeCount===1&&r.anchorNode===F.node&&r.anchorOffset===F.offset&&r.focusNode===Y.node&&r.focusOffset===Y.offset)return;var ce=i.createRange();ce.setStart(F.node,F.offset),r.removeAllRanges(),D>A?(r.addRange(ce),r.extend(Y.node,Y.offset)):(ce.setEnd(Y.node,Y.offset),r.addRange(ce))}}}function Q0(n){return n&&n.nodeType===El}function Y0(n,t){return!n||!t?!1:n===t?!0:Q0(n)?!1:Q0(t)?Y0(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1}function JC(n){return n&&n.ownerDocument&&Y0(n.ownerDocument.documentElement,n)}function XC(n){try{return typeof n.contentWindow.location.href=="string"}catch{return!1}}function K0(){for(var n=window,t=Vt();t instanceof n.HTMLIFrameElement;){if(XC(t))n=t.contentWindow;else return t;t=Vt(n.document)}return t}function cp(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function ZC(){var n=K0();return{focusedElem:n,selectionRange:cp(n)?n1(n):null}}function e1(n){var t=K0(),i=n.focusedElem,l=n.selectionRange;if(t!==i&&JC(i)){l!==null&&cp(i)&&t1(i,l);for(var r=[],d=i;d=d.parentNode;)d.nodeType===ii&&r.push({element:d,left:d.scrollLeft,top:d.scrollTop});typeof i.focus=="function"&&i.focus();for(var D=0;D<r.length;D++){var A=r[D];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}}function n1(n){var t;return"selectionStart"in n?t={start:n.selectionStart,end:n.selectionEnd}:t=QC(n),t||{start:0,end:0}}function t1(n,t){var i=t.start,l=t.end;l===void 0&&(l=i),"selectionStart"in n?(n.selectionStart=i,n.selectionEnd=Math.min(l,n.value.length)):KC(n,t)}var o1=an&&"documentMode"in document&&document.documentMode<=11;function i1(){Ge("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Kr=null,mp=null,bc=null,up=!1;function l1(n){if("selectionStart"in n&&cp(n))return{start:n.selectionStart,end:n.selectionEnd};var t=n.ownerDocument&&n.ownerDocument.defaultView||window,i=t.getSelection();return{anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}}function a1(n){return n.window===n?n.document:n.nodeType===Al?n:n.ownerDocument}function J0(n,t,i){var l=a1(i);if(!(up||Kr==null||Kr!==Vt(l))){var r=l1(Kr);if(!bc||!pc(bc,r)){bc=r;var d=lu(mp,"onSelect");if(d.length>0){var D=new op("onSelect","select",null,t,i);n.push({event:D,listeners:d}),D.target=Kr}}}}function r1(n,t,i,l,r,d,D){var A=i?ns(i):window;switch(t){case"focusin":(O0(A)||A.contentEditable==="true")&&(Kr=A,mp=i,bc=null);break;case"focusout":Kr=null,mp=null,bc=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,J0(n,l,r);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":J0(n,l,r)}}function tu(n,t){var i={};return i[n.toLowerCase()]=t.toLowerCase(),i["Webkit"+n]="webkit"+t,i["Moz"+n]="moz"+t,i}var Jr={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},dp={},X0={};an&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function ou(n){if(dp[n])return dp[n];if(!Jr[n])return n;var t=Jr[n];for(var i in t)if(t.hasOwnProperty(i)&&i in X0)return dp[n]=t[i];return n}var Z0=ou("animationend"),eg=ou("animationiteration"),ng=ou("animationstart"),tg=ou("transitionend"),og=new Map,ig=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function ua(n,t){og.set(n,t),Ge(t,[n])}function s1(){for(var n=0;n<ig.length;n++){var t=ig[n],i=t.toLowerCase(),l=t[0].toUpperCase()+t.slice(1);ua(i,"on"+l)}ua(Z0,"onAnimationEnd"),ua(eg,"onAnimationIteration"),ua(ng,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(tg,"onTransitionEnd")}function c1(n,t,i,l,r,d,D){var A=og.get(t);if(A!==void 0){var k=op,F=t;switch(t){case"keypress":if(Xm(l)===0)return;case"keydown":case"keyup":k=mC;break;case"focusin":F="focus",k=ap;break;case"focusout":F="blur",k=ap;break;case"beforeblur":case"afterblur":k=ap;break;case"click":if(l.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=fC;break;case Z0:case eg:case ng:k=ZM;break;case tg:k=bC;break;case"scroll":k=qM;break;case"wheel":k=xC;break;case"copy":case"cut":case"paste":k=nC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=V0;break}var Y=(d&Os)!==0;{var ce=!Y&&t==="scroll",se=f1(i,A,l.type,Y,ce);if(se.length>0){var je=new k(A,F,null,l,r);n.push({event:je,listeners:se})}}}}s1(),HC(),wC(),i1(),vC();function m1(n,t,i,l,r,d,D){c1(n,t,i,l,r,d);var A=(d&aj)===0;A&&(WC(n,t,i,l,r),zC(n,t,i,l,r),r1(n,t,i,l,r),EC(n,t,i,l,r))}var Nc=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],fp=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Nc));function lg(n,t,i){var l=n.type||"unknown-event";n.currentTarget=i,gj(l,t,void 0,n),n.currentTarget=null}function u1(n,t,i){var l;if(i)for(var r=t.length-1;r>=0;r--){var d=t[r],D=d.instance,A=d.currentTarget,k=d.listener;if(D!==l&&n.isPropagationStopped())return;lg(n,k,A),l=D}else for(var F=0;F<t.length;F++){var Y=t[F],ce=Y.instance,se=Y.currentTarget,je=Y.listener;if(ce!==l&&n.isPropagationStopped())return;lg(n,je,se),l=ce}}function ag(n,t){for(var i=(t&Os)!==0,l=0;l<n.length;l++){var r=n[l],d=r.event,D=r.listeners;u1(d,D,i)}hj()}function d1(n,t,i,l,r){var d=rf(i),D=[];m1(D,n,l,i,d,t),ag(D,t)}function Wt(n,t){fp.has(n)||s('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',n);var i=!1,l=GR(t),r=N1(n);l.has(r)||(rg(t,n,af,i),l.add(r))}function pp(n,t,i){fp.has(n)&&!t&&s('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',n);var l=0;t&&(l|=Os),rg(i,n,l,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function xc(n){if(!n[iu]){n[iu]=!0,Pe.forEach(function(i){i!=="selectionchange"&&(fp.has(i)||pp(i,!1,n),pp(i,!0,n))});var t=n.nodeType===Al?n:n.ownerDocument;t!==null&&(t[iu]||(t[iu]=!0,pp("selectionchange",!1,t)))}}function rg(n,t,i,l,r){var d=_M(n,t,i),D=void 0;mf&&(t==="touchstart"||t==="touchmove"||t==="wheel")&&(D=!0),n=n,l?D!==void 0?zM(n,t,d,D):GM(n,t,d):D!==void 0?HM(n,t,d,D):OM(n,t,d)}function sg(n,t){return n===t||n.nodeType===io&&n.parentNode===t}function bp(n,t,i,l,r){var d=l;if(!(t&Ix)&&!(t&af)){var D=r;if(l!==null){var A=l;e:for(;;){if(A===null)return;var k=A.tag;if(k===h||k===N){var F=A.stateNode.containerInfo;if(sg(F,D))break;if(k===N)for(var Y=A.return;Y!==null;){var ce=Y.tag;if(ce===h||ce===N){var se=Y.stateNode.containerInfo;if(sg(se,D))return}Y=Y.return}for(;F!==null;){var je=or(F);if(je===null)return;var Me=je.tag;if(Me===y||Me===E){A=d=je;continue e}F=F.parentNode}}A=A.return}}}Gx(function(){return d1(n,t,i,d)})}function gc(n,t,i){return{instance:n,listener:t,currentTarget:i}}function f1(n,t,i,l,r,d){for(var D=t!==null?t+"Capture":null,A=l?D:t,k=[],F=n,Y=null;F!==null;){var ce=F,se=ce.stateNode,je=ce.tag;if(je===y&&se!==null&&(Y=se,A!==null)){var Me=zs(F,A);Me!=null&&k.push(gc(F,Me,Y))}if(r)break;F=F.return}return k}function lu(n,t){for(var i=t+"Capture",l=[],r=n;r!==null;){var d=r,D=d.stateNode,A=d.tag;if(A===y&&D!==null){var k=D,F=zs(r,i);F!=null&&l.unshift(gc(r,F,k));var Y=zs(r,t);Y!=null&&l.push(gc(r,Y,k))}r=r.return}return l}function Xr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==y);return n||null}function p1(n,t){for(var i=n,l=t,r=0,d=i;d;d=Xr(d))r++;for(var D=0,A=l;A;A=Xr(A))D++;for(;r-D>0;)i=Xr(i),r--;for(;D-r>0;)l=Xr(l),D--;for(var k=r;k--;){if(i===l||l!==null&&i===l.alternate)return i;i=Xr(i),l=Xr(l)}return null}function cg(n,t,i,l,r){for(var d=t._reactName,D=[],A=i;A!==null&&A!==l;){var k=A,F=k.alternate,Y=k.stateNode,ce=k.tag;if(F!==null&&F===l)break;if(ce===y&&Y!==null){var se=Y;if(r){var je=zs(A,d);je!=null&&D.unshift(gc(A,je,se))}else if(!r){var Me=zs(A,d);Me!=null&&D.push(gc(A,Me,se))}}A=A.return}D.length!==0&&n.push({event:t,listeners:D})}function b1(n,t,i,l,r){var d=l&&r?p1(l,r):null;l!==null&&cg(n,t,l,d,!1),r!==null&&i!==null&&cg(n,i,r,d,!0)}function N1(n,t){return n+"__bubble"}var li=!1,hc="dangerouslySetInnerHTML",au="suppressContentEditableWarning",da="suppressHydrationWarning",mg="autoFocus",nr="children",tr="style",ru="__html",Np,su,vc,ug,cu,dg,fg;Np={dialog:!0,webview:!0},su=function(n,t){ZS(n,t),ej(n,t),lj(n,t,{registrationNameDependencies:me,possibleRegistrationNames:de})},dg=an&&!document.documentMode,vc=function(n,t,i){if(!li){var l=mu(i),r=mu(t);r!==l&&(li=!0,s("Prop `%s` did not match. Server: %s Client: %s",n,JSON.stringify(r),JSON.stringify(l)))}},ug=function(n){if(!li){li=!0;var t=[];n.forEach(function(i){t.push(i)}),s("Extra attributes from the server: %s",t)}},cu=function(n,t){t===!1?s("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",n,n,n):s("Expected `%s` listener to be a function, instead got a value of `%s` type.",n,typeof t)},fg=function(n,t){var i=n.namespaceURI===Ei?n.ownerDocument.createElement(n.tagName):n.ownerDocument.createElementNS(n.namespaceURI,n.tagName);return i.innerHTML=t,i.innerHTML};var x1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function mu(n){Te(n);var t=typeof n=="string"?n:""+n;return t.replace(x1,`
`).replace(g1,"")}function uu(n,t,i,l){var r=mu(t),d=mu(n);if(d!==r&&(l&&(li||(li=!0,s('Text content did not match. Server: "%s" Client: "%s"',d,r))),i&&Z))throw new Error("Text content does not match server-rendered HTML.")}function pg(n){return n.nodeType===Al?n:n.ownerDocument}function h1(){}function du(n){n.onclick=h1}function v1(n,t,i,l,r){for(var d in l)if(l.hasOwnProperty(d)){var D=l[d];if(d===tr)D&&Object.freeze(D),Ux(t,D);else if(d===hc){var A=D?D[ru]:void 0;A!=null&&Tm(t,A)}else if(d===nr)if(typeof D=="string"){var k=n!=="textarea"||D!=="";k&&Pm(t,D)}else typeof D=="number"&&Pm(t,""+D);else d===au||d===da||d===mg||(me.hasOwnProperty(d)?D!=null&&(typeof D!="function"&&cu(d,D),d==="onScroll"&&Wt("scroll",t)):D!=null&&Xt(t,d,D,r))}}function y1(n,t,i,l){for(var r=0;r<t.length;r+=2){var d=t[r],D=t[r+1];d===tr?Ux(n,D):d===hc?Tm(n,D):d===nr?Pm(n,D):Xt(n,d,D,l)}}function D1(n,t,i,l){var r,d=pg(i),D,A=l;if(A===Ei&&(A=wr(n)),A===Ei){if(r=Ha(n,t),!r&&n!==n.toLowerCase()&&s("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",n),n==="script"){var k=d.createElement("div");k.innerHTML="<script><\/script>";var F=k.firstChild;D=k.removeChild(F)}else if(typeof t.is=="string")D=d.createElement(n,{is:t.is});else if(D=d.createElement(n),n==="select"){var Y=D;t.multiple?Y.multiple=!0:t.size&&(Y.size=t.size)}}else D=d.createElementNS(A,n);return A===Ei&&!r&&Object.prototype.toString.call(D)==="[object HTMLUnknownElement]"&&!ye.call(Np,n)&&(Np[n]=!0,s("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",n)),D}function S1(n,t){return pg(t).createTextNode(n)}function j1(n,t,i,l){var r=Ha(t,i);su(t,i);var d;switch(t){case"dialog":Wt("cancel",n),Wt("close",n),d=i;break;case"iframe":case"object":case"embed":Wt("load",n),d=i;break;case"video":case"audio":for(var D=0;D<Nc.length;D++)Wt(Nc[D],n);d=i;break;case"source":Wt("error",n),d=i;break;case"img":case"image":case"link":Wt("error",n),Wt("load",n),d=i;break;case"details":Wt("toggle",n),d=i;break;case"input":Ri(n,i),d=Bo(n,i),Wt("invalid",n);break;case"option":yt(n,i),d=i;break;case"select":pt(n,i),d=Vn(n,i),Wt("invalid",n);break;case"textarea":so(n,i),d=Pn(n,i),Wt("invalid",n);break;default:d=i}switch(lf(t,d),v1(t,n,l,d,r),t){case"input":Wn(n),xe(n,i,!1);break;case"textarea":Wn(n),Rl(n);break;case"option":lt(n,i);break;case"select":Dt(n,i);break;default:typeof d.onClick=="function"&&du(n);break}}function M1(n,t,i,l,r){su(t,l);var d=null,D,A;switch(t){case"input":D=Bo(n,i),A=Bo(n,l),d=[];break;case"select":D=Vn(n,i),A=Vn(n,l),d=[];break;case"textarea":D=Pn(n,i),A=Pn(n,l),d=[];break;default:D=i,A=l,typeof D.onClick!="function"&&typeof A.onClick=="function"&&du(n);break}lf(t,A);var k,F,Y=null;for(k in D)if(!(A.hasOwnProperty(k)||!D.hasOwnProperty(k)||D[k]==null))if(k===tr){var ce=D[k];for(F in ce)ce.hasOwnProperty(F)&&(Y||(Y={}),Y[F]="")}else k===hc||k===nr||k===au||k===da||k===mg||(me.hasOwnProperty(k)?d||(d=[]):(d=d||[]).push(k,null));for(k in A){var se=A[k],je=D!=null?D[k]:void 0;if(!(!A.hasOwnProperty(k)||se===je||se==null&&je==null))if(k===tr)if(se&&Object.freeze(se),je){for(F in je)je.hasOwnProperty(F)&&(!se||!se.hasOwnProperty(F))&&(Y||(Y={}),Y[F]="");for(F in se)se.hasOwnProperty(F)&&je[F]!==se[F]&&(Y||(Y={}),Y[F]=se[F])}else Y||(d||(d=[]),d.push(k,Y)),Y=se;else if(k===hc){var Me=se?se[ru]:void 0,we=je?je[ru]:void 0;Me!=null&&we!==Me&&(d=d||[]).push(k,Me)}else k===nr?(typeof se=="string"||typeof se=="number")&&(d=d||[]).push(k,""+se):k===au||k===da||(me.hasOwnProperty(k)?(se!=null&&(typeof se!="function"&&cu(k,se),k==="onScroll"&&Wt("scroll",n)),!d&&je!==se&&(d=[])):(d=d||[]).push(k,se))}return Y&&(WS(Y,A[tr]),(d=d||[]).push(tr,Y)),d}function C1(n,t,i,l,r){i==="input"&&r.type==="radio"&&r.name!=null&&T(n,r);var d=Ha(i,l),D=Ha(i,r);switch(y1(n,t,d,D),i){case"input":ee(n,r);break;case"textarea":eo(n,r);break;case"select":Cn(n,r);break}}function R1(n){{var t=n.toLowerCase();return Im.hasOwnProperty(t)&&Im[t]||null}}function E1(n,t,i,l,r,d,D){var A,k;switch(A=Ha(t,i),su(t,i),t){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(var F=0;F<Nc.length;F++)Wt(Nc[F],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Ri(n,i),Wt("invalid",n);break;case"option":yt(n,i);break;case"select":pt(n,i),Wt("invalid",n);break;case"textarea":so(n,i),Wt("invalid",n);break}lf(t,i);{k=new Set;for(var Y=n.attributes,ce=0;ce<Y.length;ce++){var se=Y[ce].name.toLowerCase();switch(se){case"value":break;case"checked":break;case"selected":break;default:k.add(Y[ce].name)}}}var je=null;for(var Me in i)if(i.hasOwnProperty(Me)){var we=i[Me];if(Me===nr)typeof we=="string"?n.textContent!==we&&(i[da]!==!0&&uu(n.textContent,we,d,D),je=[nr,we]):typeof we=="number"&&n.textContent!==""+we&&(i[da]!==!0&&uu(n.textContent,we,d,D),je=[nr,""+we]);else if(me.hasOwnProperty(Me))we!=null&&(typeof we!="function"&&cu(Me,we),Me==="onScroll"&&Wt("scroll",n));else if(D&&typeof A=="boolean"){var dn=void 0,kn=Bn(Me);if(i[da]!==!0){if(!(Me===au||Me===da||Me==="value"||Me==="checked"||Me==="selected")){if(Me===hc){var Un=n.innerHTML,vt=we?we[ru]:void 0;if(vt!=null){var ft=fg(n,vt);ft!==Un&&vc(Me,Un,ft)}}else if(Me===tr){if(k.delete(Me),dg){var ge=zS(we);dn=n.getAttribute("style"),ge!==dn&&vc(Me,dn,ge)}}else if(A&&!ue)k.delete(Me.toLowerCase()),dn=It(n,Me,we),we!==dn&&vc(Me,dn,we);else if(!ln(Me,kn,A)&&!Ln(Me,we,kn,A)){var Ve=!1;if(kn!==null)k.delete(kn.attributeName),dn=Bt(n,Me,we,kn);else{var he=l;if(he===Ei&&(he=wr(t)),he===Ei)k.delete(Me.toLowerCase());else{var en=R1(Me);en!==null&&en!==Me&&(Ve=!0,k.delete(en)),k.delete(Me)}dn=It(n,Me,we)}var vn=ue;!vn&&we!==dn&&!Ve&&vc(Me,dn,we)}}}}}switch(D&&k.size>0&&i[da]!==!0&&ug(k),t){case"input":Wn(n),xe(n,i,!0);break;case"textarea":Wn(n),Rl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&du(n);break}return je}function A1(n,t,i){var l=n.nodeValue!==t;return l}function xp(n,t){{if(li)return;li=!0,s("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),n.nodeName.toLowerCase())}}function gp(n,t){{if(li)return;li=!0,s('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,n.nodeName.toLowerCase())}}function hp(n,t,i){{if(li)return;li=!0,s("Expected server HTML to contain a matching <%s> in <%s>.",t,n.nodeName.toLowerCase())}}function vp(n,t){{if(t===""||li)return;li=!0,s('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,n.nodeName.toLowerCase())}}function U1(n,t,i){switch(t){case"input":Ae(n,i);return;case"textarea":ia(n,i);return;case"select":xt(n,i);return}}var yc=function(){},Dc=function(){};{var w1=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],bg=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],V1=bg.concat(["button"]),k1=["dd","dt","li","option","optgroup","p","rp","rt"],Ng={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Dc=function(n,t){var i=it({},n||Ng),l={tag:t};return bg.indexOf(t)!==-1&&(i.aTagInScope=null,i.buttonTagInScope=null,i.nobrTagInScope=null),V1.indexOf(t)!==-1&&(i.pTagInButtonScope=null),w1.indexOf(t)!==-1&&t!=="address"&&t!=="div"&&t!=="p"&&(i.listItemTagAutoclosing=null,i.dlItemTagAutoclosing=null),i.current=l,t==="form"&&(i.formTag=l),t==="a"&&(i.aTagInScope=l),t==="button"&&(i.buttonTagInScope=l),t==="nobr"&&(i.nobrTagInScope=l),t==="p"&&(i.pTagInButtonScope=l),t==="li"&&(i.listItemTagAutoclosing=l),(t==="dd"||t==="dt")&&(i.dlItemTagAutoclosing=l),i};var T1=function(n,t){switch(t){case"select":return n==="option"||n==="optgroup"||n==="#text";case"optgroup":return n==="option"||n==="#text";case"option":return n==="#text";case"tr":return n==="th"||n==="td"||n==="style"||n==="script"||n==="template";case"tbody":case"thead":case"tfoot":return n==="tr"||n==="style"||n==="script"||n==="template";case"colgroup":return n==="col"||n==="template";case"table":return n==="caption"||n==="colgroup"||n==="tbody"||n==="tfoot"||n==="thead"||n==="style"||n==="script"||n==="template";case"head":return n==="base"||n==="basefont"||n==="bgsound"||n==="link"||n==="meta"||n==="title"||n==="noscript"||n==="noframes"||n==="style"||n==="script"||n==="template";case"html":return n==="head"||n==="body"||n==="frameset";case"frameset":return n==="frame";case"#document":return n==="html"}switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6";case"rp":case"rt":return k1.indexOf(t)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return t==null}return!0},P1=function(n,t){switch(n){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},xg={};yc=function(n,t,i){i=i||Ng;var l=i.current,r=l&&l.tag;t!=null&&(n!=null&&s("validateDOMNesting: when childText is passed, childTag should be null"),n="#text");var d=T1(n,r)?null:l,D=d?null:P1(n,i),A=d||D;if(A){var k=A.tag,F=!!d+"|"+n+"|"+k;if(!xg[F]){xg[F]=!0;var Y=n,ce="";if(n==="#text"?/\S/.test(t)?Y="Text nodes":(Y="Whitespace text nodes",ce=" Make sure you don't have any extra whitespace between tags on each line of your source code."):Y="<"+n+">",d){var se="";k==="table"&&n==="tr"&&(se+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),s("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",Y,k,ce,se)}else s("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",Y,k)}}}}var fu="suppressHydrationWarning",pu="$",bu="/$",Sc="$?",jc="$!",I1="style",yp=null,Dp=null;function _1(n){var t,i,l=n.nodeType;switch(l){case Al:case nf:{t=l===Al?"#document":"#fragment";var r=n.documentElement;i=r?r.namespaceURI:Lo(null,"");break}default:{var d=l===io?n.parentNode:n,D=d.namespaceURI||null;t=d.tagName,i=Lo(D,t);break}}{var A=t.toLowerCase(),k=Dc(null,A);return{namespace:i,ancestorInfo:k}}}function B1(n,t,i){{var l=n,r=Lo(l.namespace,t),d=Dc(l.ancestorInfo,t);return{namespace:r,ancestorInfo:d}}}function Dk(n){return n}function L1(n){yp=IM(),Dp=ZC();var t=null;return M0(!1),t}function $1(n){e1(Dp),M0(yp),yp=null,Dp=null}function O1(n,t,i,l,r){var d;{var D=l;if(yc(n,null,D.ancestorInfo),typeof t.children=="string"||typeof t.children=="number"){var A=""+t.children,k=Dc(D.ancestorInfo,n);yc(null,A,k)}d=D.namespace}var F=D1(n,t,i,d);return Rc(r,F),Up(F,t),F}function G1(n,t){n.appendChild(t)}function z1(n,t,i,l,r){switch(j1(n,t,i,l),t){case"button":case"input":case"select":case"textarea":return!!i.autoFocus;case"img":return!0;default:return!1}}function H1(n,t,i,l,r,d){{var D=d;if(typeof l.children!=typeof i.children&&(typeof l.children=="string"||typeof l.children=="number")){var A=""+l.children,k=Dc(D.ancestorInfo,t);yc(null,A,k)}}return M1(n,t,i,l)}function Sp(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}function W1(n,t,i,l){{var r=i;yc(null,n,r.ancestorInfo)}var d=S1(n,t);return Rc(l,d),d}function F1(){var n=window.event;return n===void 0?Pl:C0(n.type)}var jp=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=-1,gg=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(n){return gg.resolve(null).then(n).catch(Y1)}:jp;function Y1(n){setTimeout(function(){throw n})}function K1(n,t,i,l){switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();return;case"img":{i.src&&(n.src=i.src);return}}}function J1(n,t,i,l,r,d){C1(n,t,i,l,r),Up(n,r)}function hg(n){Pm(n,"")}function X1(n,t,i){n.nodeValue=i}function Z1(n,t){n.appendChild(t)}function eR(n,t){var i;n.nodeType===io?(i=n.parentNode,i.insertBefore(t,n)):(i=n,i.appendChild(t));var l=n._reactRootContainer;l==null&&i.onclick===null&&du(i)}function nR(n,t,i){n.insertBefore(t,i)}function tR(n,t,i){n.nodeType===io?n.parentNode.insertBefore(t,i):n.insertBefore(t,i)}function oR(n,t){n.removeChild(t)}function iR(n,t){n.nodeType===io?n.parentNode.removeChild(t):n.removeChild(t)}function Cp(n,t){var i=t,l=0;do{var r=i.nextSibling;if(n.removeChild(i),r&&r.nodeType===io){var d=r.data;if(d===bu)if(l===0){n.removeChild(r),ac(t);return}else l--;else(d===pu||d===Sc||d===jc)&&l++}i=r}while(i);ac(t)}function lR(n,t){n.nodeType===io?Cp(n.parentNode,t):n.nodeType===ii&&Cp(n,t),ac(n)}function aR(n){n=n;var t=n.style;typeof t.setProperty=="function"?t.setProperty("display","none","important"):t.display="none"}function rR(n){n.nodeValue=""}function sR(n,t){n=n;var i=t[I1],l=i!=null&&i.hasOwnProperty("display")?i.display:null;n.style.display=tf("display",l)}function cR(n,t){n.nodeValue=t}function mR(n){n.nodeType===ii?n.textContent="":n.nodeType===Al&&n.documentElement&&n.removeChild(n.documentElement)}function uR(n,t,i){return n.nodeType!==ii||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n}function dR(n,t){return t===""||n.nodeType!==El?null:n}function fR(n){return n.nodeType!==io?null:n}function vg(n){return n.data===Sc}function Rp(n){return n.data===jc}function pR(n){var t=n.nextSibling&&n.nextSibling.dataset,i,l,r;return t&&(i=t.dgst,l=t.msg,r=t.stck),{message:l,digest:i,stack:r}}function bR(n,t){n._reactRetry=t}function Nu(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===ii||t===El)break;if(t===io){var i=n.data;if(i===pu||i===jc||i===Sc)break;if(i===bu)return null}}return n}function Mc(n){return Nu(n.nextSibling)}function NR(n){return Nu(n.firstChild)}function xR(n){return Nu(n.firstChild)}function gR(n){return Nu(n.nextSibling)}function hR(n,t,i,l,r,d,D){Rc(d,n),Up(n,i);var A;{var k=r;A=k.namespace}var F=(d.mode&gt)!==In;return E1(n,t,i,A,l,F,D)}function vR(n,t,i,l){return Rc(i,n),i.mode&gt,A1(n,t)}function yR(n,t){Rc(t,n)}function DR(n){for(var t=n.nextSibling,i=0;t;){if(t.nodeType===io){var l=t.data;if(l===bu){if(i===0)return Mc(t);i--}else(l===pu||l===jc||l===Sc)&&i++}t=t.nextSibling}return null}function yg(n){for(var t=n.previousSibling,i=0;t;){if(t.nodeType===io){var l=t.data;if(l===pu||l===jc||l===Sc){if(i===0)return t;i--}else l===bu&&i++}t=t.previousSibling}return null}function SR(n){ac(n)}function jR(n){ac(n)}function MR(n){return n!=="head"&&n!=="body"}function CR(n,t,i,l){var r=!0;uu(t.nodeValue,i,l,r)}function RR(n,t,i,l,r,d){if(t[fu]!==!0){var D=!0;uu(l.nodeValue,r,d,D)}}function ER(n,t){t.nodeType===ii?xp(n,t):t.nodeType===io||gp(n,t)}function AR(n,t){{var i=n.parentNode;i!==null&&(t.nodeType===ii?xp(i,t):t.nodeType===io||gp(i,t))}}function UR(n,t,i,l,r){(r||t[fu]!==!0)&&(l.nodeType===ii?xp(i,l):l.nodeType===io||gp(i,l))}function wR(n,t,i){hp(n,t)}function VR(n,t){vp(n,t)}function kR(n,t,i){{var l=n.parentNode;l!==null&&hp(l,t)}}function TR(n,t){{var i=n.parentNode;i!==null&&vp(i,t)}}function PR(n,t,i,l,r,d){(d||t[fu]!==!0)&&hp(i,l)}function IR(n,t,i,l,r){(r||t[fu]!==!0)&&vp(i,l)}function _R(n){s("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",n.nodeName.toLowerCase())}function BR(n){xc(n)}var Zr=Math.random().toString(36).slice(2),es="__reactFiber$"+Zr,Ep="__reactProps$"+Zr,Cc="__reactContainer$"+Zr,Ap="__reactEvents$"+Zr,LR="__reactListeners$"+Zr,$R="__reactHandles$"+Zr;function OR(n){delete n[es],delete n[Ep],delete n[Ap],delete n[LR],delete n[$R]}function Rc(n,t){t[es]=n}function xu(n,t){t[Cc]=n}function Dg(n){n[Cc]=null}function Ec(n){return!!n[Cc]}function or(n){var t=n[es];if(t)return t;for(var i=n.parentNode;i;){if(t=i[Cc]||i[es],t){var l=t.alternate;if(t.child!==null||l!==null&&l.child!==null)for(var r=yg(n);r!==null;){var d=r[es];if(d)return d;r=yg(r)}return t}n=i,i=n.parentNode}return null}function fa(n){var t=n[es]||n[Cc];return t&&(t.tag===y||t.tag===E||t.tag===R||t.tag===h)?t:null}function ns(n){if(n.tag===y||n.tag===E)return n.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function gu(n){return n[Ep]||null}function Up(n,t){n[Ep]=t}function GR(n){var t=n[Ap];return t===void 0&&(t=n[Ap]=new Set),t}var Sg={},jg=c.ReactDebugCurrentFrame;function hu(n){if(n){var t=n._owner,i=$a(n.type,n._source,t?t.type:null);jg.setExtraStackFrame(i)}else jg.setExtraStackFrame(null)}function Oi(n,t,i,l,r){{var d=Function.call.bind(ye);for(var D in n)if(d(n,D)){var A=void 0;try{if(typeof n[D]!="function"){var k=Error((l||"React class")+": "+i+" type `"+D+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[D]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw k.name="Invariant Violation",k}A=n[D](t,D,l,i,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(F){A=F}A&&!(A instanceof Error)&&(hu(r),s("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",i,D,typeof A),hu(null)),A instanceof Error&&!(A.message in Sg)&&(Sg[A.message]=!0,hu(r),s("Failed %s type: %s",i,A.message),hu(null))}}}var wp=[],vu;vu=[];var Il=-1;function pa(n){return{current:n}}function Oo(n,t){if(Il<0){s("Unexpected pop.");return}t!==vu[Il]&&s("Unexpected Fiber popped."),n.current=wp[Il],wp[Il]=null,vu[Il]=null,Il--}function Go(n,t,i){Il++,wp[Il]=n.current,vu[Il]=i,n.current=t}var Vp;Vp={};var vi={};Object.freeze(vi);var _l=pa(vi),al=pa(!1),kp=vi;function ts(n,t,i){return i&&rl(t)?kp:_l.current}function Mg(n,t,i){{var l=n.stateNode;l.__reactInternalMemoizedUnmaskedChildContext=t,l.__reactInternalMemoizedMaskedChildContext=i}}function os(n,t){{var i=n.type,l=i.contextTypes;if(!l)return vi;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var d={};for(var D in l)d[D]=t[D];{var A=Qn(n)||"Unknown";Oi(l,d,"context",A)}return r&&Mg(n,t,d),d}}function yu(){return al.current}function rl(n){{var t=n.childContextTypes;return t!=null}}function Du(n){Oo(al,n),Oo(_l,n)}function Tp(n){Oo(al,n),Oo(_l,n)}function Cg(n,t,i){{if(_l.current!==vi)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Go(_l,t,n),Go(al,i,n)}}function Rg(n,t,i){{var l=n.stateNode,r=t.childContextTypes;if(typeof l.getChildContext!="function"){{var d=Qn(n)||"Unknown";Vp[d]||(Vp[d]=!0,s("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",d,d))}return i}var D=l.getChildContext();for(var A in D)if(!(A in r))throw new Error((Qn(n)||"Unknown")+'.getChildContext(): key "'+A+'" is not defined in childContextTypes.');{var k=Qn(n)||"Unknown";Oi(r,D,"child context",k)}return it({},i,D)}}function Su(n){{var t=n.stateNode,i=t&&t.__reactInternalMemoizedMergedChildContext||vi;return kp=_l.current,Go(_l,i,n),Go(al,al.current,n),!0}}function Eg(n,t,i){{var l=n.stateNode;if(!l)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(i){var r=Rg(n,t,kp);l.__reactInternalMemoizedMergedChildContext=r,Oo(al,n),Oo(_l,n),Go(_l,r,n),Go(al,i,n)}else Oo(al,n),Go(al,i,n)}}function zR(n){{if(!Mj(n)||n.tag!==g)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=n;do{switch(t.tag){case h:return t.stateNode.context;case g:{var i=t.type;if(rl(i))return t.stateNode.__reactInternalMemoizedMergedChildContext;break}}t=t.return}while(t!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var ba=0,ju=1,Bl=null,Pp=!1,Ip=!1;function Ag(n){Bl===null?Bl=[n]:Bl.push(n)}function HR(n){Pp=!0,Ag(n)}function Ug(){Pp&&Na()}function Na(){if(!Ip&&Bl!==null){Ip=!0;var n=0,t=$i();try{var i=!0,l=Bl;for(So(xi);n<l.length;n++){var r=l[n];do r=r(i);while(r!==null)}Bl=null,Pp=!1}catch(d){throw Bl!==null&&(Bl=Bl.slice(n+1)),e0($m,Na),d}finally{So(t),Ip=!1}}return null}var is=[],ls=0,Mu=null,Cu=0,Ai=[],Ui=0,ir=null,Ll=1,$l="";function WR(n){return ar(),(n.flags&Fx)!==Gn}function FR(n){return ar(),Cu}function qR(){var n=$l,t=Ll,i=t&~QR(t);return i.toString(32)+n}function lr(n,t){ar(),is[ls++]=Cu,is[ls++]=Mu,Mu=n,Cu=t}function wg(n,t,i){ar(),Ai[Ui++]=Ll,Ai[Ui++]=$l,Ai[Ui++]=ir,ir=n;var l=Ll,r=$l,d=Ru(l)-1,D=l&~(1<<d),A=i+1,k=Ru(t)+d;if(k>30){var F=d-d%5,Y=(1<<F)-1,ce=(D&Y).toString(32),se=D>>F,je=d-F,Me=Ru(t)+je,we=A<<je,dn=we|se,kn=ce+r;Ll=1<<Me|dn,$l=kn}else{var Un=A<<d,vt=Un|D,ft=r;Ll=1<<k|vt,$l=ft}}function _p(n){ar();var t=n.return;if(t!==null){var i=1,l=0;lr(n,i),wg(n,i,l)}}function Ru(n){return 32-a0(n)}function QR(n){return 1<<Ru(n)-1}function Bp(n){for(;n===Mu;)Mu=is[--ls],is[ls]=null,Cu=is[--ls],is[ls]=null;for(;n===ir;)ir=Ai[--Ui],Ai[Ui]=null,$l=Ai[--Ui],Ai[Ui]=null,Ll=Ai[--Ui],Ai[Ui]=null}function YR(){return ar(),ir!==null?{id:Ll,overflow:$l}:null}function KR(n,t){ar(),Ai[Ui++]=Ll,Ai[Ui++]=$l,Ai[Ui++]=ir,Ll=t.id,$l=t.overflow,ir=n}function ar(){Eo()||s("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Ro=null,wi=null,Gi=!1,rr=!1,xa=null;function JR(){Gi&&s("We should not be hydrating here. This is a bug in React. Please file a bug.")}function Vg(){rr=!0}function XR(){return rr}function ZR(n){var t=n.stateNode.containerInfo;return wi=xR(t),Ro=n,Gi=!0,xa=null,rr=!1,!0}function eE(n,t,i){return wi=gR(t),Ro=n,Gi=!0,xa=null,rr=!1,i!==null&&KR(n,i),!0}function kg(n,t){switch(n.tag){case h:{ER(n.stateNode.containerInfo,t);break}case y:{var i=(n.mode&gt)!==In;UR(n.type,n.memoizedProps,n.stateNode,t,i);break}case R:{var l=n.memoizedState;l.dehydrated!==null&&AR(l.dehydrated,t);break}}}function Tg(n,t){kg(n,t);var i=i2();i.stateNode=t,i.return=n;var l=n.deletions;l===null?(n.deletions=[i],n.flags|=Wa):l.push(i)}function Lp(n,t){{if(rr)return;switch(n.tag){case h:{var i=n.stateNode.containerInfo;switch(t.tag){case y:var l=t.type;t.pendingProps,wR(i,l);break;case E:var r=t.pendingProps;VR(i,r);break}break}case y:{var d=n.type,D=n.memoizedProps,A=n.stateNode;switch(t.tag){case y:{var k=t.type,F=t.pendingProps,Y=(n.mode&gt)!==In;PR(d,D,A,k,F,Y);break}case E:{var ce=t.pendingProps,se=(n.mode&gt)!==In;IR(d,D,A,ce,se);break}}break}case R:{var je=n.memoizedState,Me=je.dehydrated;if(Me!==null)switch(t.tag){case y:var we=t.type;t.pendingProps,kR(Me,we);break;case E:var dn=t.pendingProps;TR(Me,dn);break}break}default:return}}}function Pg(n,t){t.flags=t.flags&~wl|lo,Lp(n,t)}function Ig(n,t){switch(n.tag){case y:{var i=n.type;n.pendingProps;var l=uR(t,i);return l!==null?(n.stateNode=l,Ro=n,wi=NR(l),!0):!1}case E:{var r=n.pendingProps,d=dR(t,r);return d!==null?(n.stateNode=d,Ro=n,wi=null,!0):!1}case R:{var D=fR(t);if(D!==null){var A={dehydrated:D,treeContext:YR(),retryLane:bi};n.memoizedState=A;var k=l2(D);return k.return=n,n.child=k,Ro=n,wi=null,!0}return!1}default:return!1}}function $p(n){return(n.mode&gt)!==In&&(n.flags&Ut)===Gn}function Op(n){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function Gp(n){if(Gi){var t=wi;if(!t){$p(n)&&(Lp(Ro,n),Op()),Pg(Ro,n),Gi=!1,Ro=n;return}var i=t;if(!Ig(n,t)){$p(n)&&(Lp(Ro,n),Op()),t=Mc(i);var l=Ro;if(!t||!Ig(n,t)){Pg(Ro,n),Gi=!1,Ro=n;return}Tg(l,i)}}}function nE(n,t,i){var l=n.stateNode,r=!rr,d=hR(l,n.type,n.memoizedProps,t,i,n,r);return n.updateQueue=d,d!==null}function tE(n){var t=n.stateNode,i=n.memoizedProps,l=vR(t,i,n);if(l){var r=Ro;if(r!==null)switch(r.tag){case h:{var d=r.stateNode.containerInfo,D=(r.mode&gt)!==In;CR(d,t,i,D);break}case y:{var A=r.type,k=r.memoizedProps,F=r.stateNode,Y=(r.mode&gt)!==In;RR(A,k,F,t,i,Y);break}}}return l}function oE(n){var t=n.memoizedState,i=t!==null?t.dehydrated:null;if(!i)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");yR(i,n)}function iE(n){var t=n.memoizedState,i=t!==null?t.dehydrated:null;if(!i)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return DR(i)}function _g(n){for(var t=n.return;t!==null&&t.tag!==y&&t.tag!==h&&t.tag!==R;)t=t.return;Ro=t}function Eu(n){if(n!==Ro)return!1;if(!Gi)return _g(n),Gi=!0,!1;if(n.tag!==h&&(n.tag!==y||MR(n.type)&&!Sp(n.type,n.memoizedProps))){var t=wi;if(t)if($p(n))Bg(n),Op();else for(;t;)Tg(n,t),t=Mc(t)}return _g(n),n.tag===R?wi=iE(n):wi=Ro?Mc(n.stateNode):null,!0}function lE(){return Gi&&wi!==null}function Bg(n){for(var t=wi;t;)kg(n,t),t=Mc(t)}function as(){Ro=null,wi=null,Gi=!1,rr=!1}function Lg(){xa!==null&&(Vv(xa),xa=null)}function Eo(){return Gi}function zp(n){xa===null?xa=[n]:xa.push(n)}var aE=c.ReactCurrentBatchConfig,rE=null;function sE(){return aE.transition}var zi={recordUnsafeLifecycleWarnings:function(n,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(n,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var cE=function(n){for(var t=null,i=n;i!==null;)i.mode&Kt&&(t=i),i=i.return;return t},sr=function(n){var t=[];return n.forEach(function(i){t.push(i)}),t.sort().join(", ")},Ac=[],Uc=[],wc=[],Vc=[],kc=[],Tc=[],cr=new Set;zi.recordUnsafeLifecycleWarnings=function(n,t){cr.has(n.type)||(typeof t.componentWillMount=="function"&&t.componentWillMount.__suppressDeprecationWarning!==!0&&Ac.push(n),n.mode&Kt&&typeof t.UNSAFE_componentWillMount=="function"&&Uc.push(n),typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&wc.push(n),n.mode&Kt&&typeof t.UNSAFE_componentWillReceiveProps=="function"&&Vc.push(n),typeof t.componentWillUpdate=="function"&&t.componentWillUpdate.__suppressDeprecationWarning!==!0&&kc.push(n),n.mode&Kt&&typeof t.UNSAFE_componentWillUpdate=="function"&&Tc.push(n))},zi.flushPendingUnsafeLifecycleWarnings=function(){var n=new Set;Ac.length>0&&(Ac.forEach(function(se){n.add(Qn(se)||"Component"),cr.add(se.type)}),Ac=[]);var t=new Set;Uc.length>0&&(Uc.forEach(function(se){t.add(Qn(se)||"Component"),cr.add(se.type)}),Uc=[]);var i=new Set;wc.length>0&&(wc.forEach(function(se){i.add(Qn(se)||"Component"),cr.add(se.type)}),wc=[]);var l=new Set;Vc.length>0&&(Vc.forEach(function(se){l.add(Qn(se)||"Component"),cr.add(se.type)}),Vc=[]);var r=new Set;kc.length>0&&(kc.forEach(function(se){r.add(Qn(se)||"Component"),cr.add(se.type)}),kc=[]);var d=new Set;if(Tc.length>0&&(Tc.forEach(function(se){d.add(Qn(se)||"Component"),cr.add(se.type)}),Tc=[]),t.size>0){var D=sr(t);s(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,D)}if(l.size>0){var A=sr(l);s(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,A)}if(d.size>0){var k=sr(d);s(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,k)}if(n.size>0){var F=sr(n);p(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,F)}if(i.size>0){var Y=sr(i);p(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Y)}if(r.size>0){var ce=sr(r);p(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ce)}};var Au=new Map,$g=new Set;zi.recordLegacyContextWarning=function(n,t){var i=cE(n);if(i===null){s("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!$g.has(n.type)){var l=Au.get(i);(n.type.contextTypes!=null||n.type.childContextTypes!=null||t!==null&&typeof t.getChildContext=="function")&&(l===void 0&&(l=[],Au.set(i,l)),l.push(n))}},zi.flushLegacyContextWarning=function(){Au.forEach(function(n,t){if(n.length!==0){var i=n[0],l=new Set;n.forEach(function(d){l.add(Qn(d)||"Component"),$g.add(d.type)});var r=sr(l);try{Gt(i),s(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,r)}finally{oo()}}})},zi.discardPendingWarnings=function(){Ac=[],Uc=[],wc=[],Vc=[],kc=[],Tc=[],Au=new Map}}var Hp,Wp,Fp,qp,Qp,Og=function(n,t){};Hp=!1,Wp=!1,Fp={},qp={},Qp={},Og=function(n,t){if(!(n===null||typeof n!="object")&&!(!n._store||n._store.validated||n.key!=null)){if(typeof n._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");n._store.validated=!0;var i=Qn(t)||"Component";qp[i]||(qp[i]=!0,s('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function mE(n){return n.prototype&&n.prototype.isReactComponent}function Pc(n,t,i){var l=i.ref;if(l!==null&&typeof l!="function"&&typeof l!="object"){if((n.mode&Kt||pe)&&!(i._owner&&i._self&&i._owner.stateNode!==i._self)&&!(i._owner&&i._owner.tag!==g)&&!(typeof i.type=="function"&&!mE(i.type))&&i._owner){var r=Qn(n)||"Component";Fp[r]||(s('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r,l),Fp[r]=!0)}if(i._owner){var d=i._owner,D;if(d){var A=d;if(A.tag!==g)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");D=A.stateNode}if(!D)throw new Error("Missing owner for string ref "+l+". This error is likely caused by a bug in React. Please file an issue.");var k=D;J(l,"ref");var F=""+l;if(t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===F)return t.ref;var Y=function(ce){var se=k.refs;ce===null?delete se[F]:se[F]=ce};return Y._stringRef=F,Y}else{if(typeof l!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!i._owner)throw new Error("Element ref was specified as a string ("+l+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return l}function Uu(n,t){var i=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}function wu(n){{var t=Qn(n)||"Component";if(Qp[t])return;Qp[t]=!0,s("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function Gg(n){var t=n._payload,i=n._init;return i(t)}function zg(n){function t(ge,Ve){if(n){var he=ge.deletions;he===null?(ge.deletions=[Ve],ge.flags|=Wa):he.push(Ve)}}function i(ge,Ve){if(!n)return null;for(var he=Ve;he!==null;)t(ge,he),he=he.sibling;return null}function l(ge,Ve){for(var he=new Map,en=Ve;en!==null;)en.key!==null?he.set(en.key,en):he.set(en.index,en),en=en.sibling;return he}function r(ge,Ve){var he=gr(ge,Ve);return he.index=0,he.sibling=null,he}function d(ge,Ve,he){if(ge.index=he,!n)return ge.flags|=Fx,Ve;var en=ge.alternate;if(en!==null){var vn=en.index;return vn<Ve?(ge.flags|=lo,Ve):vn}else return ge.flags|=lo,Ve}function D(ge){return n&&ge.alternate===null&&(ge.flags|=lo),ge}function A(ge,Ve,he,en){if(Ve===null||Ve.tag!==E){var vn=zN(he,ge.mode,en);return vn.return=ge,vn}else{var pn=r(Ve,he);return pn.return=ge,pn}}function k(ge,Ve,he,en){var vn=he.type;if(vn===Fo)return Y(ge,Ve,he.props.children,en,he.key);if(Ve!==null&&(Ve.elementType===vn||Qv(Ve,he)||typeof vn=="object"&&vn!==null&&vn.$$typeof===An&&Gg(vn)===Ve.type)){var pn=r(Ve,he.props);return pn.ref=Pc(ge,Ve,he),pn.return=ge,pn._debugSource=he._source,pn._debugOwner=he._owner,pn}var Hn=GN(he,ge.mode,en);return Hn.ref=Pc(ge,Ve,he),Hn.return=ge,Hn}function F(ge,Ve,he,en){if(Ve===null||Ve.tag!==N||Ve.stateNode.containerInfo!==he.containerInfo||Ve.stateNode.implementation!==he.implementation){var vn=HN(he,ge.mode,en);return vn.return=ge,vn}else{var pn=r(Ve,he.children||[]);return pn.return=ge,pn}}function Y(ge,Ve,he,en,vn){if(Ve===null||Ve.tag!==j){var pn=Ea(he,ge.mode,en,vn);return pn.return=ge,pn}else{var Hn=r(Ve,he);return Hn.return=ge,Hn}}function ce(ge,Ve,he){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"){var en=zN(""+Ve,ge.mode,he);return en.return=ge,en}if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case Ft:{var vn=GN(Ve,ge.mode,he);return vn.ref=Pc(ge,null,Ve),vn.return=ge,vn}case Zt:{var pn=HN(Ve,ge.mode,he);return pn.return=ge,pn}case An:{var Hn=Ve._payload,Xn=Ve._init;return ce(ge,Xn(Hn),he)}}if(Mn(Ve)||Io(Ve)){var Pt=Ea(Ve,ge.mode,he,null);return Pt.return=ge,Pt}Uu(ge,Ve)}return typeof Ve=="function"&&wu(ge),null}function se(ge,Ve,he,en){var vn=Ve!==null?Ve.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return vn!==null?null:A(ge,Ve,""+he,en);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Ft:return he.key===vn?k(ge,Ve,he,en):null;case Zt:return he.key===vn?F(ge,Ve,he,en):null;case An:{var pn=he._payload,Hn=he._init;return se(ge,Ve,Hn(pn),en)}}if(Mn(he)||Io(he))return vn!==null?null:Y(ge,Ve,he,en,null);Uu(ge,he)}return typeof he=="function"&&wu(ge),null}function je(ge,Ve,he,en,vn){if(typeof en=="string"&&en!==""||typeof en=="number"){var pn=ge.get(he)||null;return A(Ve,pn,""+en,vn)}if(typeof en=="object"&&en!==null){switch(en.$$typeof){case Ft:{var Hn=ge.get(en.key===null?he:en.key)||null;return k(Ve,Hn,en,vn)}case Zt:{var Xn=ge.get(en.key===null?he:en.key)||null;return F(Ve,Xn,en,vn)}case An:var Pt=en._payload,Ct=en._init;return je(ge,Ve,he,Ct(Pt),vn)}if(Mn(en)||Io(en)){var no=ge.get(he)||null;return Y(Ve,no,en,vn,null)}Uu(Ve,en)}return typeof en=="function"&&wu(Ve),null}function Me(ge,Ve,he){{if(typeof ge!="object"||ge===null)return Ve;switch(ge.$$typeof){case Ft:case Zt:Og(ge,he);var en=ge.key;if(typeof en!="string")break;if(Ve===null){Ve=new Set,Ve.add(en);break}if(!Ve.has(en)){Ve.add(en);break}s("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",en);break;case An:var vn=ge._payload,pn=ge._init;Me(pn(vn),Ve,he);break}}return Ve}function we(ge,Ve,he,en){for(var vn=null,pn=0;pn<he.length;pn++){var Hn=he[pn];vn=Me(Hn,vn,ge)}for(var Xn=null,Pt=null,Ct=Ve,no=0,Rt=0,Jt=null;Ct!==null&&Rt<he.length;Rt++){Ct.index>Rt?(Jt=Ct,Ct=null):Jt=Ct.sibling;var Ho=se(ge,Ct,he[Rt],en);if(Ho===null){Ct===null&&(Ct=Jt);break}n&&Ct&&Ho.alternate===null&&t(ge,Ct),no=d(Ho,no,Rt),Pt===null?Xn=Ho:Pt.sibling=Ho,Pt=Ho,Ct=Jt}if(Rt===he.length){if(i(ge,Ct),Eo()){var Po=Rt;lr(ge,Po)}return Xn}if(Ct===null){for(;Rt<he.length;Rt++){var Di=ce(ge,he[Rt],en);Di!==null&&(no=d(Di,no,Rt),Pt===null?Xn=Di:Pt.sibling=Di,Pt=Di)}if(Eo()){var Zo=Rt;lr(ge,Zo)}return Xn}for(var ei=l(ge,Ct);Rt<he.length;Rt++){var Wo=je(ei,ge,Rt,he[Rt],en);Wo!==null&&(n&&Wo.alternate!==null&&ei.delete(Wo.key===null?Rt:Wo.key),no=d(Wo,no,Rt),Pt===null?Xn=Wo:Pt.sibling=Wo,Pt=Wo)}if(n&&ei.forEach(function(Ms){return t(ge,Ms)}),Eo()){var ql=Rt;lr(ge,ql)}return Xn}function dn(ge,Ve,he,en){var vn=Io(he);if(typeof vn!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&he[Symbol.toStringTag]==="Generator"&&(Wp||s("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Wp=!0),he.entries===vn&&(Hp||s("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Hp=!0);var pn=vn.call(he);if(pn)for(var Hn=null,Xn=pn.next();!Xn.done;Xn=pn.next()){var Pt=Xn.value;Hn=Me(Pt,Hn,ge)}}var Ct=vn.call(he);if(Ct==null)throw new Error("An iterable object provided no iterator.");for(var no=null,Rt=null,Jt=Ve,Ho=0,Po=0,Di=null,Zo=Ct.next();Jt!==null&&!Zo.done;Po++,Zo=Ct.next()){Jt.index>Po?(Di=Jt,Jt=null):Di=Jt.sibling;var ei=se(ge,Jt,Zo.value,en);if(ei===null){Jt===null&&(Jt=Di);break}n&&Jt&&ei.alternate===null&&t(ge,Jt),Ho=d(ei,Ho,Po),Rt===null?no=ei:Rt.sibling=ei,Rt=ei,Jt=Di}if(Zo.done){if(i(ge,Jt),Eo()){var Wo=Po;lr(ge,Wo)}return no}if(Jt===null){for(;!Zo.done;Po++,Zo=Ct.next()){var ql=ce(ge,Zo.value,en);ql!==null&&(Ho=d(ql,Ho,Po),Rt===null?no=ql:Rt.sibling=ql,Rt=ql)}if(Eo()){var Ms=Po;lr(ge,Ms)}return no}for(var fm=l(ge,Jt);!Zo.done;Po++,Zo=Ct.next()){var bl=je(fm,ge,Po,Zo.value,en);bl!==null&&(n&&bl.alternate!==null&&fm.delete(bl.key===null?Po:bl.key),Ho=d(bl,Ho,Po),Rt===null?no=bl:Rt.sibling=bl,Rt=bl)}if(n&&fm.forEach(function(I2){return t(ge,I2)}),Eo()){var P2=Po;lr(ge,P2)}return no}function kn(ge,Ve,he,en){if(Ve!==null&&Ve.tag===E){i(ge,Ve.sibling);var vn=r(Ve,he);return vn.return=ge,vn}i(ge,Ve);var pn=zN(he,ge.mode,en);return pn.return=ge,pn}function Un(ge,Ve,he,en){for(var vn=he.key,pn=Ve;pn!==null;){if(pn.key===vn){var Hn=he.type;if(Hn===Fo){if(pn.tag===j){i(ge,pn.sibling);var Xn=r(pn,he.props.children);return Xn.return=ge,Xn._debugSource=he._source,Xn._debugOwner=he._owner,Xn}}else if(pn.elementType===Hn||Qv(pn,he)||typeof Hn=="object"&&Hn!==null&&Hn.$$typeof===An&&Gg(Hn)===pn.type){i(ge,pn.sibling);var Pt=r(pn,he.props);return Pt.ref=Pc(ge,pn,he),Pt.return=ge,Pt._debugSource=he._source,Pt._debugOwner=he._owner,Pt}i(ge,pn);break}else t(ge,pn);pn=pn.sibling}if(he.type===Fo){var Ct=Ea(he.props.children,ge.mode,en,he.key);return Ct.return=ge,Ct}else{var no=GN(he,ge.mode,en);return no.ref=Pc(ge,Ve,he),no.return=ge,no}}function vt(ge,Ve,he,en){for(var vn=he.key,pn=Ve;pn!==null;){if(pn.key===vn)if(pn.tag===N&&pn.stateNode.containerInfo===he.containerInfo&&pn.stateNode.implementation===he.implementation){i(ge,pn.sibling);var Hn=r(pn,he.children||[]);return Hn.return=ge,Hn}else{i(ge,pn);break}else t(ge,pn);pn=pn.sibling}var Xn=HN(he,ge.mode,en);return Xn.return=ge,Xn}function ft(ge,Ve,he,en){var vn=typeof he=="object"&&he!==null&&he.type===Fo&&he.key===null;if(vn&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case Ft:return D(Un(ge,Ve,he,en));case Zt:return D(vt(ge,Ve,he,en));case An:var pn=he._payload,Hn=he._init;return ft(ge,Ve,Hn(pn),en)}if(Mn(he))return we(ge,Ve,he,en);if(Io(he))return dn(ge,Ve,he,en);Uu(ge,he)}return typeof he=="string"&&he!==""||typeof he=="number"?D(kn(ge,Ve,""+he,en)):(typeof he=="function"&&wu(ge),i(ge,Ve))}return ft}var rs=zg(!0),Hg=zg(!1);function uE(n,t){if(n!==null&&t.child!==n.child)throw new Error("Resuming work not yet implemented.");if(t.child!==null){var i=t.child,l=gr(i,i.pendingProps);for(t.child=l,l.return=t;i.sibling!==null;)i=i.sibling,l=l.sibling=gr(i,i.pendingProps),l.return=t;l.sibling=null}}function dE(n,t){for(var i=n.child;i!==null;)ZU(i,t),i=i.sibling}var Yp=pa(null),Kp;Kp={};var Vu=null,ss=null,Jp=null,ku=!1;function Tu(){Vu=null,ss=null,Jp=null,ku=!1}function Wg(){ku=!0}function Fg(){ku=!1}function qg(n,t,i){Go(Yp,t._currentValue,n),t._currentValue=i,t._currentRenderer!==void 0&&t._currentRenderer!==null&&t._currentRenderer!==Kp&&s("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=Kp}function Xp(n,t){var i=Yp.current;Oo(Yp,t),n._currentValue=i}function Zp(n,t,i){for(var l=n;l!==null;){var r=l.alternate;if(Fr(l.childLanes,t)?r!==null&&!Fr(r.childLanes,t)&&(r.childLanes=at(r.childLanes,t)):(l.childLanes=at(l.childLanes,t),r!==null&&(r.childLanes=at(r.childLanes,t))),l===i)break;l=l.return}l!==i&&s("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function fE(n,t,i){pE(n,t,i)}function pE(n,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var r=void 0,d=l.dependencies;if(d!==null){r=l.child;for(var D=d.firstContext;D!==null;){if(D.context===t){if(l.tag===g){var A=Zs(i),k=Ol(Ht,A);k.tag=Iu;var F=l.updateQueue;if(F!==null){var Y=F.shared,ce=Y.pending;ce===null?k.next=k:(k.next=ce.next,ce.next=k),Y.pending=k}}l.lanes=at(l.lanes,i);var se=l.alternate;se!==null&&(se.lanes=at(se.lanes,i)),Zp(l.return,i,n),d.lanes=at(d.lanes,i);break}D=D.next}}else if(l.tag===M)r=l.type===n.type?null:l.child;else if(l.tag===P){var je=l.return;if(je===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");je.lanes=at(je.lanes,i);var Me=je.alternate;Me!==null&&(Me.lanes=at(Me.lanes,i)),Zp(je,i,n),r=l.sibling}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===n){r=null;break}var we=r.sibling;if(we!==null){we.return=r.return,r=we;break}r=r.return}l=r}}function cs(n,t){Vu=n,ss=null,Jp=null;var i=n.dependencies;if(i!==null){var l=i.firstContext;l!==null&&(Ni(i.lanes,t)&&Kc(),i.firstContext=null)}}function ao(n){ku&&s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=n._currentValue;if(Jp!==n){var i={context:n,memoizedValue:t,next:null};if(ss===null){if(Vu===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");ss=i,Vu.dependencies={lanes:Ye,firstContext:i}}else ss=ss.next=i}return t}var mr=null;function eb(n){mr===null?mr=[n]:mr.push(n)}function bE(){if(mr!==null){for(var n=0;n<mr.length;n++){var t=mr[n],i=t.interleaved;if(i!==null){t.interleaved=null;var l=i.next,r=t.pending;if(r!==null){var d=r.next;r.next=l,i.next=d}t.pending=i}}mr=null}}function Qg(n,t,i,l){var r=t.interleaved;return r===null?(i.next=i,eb(t)):(i.next=r.next,r.next=i),t.interleaved=i,Pu(n,l)}function NE(n,t,i,l){var r=t.interleaved;r===null?(i.next=i,eb(t)):(i.next=r.next,r.next=i),t.interleaved=i}function xE(n,t,i,l){var r=t.interleaved;return r===null?(i.next=i,eb(t)):(i.next=r.next,r.next=i),t.interleaved=i,Pu(n,l)}function ai(n,t){return Pu(n,t)}var gE=Pu;function Pu(n,t){n.lanes=at(n.lanes,t);var i=n.alternate;i!==null&&(i.lanes=at(i.lanes,t)),i===null&&(n.flags&(lo|wl))!==Gn&&Hv(n);for(var l=n,r=n.return;r!==null;)r.childLanes=at(r.childLanes,t),i=r.alternate,i!==null?i.childLanes=at(i.childLanes,t):(r.flags&(lo|wl))!==Gn&&Hv(n),l=r,r=r.return;if(l.tag===h){var d=l.stateNode;return d}else return null}var Yg=0,Kg=1,Iu=2,nb=3,_u=!1,tb,Bu;tb=!1,Bu=null;function ob(n){var t={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Ye},effects:null};n.updateQueue=t}function Jg(n,t){var i=t.updateQueue,l=n.updateQueue;if(i===l){var r={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects};t.updateQueue=r}}function Ol(n,t){var i={eventTime:n,lane:t,tag:Yg,payload:null,callback:null,next:null};return i}function ga(n,t,i){var l=n.updateQueue;if(l===null)return null;var r=l.shared;if(Bu===r&&!tb&&(s("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),tb=!0),NU()){var d=r.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),r.pending=t,gE(n,i)}else return xE(n,r,t,i)}function Lu(n,t,i){var l=t.updateQueue;if(l!==null){var r=l.shared;if(m0(i)){var d=r.lanes;d=d0(d,n.pendingLanes);var D=at(d,i);r.lanes=D,Yf(n,D)}}}function ib(n,t){var i=n.updateQueue,l=n.alternate;if(l!==null){var r=l.updateQueue;if(i===r){var d=null,D=null,A=i.firstBaseUpdate;if(A!==null){var k=A;do{var F={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};D===null?d=D=F:(D.next=F,D=F),k=k.next}while(k!==null);D===null?d=D=t:(D.next=t,D=t)}else d=D=t;i={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:D,shared:r.shared,effects:r.effects},n.updateQueue=i;return}}var Y=i.lastBaseUpdate;Y===null?i.firstBaseUpdate=t:Y.next=t,i.lastBaseUpdate=t}function hE(n,t,i,l,r,d){switch(i.tag){case Kg:{var D=i.payload;if(typeof D=="function"){Wg();var A=D.call(d,l,r);{if(n.mode&Kt){yo(!0);try{D.call(d,l,r)}finally{yo(!1)}}Fg()}return A}return D}case nb:n.flags=n.flags&~Yo|Ut;case Yg:{var k=i.payload,F;if(typeof k=="function"){Wg(),F=k.call(d,l,r);{if(n.mode&Kt){yo(!0);try{k.call(d,l,r)}finally{yo(!1)}}Fg()}}else F=k;return F==null?l:it({},l,F)}case Iu:return _u=!0,l}return l}function $u(n,t,i,l){var r=n.updateQueue;_u=!1,Bu=r.shared;var d=r.firstBaseUpdate,D=r.lastBaseUpdate,A=r.shared.pending;if(A!==null){r.shared.pending=null;var k=A,F=k.next;k.next=null,D===null?d=F:D.next=F,D=k;var Y=n.alternate;if(Y!==null){var ce=Y.updateQueue,se=ce.lastBaseUpdate;se!==D&&(se===null?ce.firstBaseUpdate=F:se.next=F,ce.lastBaseUpdate=k)}}if(d!==null){var je=r.baseState,Me=Ye,we=null,dn=null,kn=null,Un=d;do{var vt=Un.lane,ft=Un.eventTime;if(Fr(l,vt)){if(kn!==null){var Ve={eventTime:ft,lane:Do,tag:Un.tag,payload:Un.payload,callback:Un.callback,next:null};kn=kn.next=Ve}je=hE(n,r,Un,je,t,i);var he=Un.callback;if(he!==null&&Un.lane!==Do){n.flags|=Wx;var en=r.effects;en===null?r.effects=[Un]:en.push(Un)}}else{var ge={eventTime:ft,lane:vt,tag:Un.tag,payload:Un.payload,callback:Un.callback,next:null};kn===null?(dn=kn=ge,we=je):kn=kn.next=ge,Me=at(Me,vt)}if(Un=Un.next,Un===null){if(A=r.shared.pending,A===null)break;var vn=A,pn=vn.next;vn.next=null,Un=pn,r.lastBaseUpdate=vn,r.shared.pending=null}}while(!0);kn===null&&(we=je),r.baseState=we,r.firstBaseUpdate=dn,r.lastBaseUpdate=kn;var Hn=r.shared.interleaved;if(Hn!==null){var Xn=Hn;do Me=at(Me,Xn.lane),Xn=Xn.next;while(Xn!==Hn)}else d===null&&(r.shared.lanes=Ye);sm(Me),n.lanes=Me,n.memoizedState=je}Bu=null}function vE(n,t){if(typeof n!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+n));n.call(t)}function Xg(){_u=!1}function Ou(){return _u}function Zg(n,t,i){var l=t.effects;if(t.effects=null,l!==null)for(var r=0;r<l.length;r++){var d=l[r],D=d.callback;D!==null&&(d.callback=null,vE(D,i))}}var Ic={},ha=pa(Ic),_c=pa(Ic),Gu=pa(Ic);function zu(n){if(n===Ic)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return n}function eh(){var n=zu(Gu.current);return n}function lb(n,t){Go(Gu,t,n),Go(_c,n,n),Go(ha,Ic,n);var i=_1(t);Oo(ha,n),Go(ha,i,n)}function ms(n){Oo(ha,n),Oo(_c,n),Oo(Gu,n)}function ab(){var n=zu(ha.current);return n}function nh(n){zu(Gu.current);var t=zu(ha.current),i=B1(t,n.type);t!==i&&(Go(_c,n,n),Go(ha,i,n))}function rb(n){_c.current===n&&(Oo(ha,n),Oo(_c,n))}var yE=0,th=1,oh=1,Bc=2,Hi=pa(yE);function sb(n,t){return(n&t)!==0}function us(n){return n&th}function cb(n,t){return n&th|t}function DE(n,t){return n|t}function va(n,t){Go(Hi,t,n)}function ds(n){Oo(Hi,n)}function SE(n,t){var i=n.memoizedState;return i!==null?i.dehydrated!==null:(n.memoizedProps,!0)}function Hu(n){for(var t=n;t!==null;){if(t.tag===R){var i=t.memoizedState;if(i!==null){var l=i.dehydrated;if(l===null||vg(l)||Rp(l))return t}}else if(t.tag===G&&t.memoizedProps.revealOrder!==void 0){var r=(t.flags&Ut)!==Gn;if(r)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)return null;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=0,co=1,sl=2,mo=4,Ao=8,mb=[];function ub(){for(var n=0;n<mb.length;n++){var t=mb[n];t._workInProgressVersionPrimary=null}mb.length=0}function jE(n,t){var i=t._getVersion,l=i(t._source);n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,l]:n.mutableSourceEagerHydrationData.push(t,l)}var gn=c.ReactCurrentDispatcher,Lc=c.ReactCurrentBatchConfig,db,fs;db=new Set;var ur=Ye,Tt=null,uo=null,fo=null,Wu=!1,$c=!1,Oc=0,ME=0,CE=25,_e=null,Vi=null,ya=-1,fb=!1;function wt(){{var n=_e;Vi===null?Vi=[n]:Vi.push(n)}}function cn(){{var n=_e;Vi!==null&&(ya++,Vi[ya]!==n&&RE(n))}}function ps(n){n!=null&&!Mn(n)&&s("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",_e,typeof n)}function RE(n){{var t=Qn(Tt);if(!db.has(t)&&(db.add(t),Vi!==null)){for(var i="",l=30,r=0;r<=ya;r++){for(var d=Vi[r],D=r===ya?n:d,A=r+1+". "+d;A.length<l;)A+=" ";A+=D+`
`,i+=A}s(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,t,i)}}}function zo(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function pb(n,t){if(fb)return!1;if(t===null)return s("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",_e),!1;n.length!==t.length&&s(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,_e,"["+t.join(", ")+"]","["+n.join(", ")+"]");for(var i=0;i<t.length&&i<n.length;i++)if(!hi(n[i],t[i]))return!1;return!0}function bs(n,t,i,l,r,d){ur=d,Tt=t,Vi=n!==null?n._debugHookTypes:null,ya=-1,fb=n!==null&&n.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=Ye,n!==null&&n.memoizedState!==null?gn.current=Mh:Vi!==null?gn.current=jh:gn.current=Sh;var D=i(l,r);if($c){var A=0;do{if($c=!1,Oc=0,A>=CE)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");A+=1,fb=!1,uo=null,fo=null,t.updateQueue=null,ya=-1,gn.current=Ch,D=i(l,r)}while($c)}gn.current=id,t._debugHookTypes=Vi;var k=uo!==null&&uo.next!==null;if(ur=Ye,Tt=null,uo=null,fo=null,_e=null,Vi=null,ya=-1,n!==null&&(n.flags&Vl)!==(t.flags&Vl)&&(n.mode&gt)!==In&&s("Internal React error: Expected static flag was missing. Please notify the React team."),Wu=!1,k)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return D}function Ns(){var n=Oc!==0;return Oc=0,n}function ih(n,t,i){t.updateQueue=n.updateQueue,(t.mode&il)!==In?t.flags&=-50333701:t.flags&=-2053,n.lanes=Fm(n.lanes,i)}function lh(){if(gn.current=id,Wu){for(var n=Tt.memoizedState;n!==null;){var t=n.queue;t!==null&&(t.pending=null),n=n.next}Wu=!1}ur=Ye,Tt=null,uo=null,fo=null,Vi=null,ya=-1,_e=null,gh=!1,$c=!1,Oc=0}function cl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?Tt.memoizedState=fo=n:fo=fo.next=n,fo}function ki(){var n;if(uo===null){var t=Tt.alternate;t!==null?n=t.memoizedState:n=null}else n=uo.next;var i;if(fo===null?i=Tt.memoizedState:i=fo.next,i!==null)fo=i,i=fo.next,uo=n;else{if(n===null)throw new Error("Rendered more hooks than during the previous render.");uo=n;var l={memoizedState:uo.memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null};fo===null?Tt.memoizedState=fo=l:fo=fo.next=l}return fo}function ah(){return{lastEffect:null,stores:null}}function bb(n,t){return typeof t=="function"?t(n):t}function Nb(n,t,i){var l=cl(),r;i!==void 0?r=i(t):r=t,l.memoizedState=l.baseState=r;var d={pending:null,interleaved:null,lanes:Ye,dispatch:null,lastRenderedReducer:n,lastRenderedState:r};l.queue=d;var D=d.dispatch=wE.bind(null,Tt,d);return[l.memoizedState,D]}function xb(n,t,i){var l=ki(),r=l.queue;if(r===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");r.lastRenderedReducer=n;var d=uo,D=d.baseQueue,A=r.pending;if(A!==null){if(D!==null){var k=D.next,F=A.next;D.next=F,A.next=k}d.baseQueue!==D&&s("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),d.baseQueue=D=A,r.pending=null}if(D!==null){var Y=D.next,ce=d.baseState,se=null,je=null,Me=null,we=Y;do{var dn=we.lane;if(Fr(ur,dn)){if(Me!==null){var Un={lane:Do,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};Me=Me.next=Un}if(we.hasEagerState)ce=we.eagerState;else{var vt=we.action;ce=n(ce,vt)}}else{var kn={lane:dn,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};Me===null?(je=Me=kn,se=ce):Me=Me.next=kn,Tt.lanes=at(Tt.lanes,dn),sm(dn)}we=we.next}while(we!==null&&we!==Y);Me===null?se=ce:Me.next=je,hi(ce,l.memoizedState)||Kc(),l.memoizedState=ce,l.baseState=se,l.baseQueue=Me,r.lastRenderedState=ce}var ft=r.interleaved;if(ft!==null){var ge=ft;do{var Ve=ge.lane;Tt.lanes=at(Tt.lanes,Ve),sm(Ve),ge=ge.next}while(ge!==ft)}else D===null&&(r.lanes=Ye);var he=r.dispatch;return[l.memoizedState,he]}function gb(n,t,i){var l=ki(),r=l.queue;if(r===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");r.lastRenderedReducer=n;var d=r.dispatch,D=r.pending,A=l.memoizedState;if(D!==null){r.pending=null;var k=D.next,F=k;do{var Y=F.action;A=n(A,Y),F=F.next}while(F!==k);hi(A,l.memoizedState)||Kc(),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),r.lastRenderedState=A}return[A,d]}function Sk(n,t,i){}function jk(n,t,i){}function hb(n,t,i){var l=Tt,r=cl(),d,D=Eo();if(D){if(i===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");d=i(),fs||d!==i()&&(s("The result of getServerSnapshot should be cached to avoid an infinite loop"),fs=!0)}else{if(d=t(),!fs){var A=t();hi(d,A)||(s("The result of getSnapshot should be cached to avoid an infinite loop"),fs=!0)}var k=Sd();if(k===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Wm(k,ur)||rh(l,t,d)}r.memoizedState=d;var F={value:d,getSnapshot:t};return r.queue=F,Ku(ch.bind(null,l,F,n),[n]),l.flags|=la,Gc(co|Ao,sh.bind(null,l,F,d,t),void 0,null),d}function Fu(n,t,i){var l=Tt,r=ki(),d=t();if(!fs){var D=t();hi(d,D)||(s("The result of getSnapshot should be cached to avoid an infinite loop"),fs=!0)}var A=r.memoizedState,k=!hi(A,d);k&&(r.memoizedState=d,Kc());var F=r.queue;if(Hc(ch.bind(null,l,F,n),[n]),F.getSnapshot!==t||k||fo!==null&&fo.memoizedState.tag&co){l.flags|=la,Gc(co|Ao,sh.bind(null,l,F,d,t),void 0,null);var Y=Sd();if(Y===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Wm(Y,ur)||rh(l,t,d)}return d}function rh(n,t,i){n.flags|=bf;var l={getSnapshot:t,value:i},r=Tt.updateQueue;if(r===null)r=ah(),Tt.updateQueue=r,r.stores=[l];else{var d=r.stores;d===null?r.stores=[l]:d.push(l)}}function sh(n,t,i,l){t.value=i,t.getSnapshot=l,mh(t)&&uh(n)}function ch(n,t,i){var l=function(){mh(t)&&uh(n)};return i(l)}function mh(n){var t=n.getSnapshot,i=n.value;try{var l=t();return!hi(i,l)}catch{return!0}}function uh(n){var t=ai(n,Yn);t!==null&&xo(t,n,Yn,Ht)}function qu(n){var t=cl();typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n;var i={pending:null,interleaved:null,lanes:Ye,dispatch:null,lastRenderedReducer:bb,lastRenderedState:n};t.queue=i;var l=i.dispatch=VE.bind(null,Tt,i);return[t.memoizedState,l]}function vb(n){return xb(bb)}function yb(n){return gb(bb)}function Gc(n,t,i,l){var r={tag:n,create:t,destroy:i,deps:l,next:null},d=Tt.updateQueue;if(d===null)d=ah(),Tt.updateQueue=d,d.lastEffect=r.next=r;else{var D=d.lastEffect;if(D===null)d.lastEffect=r.next=r;else{var A=D.next;D.next=r,r.next=A,d.lastEffect=r}}return r}function Db(n){var t=cl();{var i={current:n};return t.memoizedState=i,i}}function Qu(n){var t=ki();return t.memoizedState}function zc(n,t,i,l){var r=cl(),d=l===void 0?null:l;Tt.flags|=n,r.memoizedState=Gc(co|t,i,void 0,d)}function Yu(n,t,i,l){var r=ki(),d=l===void 0?null:l,D=void 0;if(uo!==null){var A=uo.memoizedState;if(D=A.destroy,d!==null){var k=A.deps;if(pb(d,k)){r.memoizedState=Gc(t,i,D,d);return}}}Tt.flags|=n,r.memoizedState=Gc(co|t,i,D,d)}function Ku(n,t){return(Tt.mode&il)!==In?zc(hf|la|gf,Ao,n,t):zc(la|gf,Ao,n,t)}function Hc(n,t){return Yu(la,Ao,n,t)}function Sb(n,t){return zc(At,sl,n,t)}function Ju(n,t){return Yu(At,sl,n,t)}function jb(n,t){var i=At;return i|=Qa,(Tt.mode&il)!==In&&(i|=aa),zc(i,mo,n,t)}function Xu(n,t){return Yu(At,mo,n,t)}function dh(n,t){if(typeof t=="function"){var i=t,l=n();return i(l),function(){i(null)}}else if(t!=null){var r=t;r.hasOwnProperty("current")||s("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(r).join(", ")+"}");var d=n();return r.current=d,function(){r.current=null}}}function Mb(n,t,i){typeof t!="function"&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",t!==null?typeof t:"null");var l=i!=null?i.concat([n]):null,r=At;return r|=Qa,(Tt.mode&il)!==In&&(r|=aa),zc(r,mo,dh.bind(null,t,n),l)}function Zu(n,t,i){typeof t!="function"&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",t!==null?typeof t:"null");var l=i!=null?i.concat([n]):null;return Yu(At,mo,dh.bind(null,t,n),l)}function EE(n,t){}var ed=EE;function Cb(n,t){var i=cl(),l=t===void 0?null:t;return i.memoizedState=[n,l],n}function nd(n,t){var i=ki(),l=t===void 0?null:t,r=i.memoizedState;if(r!==null&&l!==null){var d=r[1];if(pb(l,d))return r[0]}return i.memoizedState=[n,l],n}function Rb(n,t){var i=cl(),l=t===void 0?null:t,r=n();return i.memoizedState=[r,l],r}function td(n,t){var i=ki(),l=t===void 0?null:t,r=i.memoizedState;if(r!==null&&l!==null){var d=r[1];if(pb(l,d))return r[0]}var D=n();return i.memoizedState=[D,l],D}function Eb(n){var t=cl();return t.memoizedState=n,n}function fh(n){var t=ki(),i=uo,l=i.memoizedState;return bh(t,l,n)}function ph(n){var t=ki();if(uo===null)return t.memoizedState=n,n;var i=uo.memoizedState;return bh(t,i,n)}function bh(n,t,i){var l=!fM(ur);if(l){if(!hi(i,t)){var r=u0();Tt.lanes=at(Tt.lanes,r),sm(r),n.baseState=!0}return t}else return n.baseState&&(n.baseState=!1,Kc()),n.memoizedState=i,i}function AE(n,t,i){var l=$i();So(DM(l,Tl)),n(!0);var r=Lc.transition;Lc.transition={};var d=Lc.transition;Lc.transition._updatedFibers=new Set;try{n(!1),t()}finally{if(So(l),Lc.transition=r,r===null&&d._updatedFibers){var D=d._updatedFibers.size;D>10&&p("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),d._updatedFibers.clear()}}}function Ab(){var n=qu(!1),t=n[0],i=n[1],l=AE.bind(null,i),r=cl();return r.memoizedState=l,[t,l]}function Nh(){var n=vb(),t=n[0],i=ki(),l=i.memoizedState;return[t,l]}function xh(){var n=yb(),t=n[0],i=ki(),l=i.memoizedState;return[t,l]}var gh=!1;function UE(){return gh}function Ub(){var n=cl(),t=Sd(),i=t.identifierPrefix,l;if(Eo()){var r=qR();l=":"+i+"R"+r;var d=Oc++;d>0&&(l+="H"+d.toString(32)),l+=":"}else{var D=ME++;l=":"+i+"r"+D.toString(32)+":"}return n.memoizedState=l,l}function od(){var n=ki(),t=n.memoizedState;return t}function wE(n,t,i){typeof arguments[3]=="function"&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var l=Ca(n),r={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(hh(n))vh(t,r);else{var d=Qg(n,t,r,l);if(d!==null){var D=Xo();xo(d,n,l,D),yh(d,t,l)}}Dh(n,l)}function VE(n,t,i){typeof arguments[3]=="function"&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var l=Ca(n),r={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(hh(n))vh(t,r);else{var d=n.alternate;if(n.lanes===Ye&&(d===null||d.lanes===Ye)){var D=t.lastRenderedReducer;if(D!==null){var A;A=gn.current,gn.current=Wi;try{var k=t.lastRenderedState,F=D(k,i);if(r.hasEagerState=!0,r.eagerState=F,hi(F,k)){NE(n,t,r,l);return}}catch{}finally{gn.current=A}}}var Y=Qg(n,t,r,l);if(Y!==null){var ce=Xo();xo(Y,n,l,ce),yh(Y,t,l)}}Dh(n,l)}function hh(n){var t=n.alternate;return n===Tt||t!==null&&t===Tt}function vh(n,t){$c=Wu=!0;var i=n.pending;i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t}function yh(n,t,i){if(m0(i)){var l=t.lanes;l=d0(l,n.pendingLanes);var r=at(l,i);t.lanes=r,Yf(n,r)}}function Dh(n,t,i){jf(n,t)}var id={readContext:ao,useCallback:zo,useContext:zo,useEffect:zo,useImperativeHandle:zo,useInsertionEffect:zo,useLayoutEffect:zo,useMemo:zo,useReducer:zo,useRef:zo,useState:zo,useDebugValue:zo,useDeferredValue:zo,useTransition:zo,useMutableSource:zo,useSyncExternalStore:zo,useId:zo,unstable_isNewReconciler:ne},Sh=null,jh=null,Mh=null,Ch=null,ml=null,Wi=null,ld=null;{var wb=function(){s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Kn=function(){s("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Sh={readContext:function(n){return ao(n)},useCallback:function(n,t){return _e="useCallback",wt(),ps(t),Cb(n,t)},useContext:function(n){return _e="useContext",wt(),ao(n)},useEffect:function(n,t){return _e="useEffect",wt(),ps(t),Ku(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",wt(),ps(i),Mb(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",wt(),ps(t),Sb(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",wt(),ps(t),jb(n,t)},useMemo:function(n,t){_e="useMemo",wt(),ps(t);var i=gn.current;gn.current=ml;try{return Rb(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",wt();var l=gn.current;gn.current=ml;try{return Nb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",wt(),Db(n)},useState:function(n){_e="useState",wt();var t=gn.current;gn.current=ml;try{return qu(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",wt(),void 0},useDeferredValue:function(n){return _e="useDeferredValue",wt(),Eb(n)},useTransition:function(){return _e="useTransition",wt(),Ab()},useMutableSource:function(n,t,i){return _e="useMutableSource",wt(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",wt(),hb(n,t,i)},useId:function(){return _e="useId",wt(),Ub()},unstable_isNewReconciler:ne},jh={readContext:function(n){return ao(n)},useCallback:function(n,t){return _e="useCallback",cn(),Cb(n,t)},useContext:function(n){return _e="useContext",cn(),ao(n)},useEffect:function(n,t){return _e="useEffect",cn(),Ku(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",cn(),Mb(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",cn(),Sb(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",cn(),jb(n,t)},useMemo:function(n,t){_e="useMemo",cn();var i=gn.current;gn.current=ml;try{return Rb(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",cn();var l=gn.current;gn.current=ml;try{return Nb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",cn(),Db(n)},useState:function(n){_e="useState",cn();var t=gn.current;gn.current=ml;try{return qu(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",cn(),void 0},useDeferredValue:function(n){return _e="useDeferredValue",cn(),Eb(n)},useTransition:function(){return _e="useTransition",cn(),Ab()},useMutableSource:function(n,t,i){return _e="useMutableSource",cn(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",cn(),hb(n,t,i)},useId:function(){return _e="useId",cn(),Ub()},unstable_isNewReconciler:ne},Mh={readContext:function(n){return ao(n)},useCallback:function(n,t){return _e="useCallback",cn(),nd(n,t)},useContext:function(n){return _e="useContext",cn(),ao(n)},useEffect:function(n,t){return _e="useEffect",cn(),Hc(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",cn(),Zu(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",cn(),Ju(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",cn(),Xu(n,t)},useMemo:function(n,t){_e="useMemo",cn();var i=gn.current;gn.current=Wi;try{return td(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",cn();var l=gn.current;gn.current=Wi;try{return xb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",cn(),Qu()},useState:function(n){_e="useState",cn();var t=gn.current;gn.current=Wi;try{return vb(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",cn(),ed()},useDeferredValue:function(n){return _e="useDeferredValue",cn(),fh(n)},useTransition:function(){return _e="useTransition",cn(),Nh()},useMutableSource:function(n,t,i){return _e="useMutableSource",cn(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",cn(),Fu(n,t)},useId:function(){return _e="useId",cn(),od()},unstable_isNewReconciler:ne},Ch={readContext:function(n){return ao(n)},useCallback:function(n,t){return _e="useCallback",cn(),nd(n,t)},useContext:function(n){return _e="useContext",cn(),ao(n)},useEffect:function(n,t){return _e="useEffect",cn(),Hc(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",cn(),Zu(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",cn(),Ju(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",cn(),Xu(n,t)},useMemo:function(n,t){_e="useMemo",cn();var i=gn.current;gn.current=ld;try{return td(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",cn();var l=gn.current;gn.current=ld;try{return gb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",cn(),Qu()},useState:function(n){_e="useState",cn();var t=gn.current;gn.current=ld;try{return yb(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",cn(),ed()},useDeferredValue:function(n){return _e="useDeferredValue",cn(),ph(n)},useTransition:function(){return _e="useTransition",cn(),xh()},useMutableSource:function(n,t,i){return _e="useMutableSource",cn(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",cn(),Fu(n,t)},useId:function(){return _e="useId",cn(),od()},unstable_isNewReconciler:ne},ml={readContext:function(n){return wb(),ao(n)},useCallback:function(n,t){return _e="useCallback",Kn(),wt(),Cb(n,t)},useContext:function(n){return _e="useContext",Kn(),wt(),ao(n)},useEffect:function(n,t){return _e="useEffect",Kn(),wt(),Ku(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",Kn(),wt(),Mb(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",Kn(),wt(),Sb(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",Kn(),wt(),jb(n,t)},useMemo:function(n,t){_e="useMemo",Kn(),wt();var i=gn.current;gn.current=ml;try{return Rb(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",Kn(),wt();var l=gn.current;gn.current=ml;try{return Nb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",Kn(),wt(),Db(n)},useState:function(n){_e="useState",Kn(),wt();var t=gn.current;gn.current=ml;try{return qu(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",Kn(),wt(),void 0},useDeferredValue:function(n){return _e="useDeferredValue",Kn(),wt(),Eb(n)},useTransition:function(){return _e="useTransition",Kn(),wt(),Ab()},useMutableSource:function(n,t,i){return _e="useMutableSource",Kn(),wt(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",Kn(),wt(),hb(n,t,i)},useId:function(){return _e="useId",Kn(),wt(),Ub()},unstable_isNewReconciler:ne},Wi={readContext:function(n){return wb(),ao(n)},useCallback:function(n,t){return _e="useCallback",Kn(),cn(),nd(n,t)},useContext:function(n){return _e="useContext",Kn(),cn(),ao(n)},useEffect:function(n,t){return _e="useEffect",Kn(),cn(),Hc(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",Kn(),cn(),Zu(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",Kn(),cn(),Ju(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",Kn(),cn(),Xu(n,t)},useMemo:function(n,t){_e="useMemo",Kn(),cn();var i=gn.current;gn.current=Wi;try{return td(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",Kn(),cn();var l=gn.current;gn.current=Wi;try{return xb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",Kn(),cn(),Qu()},useState:function(n){_e="useState",Kn(),cn();var t=gn.current;gn.current=Wi;try{return vb(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",Kn(),cn(),ed()},useDeferredValue:function(n){return _e="useDeferredValue",Kn(),cn(),fh(n)},useTransition:function(){return _e="useTransition",Kn(),cn(),Nh()},useMutableSource:function(n,t,i){return _e="useMutableSource",Kn(),cn(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",Kn(),cn(),Fu(n,t)},useId:function(){return _e="useId",Kn(),cn(),od()},unstable_isNewReconciler:ne},ld={readContext:function(n){return wb(),ao(n)},useCallback:function(n,t){return _e="useCallback",Kn(),cn(),nd(n,t)},useContext:function(n){return _e="useContext",Kn(),cn(),ao(n)},useEffect:function(n,t){return _e="useEffect",Kn(),cn(),Hc(n,t)},useImperativeHandle:function(n,t,i){return _e="useImperativeHandle",Kn(),cn(),Zu(n,t,i)},useInsertionEffect:function(n,t){return _e="useInsertionEffect",Kn(),cn(),Ju(n,t)},useLayoutEffect:function(n,t){return _e="useLayoutEffect",Kn(),cn(),Xu(n,t)},useMemo:function(n,t){_e="useMemo",Kn(),cn();var i=gn.current;gn.current=Wi;try{return td(n,t)}finally{gn.current=i}},useReducer:function(n,t,i){_e="useReducer",Kn(),cn();var l=gn.current;gn.current=Wi;try{return gb(n,t,i)}finally{gn.current=l}},useRef:function(n){return _e="useRef",Kn(),cn(),Qu()},useState:function(n){_e="useState",Kn(),cn();var t=gn.current;gn.current=Wi;try{return yb(n)}finally{gn.current=t}},useDebugValue:function(n,t){return _e="useDebugValue",Kn(),cn(),ed()},useDeferredValue:function(n){return _e="useDeferredValue",Kn(),cn(),ph(n)},useTransition:function(){return _e="useTransition",Kn(),cn(),xh()},useMutableSource:function(n,t,i){return _e="useMutableSource",Kn(),cn(),void 0},useSyncExternalStore:function(n,t,i){return _e="useSyncExternalStore",Kn(),cn(),Fu(n,t)},useId:function(){return _e="useId",Kn(),cn(),od()},unstable_isNewReconciler:ne}}var Da=a.unstable_now,Rh=0,ad=-1,Wc=-1,rd=-1,Vb=!1,sd=!1;function Eh(){return Vb}function kE(){sd=!0}function TE(){Vb=!1,sd=!1}function PE(){Vb=sd,sd=!1}function Ah(){return Rh}function Uh(){Rh=Da()}function kb(n){Wc=Da(),n.actualStartTime<0&&(n.actualStartTime=Da())}function wh(n){Wc=-1}function cd(n,t){if(Wc>=0){var i=Da()-Wc;n.actualDuration+=i,t&&(n.selfBaseDuration=i),Wc=-1}}function ul(n){if(ad>=0){var t=Da()-ad;ad=-1;for(var i=n.return;i!==null;){switch(i.tag){case h:var l=i.stateNode;l.effectDuration+=t;return;case w:var r=i.stateNode;r.effectDuration+=t;return}i=i.return}}}function Tb(n){if(rd>=0){var t=Da()-rd;rd=-1;for(var i=n.return;i!==null;){switch(i.tag){case h:var l=i.stateNode;l!==null&&(l.passiveEffectDuration+=t);return;case w:var r=i.stateNode;r!==null&&(r.passiveEffectDuration+=t);return}i=i.return}}}function dl(){ad=Da()}function Pb(){rd=Da()}function Ib(n){for(var t=n.child;t;)n.actualDuration+=t.actualDuration,t=t.sibling}function Fi(n,t){if(n&&n.defaultProps){var i=it({},t),l=n.defaultProps;for(var r in l)i[r]===void 0&&(i[r]=l[r]);return i}return t}var _b={},Bb,Lb,$b,Ob,Gb,Vh,md,zb,Hb,Wb,Fc;{Bb=new Set,Lb=new Set,$b=new Set,Ob=new Set,zb=new Set,Gb=new Set,Hb=new Set,Wb=new Set,Fc=new Set;var kh=new Set;md=function(n,t){if(!(n===null||typeof n=="function")){var i=t+"_"+n;kh.has(i)||(kh.add(i),s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,n))}},Vh=function(n,t){if(t===void 0){var i=jt(n)||"Component";Gb.has(i)||(Gb.add(i),s("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",i))}},Object.defineProperty(_b,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(_b)}function Fb(n,t,i,l){var r=n.memoizedState,d=i(l,r);{if(n.mode&Kt){yo(!0);try{d=i(l,r)}finally{yo(!1)}}Vh(t,d)}var D=d==null?r:it({},r,d);if(n.memoizedState=D,n.lanes===Ye){var A=n.updateQueue;A.baseState=D}}var qb={isMounted:Cj,enqueueSetState:function(n,t,i){var l=_r(n),r=Xo(),d=Ca(l),D=Ol(r,d);D.payload=t,i!=null&&(md(i,"setState"),D.callback=i);var A=ga(l,D,d);A!==null&&(xo(A,l,d,r),Lu(A,l,d)),jf(l,d)},enqueueReplaceState:function(n,t,i){var l=_r(n),r=Xo(),d=Ca(l),D=Ol(r,d);D.tag=Kg,D.payload=t,i!=null&&(md(i,"replaceState"),D.callback=i);var A=ga(l,D,d);A!==null&&(xo(A,l,d,r),Lu(A,l,d)),jf(l,d)},enqueueForceUpdate:function(n,t){var i=_r(n),l=Xo(),r=Ca(i),d=Ol(l,r);d.tag=Iu,t!=null&&(md(t,"forceUpdate"),d.callback=t);var D=ga(i,d,r);D!==null&&(xo(D,i,r,l),Lu(D,i,r)),oM(i,r)}};function Th(n,t,i,l,r,d,D){var A=n.stateNode;if(typeof A.shouldComponentUpdate=="function"){var k=A.shouldComponentUpdate(l,d,D);{if(n.mode&Kt){yo(!0);try{k=A.shouldComponentUpdate(l,d,D)}finally{yo(!1)}}k===void 0&&s("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",jt(t)||"Component")}return k}return t.prototype&&t.prototype.isPureReactComponent?!pc(i,l)||!pc(r,d):!0}function IE(n,t,i){var l=n.stateNode;{var r=jt(t)||"Component",d=l.render;d||(t.prototype&&typeof t.prototype.render=="function"?s("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",r):s("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",r)),l.getInitialState&&!l.getInitialState.isReactClassApproved&&!l.state&&s("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",r),l.getDefaultProps&&!l.getDefaultProps.isReactClassApproved&&s("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",r),l.propTypes&&s("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",r),l.contextType&&s("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",r),t.childContextTypes&&!Fc.has(t)&&(n.mode&Kt)===In&&(Fc.add(t),s(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,r)),t.contextTypes&&!Fc.has(t)&&(n.mode&Kt)===In&&(Fc.add(t),s(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,r)),l.contextTypes&&s("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",r),t.contextType&&t.contextTypes&&!Hb.has(t)&&(Hb.add(t),s("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",r)),typeof l.componentShouldUpdate=="function"&&s("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",r),t.prototype&&t.prototype.isPureReactComponent&&typeof l.shouldComponentUpdate<"u"&&s("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",jt(t)||"A pure component"),typeof l.componentDidUnmount=="function"&&s("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",r),typeof l.componentDidReceiveProps=="function"&&s("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",r),typeof l.componentWillRecieveProps=="function"&&s("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",r),typeof l.UNSAFE_componentWillRecieveProps=="function"&&s("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",r);var D=l.props!==i;l.props!==void 0&&D&&s("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",r,r),l.defaultProps&&s("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",r,r),typeof l.getSnapshotBeforeUpdate=="function"&&typeof l.componentDidUpdate!="function"&&!$b.has(t)&&($b.add(t),s("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",jt(t))),typeof l.getDerivedStateFromProps=="function"&&s("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r),typeof l.getDerivedStateFromError=="function"&&s("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r),typeof t.getSnapshotBeforeUpdate=="function"&&s("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",r);var A=l.state;A&&(typeof A!="object"||Mn(A))&&s("%s.state: must be set to an object or null",r),typeof l.getChildContext=="function"&&typeof t.childContextTypes!="object"&&s("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",r)}}function Ph(n,t){t.updater=qb,n.stateNode=t,Dj(t,n),t._reactInternalInstance=_b}function Ih(n,t,i){var l=!1,r=vi,d=vi,D=t.contextType;if("contextType"in t){var A=D===null||D!==void 0&&D.$$typeof===rn&&D._context===void 0;if(!A&&!Wb.has(t)){Wb.add(t);var k="";D===void 0?k=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof D!="object"?k=" However, it is set to a "+typeof D+".":D.$$typeof===Ke?k=" Did you accidentally pass the Context.Provider instead?":D._context!==void 0?k=" Did you accidentally pass the Context.Consumer instead?":k=" However, it is set to an object with keys {"+Object.keys(D).join(", ")+"}.",s("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",jt(t)||"Component",k)}}if(typeof D=="object"&&D!==null)d=ao(D);else{r=ts(n,t,!0);var F=t.contextTypes;l=F!=null,d=l?os(n,r):vi}var Y=new t(i,d);if(n.mode&Kt){yo(!0);try{Y=new t(i,d)}finally{yo(!1)}}var ce=n.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null;Ph(n,Y);{if(typeof t.getDerivedStateFromProps=="function"&&ce===null){var se=jt(t)||"Component";Lb.has(se)||(Lb.add(se),s("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",se,Y.state===null?"null":"undefined",se))}if(typeof t.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"){var je=null,Me=null,we=null;if(typeof Y.componentWillMount=="function"&&Y.componentWillMount.__suppressDeprecationWarning!==!0?je="componentWillMount":typeof Y.UNSAFE_componentWillMount=="function"&&(je="UNSAFE_componentWillMount"),typeof Y.componentWillReceiveProps=="function"&&Y.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Me="componentWillReceiveProps":typeof Y.UNSAFE_componentWillReceiveProps=="function"&&(Me="UNSAFE_componentWillReceiveProps"),typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate.__suppressDeprecationWarning!==!0?we="componentWillUpdate":typeof Y.UNSAFE_componentWillUpdate=="function"&&(we="UNSAFE_componentWillUpdate"),je!==null||Me!==null||we!==null){var dn=jt(t)||"Component",kn=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Ob.has(dn)||(Ob.add(dn),s(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,dn,kn,je!==null?`
  `+je:"",Me!==null?`
  `+Me:"",we!==null?`
  `+we:""))}}}return l&&Mg(n,r,d),Y}function _E(n,t){var i=t.state;typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),i!==t.state&&(s("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Qn(n)||"Component"),qb.enqueueReplaceState(t,t.state,null))}function _h(n,t,i,l){var r=t.state;if(typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==r){{var d=Qn(n)||"Component";Bb.has(d)||(Bb.add(d),s("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",d))}qb.enqueueReplaceState(t,t.state,null)}}function Qb(n,t,i,l){IE(n,t,i);var r=n.stateNode;r.props=i,r.state=n.memoizedState,r.refs={},ob(n);var d=t.contextType;if(typeof d=="object"&&d!==null)r.context=ao(d);else{var D=ts(n,t,!0);r.context=os(n,D)}{if(r.state===i){var A=jt(t)||"Component";zb.has(A)||(zb.add(A),s("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",A))}n.mode&Kt&&zi.recordLegacyContextWarning(n,r),zi.recordUnsafeLifecycleWarnings(n,r)}r.state=n.memoizedState;var k=t.getDerivedStateFromProps;if(typeof k=="function"&&(Fb(n,t,k,i),r.state=n.memoizedState),typeof t.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function")&&(_E(n,r),$u(n,i,r,l),r.state=n.memoizedState),typeof r.componentDidMount=="function"){var F=At;F|=Qa,(n.mode&il)!==In&&(F|=aa),n.flags|=F}}function BE(n,t,i,l){var r=n.stateNode,d=n.memoizedProps;r.props=d;var D=r.context,A=t.contextType,k=vi;if(typeof A=="object"&&A!==null)k=ao(A);else{var F=ts(n,t,!0);k=os(n,F)}var Y=t.getDerivedStateFromProps,ce=typeof Y=="function"||typeof r.getSnapshotBeforeUpdate=="function";!ce&&(typeof r.UNSAFE_componentWillReceiveProps=="function"||typeof r.componentWillReceiveProps=="function")&&(d!==i||D!==k)&&_h(n,r,i,k),Xg();var se=n.memoizedState,je=r.state=se;if($u(n,i,r,l),je=n.memoizedState,d===i&&se===je&&!yu()&&!Ou()){if(typeof r.componentDidMount=="function"){var Me=At;Me|=Qa,(n.mode&il)!==In&&(Me|=aa),n.flags|=Me}return!1}typeof Y=="function"&&(Fb(n,t,Y,i),je=n.memoizedState);var we=Ou()||Th(n,t,d,i,se,je,k);if(we){if(!ce&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function")&&(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"){var dn=At;dn|=Qa,(n.mode&il)!==In&&(dn|=aa),n.flags|=dn}}else{if(typeof r.componentDidMount=="function"){var kn=At;kn|=Qa,(n.mode&il)!==In&&(kn|=aa),n.flags|=kn}n.memoizedProps=i,n.memoizedState=je}return r.props=i,r.state=je,r.context=k,we}function LE(n,t,i,l,r){var d=t.stateNode;Jg(n,t);var D=t.memoizedProps,A=t.type===t.elementType?D:Fi(t.type,D);d.props=A;var k=t.pendingProps,F=d.context,Y=i.contextType,ce=vi;if(typeof Y=="object"&&Y!==null)ce=ao(Y);else{var se=ts(t,i,!0);ce=os(t,se)}var je=i.getDerivedStateFromProps,Me=typeof je=="function"||typeof d.getSnapshotBeforeUpdate=="function";!Me&&(typeof d.UNSAFE_componentWillReceiveProps=="function"||typeof d.componentWillReceiveProps=="function")&&(D!==k||F!==ce)&&_h(t,d,l,ce),Xg();var we=t.memoizedState,dn=d.state=we;if($u(t,l,d,r),dn=t.memoizedState,D===k&&we===dn&&!yu()&&!Ou()&&!le)return typeof d.componentDidUpdate=="function"&&(D!==n.memoizedProps||we!==n.memoizedState)&&(t.flags|=At),typeof d.getSnapshotBeforeUpdate=="function"&&(D!==n.memoizedProps||we!==n.memoizedState)&&(t.flags|=Lr),!1;typeof je=="function"&&(Fb(t,i,je,l),dn=t.memoizedState);var kn=Ou()||Th(t,i,A,l,we,dn,ce)||le;return kn?(!Me&&(typeof d.UNSAFE_componentWillUpdate=="function"||typeof d.componentWillUpdate=="function")&&(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,dn,ce),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,dn,ce)),typeof d.componentDidUpdate=="function"&&(t.flags|=At),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=Lr)):(typeof d.componentDidUpdate=="function"&&(D!==n.memoizedProps||we!==n.memoizedState)&&(t.flags|=At),typeof d.getSnapshotBeforeUpdate=="function"&&(D!==n.memoizedProps||we!==n.memoizedState)&&(t.flags|=Lr),t.memoizedProps=l,t.memoizedState=dn),d.props=l,d.state=dn,d.context=ce,kn}function dr(n,t){return{value:n,source:t,stack:Ci(t),digest:null}}function Yb(n,t,i){return{value:n,source:null,stack:i??null,digest:t??null}}function $E(n,t){return!0}function Kb(n,t){try{var i=$E(n,t);if(i===!1)return;var l=t.value,r=t.source,d=t.stack,D=d!==null?d:"";if(l!=null&&l._suppressLogging){if(n.tag===g)return;console.error(l)}var A=r?Qn(r):null,k=A?"The above error occurred in the <"+A+"> component:":"The above error occurred in one of your React components:",F;if(n.tag===h)F=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var Y=Qn(n)||"Anonymous";F="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+Y+".")}var ce=k+`
`+D+`

`+(""+F);console.error(ce)}catch(se){setTimeout(function(){throw se})}}var OE=typeof WeakMap=="function"?WeakMap:Map;function Bh(n,t,i){var l=Ol(Ht,i);l.tag=nb,l.payload={element:null};var r=t.value;return l.callback=function(){kU(r),Kb(n,t)},l}function Jb(n,t,i){var l=Ol(Ht,i);l.tag=nb;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var d=t.value;l.payload=function(){return r(d)},l.callback=function(){Yv(n),Kb(n,t)}}var D=n.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){Yv(n),Kb(n,t),typeof r!="function"&&wU(this);var k=t.value,F=t.stack;this.componentDidCatch(k,{componentStack:F!==null?F:""}),typeof r!="function"&&(Ni(n.lanes,Yn)||s("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Qn(n)||"Unknown"))}),l}function Lh(n,t,i){var l=n.pingCache,r;if(l===null?(l=n.pingCache=new OE,r=new Set,l.set(t,r)):(r=l.get(t),r===void 0&&(r=new Set,l.set(t,r))),!r.has(i)){r.add(i);var d=TU.bind(null,n,t,i);Li&&cm(n,i),t.then(d,d)}}function GE(n,t,i,l){var r=n.updateQueue;if(r===null){var d=new Set;d.add(i),n.updateQueue=d}else r.add(i)}function zE(n,t){var i=n.tag;if((n.mode&gt)===In&&(i===v||i===C||i===V)){var l=n.alternate;l?(n.updateQueue=l.updateQueue,n.memoizedState=l.memoizedState,n.lanes=l.lanes):(n.updateQueue=null,n.memoizedState=null)}}function $h(n){var t=n;do{if(t.tag===R&&SE(t))return t;t=t.return}while(t!==null);return null}function Oh(n,t,i,l,r){if((n.mode&gt)===In){if(n===t)n.flags|=Yo;else{if(n.flags|=Ut,i.flags|=Nf,i.flags&=-52805,i.tag===g){var d=i.alternate;if(d===null)i.tag=z;else{var D=Ol(Ht,Yn);D.tag=Iu,ga(i,D,Yn)}}i.lanes=at(i.lanes,Yn)}return n}return n.flags|=Yo,n.lanes=r,n}function HE(n,t,i,l,r){if(i.flags|=Lm,Li&&cm(n,r),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l;zE(i),Eo()&&i.mode&gt&&Vg();var D=$h(t);if(D!==null){D.flags&=~Ul,Oh(D,t,i,n,r),D.mode&gt&&Lh(n,d,r),GE(D,n,d);return}else{if(!dM(r)){Lh(n,d,r),UN();return}var A=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");l=A}}else if(Eo()&&i.mode&gt){Vg();var k=$h(t);if(k!==null){(k.flags&Yo)===Gn&&(k.flags|=Ul),Oh(k,t,i,n,r),zp(dr(l,i));return}}l=dr(l,i),SU(l);var F=t;do{switch(F.tag){case h:{var Y=l;F.flags|=Yo;var ce=Zs(r);F.lanes=at(F.lanes,ce);var se=Bh(F,Y,ce);ib(F,se);return}case g:var je=l,Me=F.type,we=F.stateNode;if((F.flags&Ut)===Gn&&(typeof Me.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&!$v(we))){F.flags|=Yo;var dn=Zs(r);F.lanes=at(F.lanes,dn);var kn=Jb(F,je,dn);ib(F,kn);return}break}F=F.return}while(F!==null)}function WE(){return null}var qc=c.ReactCurrentOwner,qi=!1,Xb,Qc,Zb,eN,nN,fr,tN,ud,Yc;Xb={},Qc={},Zb={},eN={},nN={},fr=!1,tN={},ud={},Yc={};function Ko(n,t,i,l){n===null?t.child=Hg(t,null,i,l):t.child=rs(t,n.child,i,l)}function FE(n,t,i,l){t.child=rs(t,n.child,null,l),t.child=rs(t,null,i,l)}function Gh(n,t,i,l,r){if(t.type!==t.elementType){var d=i.propTypes;d&&Oi(d,l,"prop",jt(i))}var D=i.render,A=t.ref,k,F;cs(t,r),qs(t);{if(qc.current=t,oi(!0),k=bs(n,t,D,l,A,r),F=Ns(),t.mode&Kt){yo(!0);try{k=bs(n,t,D,l,A,r),F=Ns()}finally{yo(!1)}}oi(!1)}return Gr(),n!==null&&!qi?(ih(n,t,r),Gl(n,t,r)):(Eo()&&F&&_p(t),t.flags|=Br,Ko(n,t,k,r),t.child)}function zh(n,t,i,l,r){if(n===null){var d=i.type;if(JU(d)&&i.compare===null&&i.defaultProps===void 0){var D=d;return D=js(d),t.tag=V,t.type=D,lN(t,d),Hh(n,t,D,l,r)}{var A=d.propTypes;if(A&&Oi(A,l,"prop",jt(d)),i.defaultProps!==void 0){var k=jt(d)||"Unknown";Yc[k]||(s("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",k),Yc[k]=!0)}}var F=ON(i.type,null,l,t,t.mode,r);return F.ref=t.ref,F.return=t,t.child=F,F}{var Y=i.type,ce=Y.propTypes;ce&&Oi(ce,l,"prop",jt(Y))}var se=n.child,je=uN(n,r);if(!je){var Me=se.memoizedProps,we=i.compare;if(we=we!==null?we:pc,we(Me,l)&&n.ref===t.ref)return Gl(n,t,r)}t.flags|=Br;var dn=gr(se,l);return dn.ref=t.ref,dn.return=t,t.child=dn,dn}function Hh(n,t,i,l,r){if(t.type!==t.elementType){var d=t.elementType;if(d.$$typeof===An){var D=d,A=D._payload,k=D._init;try{d=k(A)}catch{d=null}var F=d&&d.propTypes;F&&Oi(F,l,"prop",jt(d))}}if(n!==null){var Y=n.memoizedProps;if(pc(Y,l)&&n.ref===t.ref&&t.type===n.type)if(qi=!1,t.pendingProps=l=Y,uN(n,r))(n.flags&Nf)!==Gn&&(qi=!0);else return t.lanes=n.lanes,Gl(n,t,r)}return oN(n,t,i,l,r)}function Wh(n,t,i){var l=t.pendingProps,r=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"||L)if((t.mode&gt)===In){var D={baseLanes:Ye,cachePool:null,transitions:null};t.memoizedState=D,jd(t,i)}else if(Ni(i,bi)){var ce={baseLanes:Ye,cachePool:null,transitions:null};t.memoizedState=ce;var se=d!==null?d.baseLanes:i;jd(t,se)}else{var A=null,k;if(d!==null){var F=d.baseLanes;k=at(F,i)}else k=i;t.lanes=t.childLanes=bi;var Y={baseLanes:k,cachePool:A,transitions:null};return t.memoizedState=Y,t.updateQueue=null,jd(t,k),null}else{var je;d!==null?(je=at(d.baseLanes,i),t.memoizedState=null):je=i,jd(t,je)}return Ko(n,t,r,i),t.child}function qE(n,t,i){var l=t.pendingProps;return Ko(n,t,l,i),t.child}function QE(n,t,i){var l=t.pendingProps.children;return Ko(n,t,l,i),t.child}function YE(n,t,i){{t.flags|=At;{var l=t.stateNode;l.effectDuration=0,l.passiveEffectDuration=0}}var r=t.pendingProps,d=r.children;return Ko(n,t,d,i),t.child}function Fh(n,t){var i=t.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(t.flags|=Fa,t.flags|=xf)}function oN(n,t,i,l,r){if(t.type!==t.elementType){var d=i.propTypes;d&&Oi(d,l,"prop",jt(i))}var D;{var A=ts(t,i,!0);D=os(t,A)}var k,F;cs(t,r),qs(t);{if(qc.current=t,oi(!0),k=bs(n,t,i,l,D,r),F=Ns(),t.mode&Kt){yo(!0);try{k=bs(n,t,i,l,D,r),F=Ns()}finally{yo(!1)}}oi(!1)}return Gr(),n!==null&&!qi?(ih(n,t,r),Gl(n,t,r)):(Eo()&&F&&_p(t),t.flags|=Br,Ko(n,t,k,r),t.child)}function qh(n,t,i,l,r){{switch(d2(t)){case!1:{var d=t.stateNode,D=t.type,A=new D(t.memoizedProps,d.context),k=A.state;d.updater.enqueueSetState(d,k,null);break}case!0:{t.flags|=Ut,t.flags|=Yo;var F=new Error("Simulated error coming from DevTools"),Y=Zs(r);t.lanes=at(t.lanes,Y);var ce=Jb(t,dr(F,t),Y);ib(t,ce);break}}if(t.type!==t.elementType){var se=i.propTypes;se&&Oi(se,l,"prop",jt(i))}}var je;rl(i)?(je=!0,Su(t)):je=!1,cs(t,r);var Me=t.stateNode,we;Me===null?(fd(n,t),Ih(t,i,l),Qb(t,i,l,r),we=!0):n===null?we=BE(t,i,l,r):we=LE(n,t,i,l,r);var dn=iN(n,t,i,we,je,r);{var kn=t.stateNode;we&&kn.props!==l&&(fr||s("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Qn(t)||"a component"),fr=!0)}return dn}function iN(n,t,i,l,r,d){Fh(n,t);var D=(t.flags&Ut)!==Gn;if(!l&&!D)return r&&Eg(t,i,!1),Gl(n,t,d);var A=t.stateNode;qc.current=t;var k;if(D&&typeof i.getDerivedStateFromError!="function")k=null,wh();else{qs(t);{if(oi(!0),k=A.render(),t.mode&Kt){yo(!0);try{A.render()}finally{yo(!1)}}oi(!1)}Gr()}return t.flags|=Br,n!==null&&D?FE(n,t,k,d):Ko(n,t,k,d),t.memoizedState=A.state,r&&Eg(t,i,!0),t.child}function Qh(n){var t=n.stateNode;t.pendingContext?Cg(n,t.pendingContext,t.pendingContext!==t.context):t.context&&Cg(n,t.context,!1),lb(n,t.containerInfo)}function KE(n,t,i){if(Qh(t),n===null)throw new Error("Should have a current fiber. This is a bug in React.");var l=t.pendingProps,r=t.memoizedState,d=r.element;Jg(n,t),$u(t,l,null,i);var D=t.memoizedState;t.stateNode;var A=D.element;if(r.isDehydrated){var k={element:A,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},F=t.updateQueue;if(F.baseState=k,t.memoizedState=k,t.flags&Ul){var Y=dr(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),t);return Yh(n,t,A,i,Y)}else if(A!==d){var ce=dr(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t);return Yh(n,t,A,i,ce)}else{ZR(t);var se=Hg(t,null,A,i);t.child=se;for(var je=se;je;)je.flags=je.flags&~lo|wl,je=je.sibling}}else{if(as(),A===d)return Gl(n,t,i);Ko(n,t,A,i)}return t.child}function Yh(n,t,i,l,r){return as(),zp(r),t.flags|=Ul,Ko(n,t,i,l),t.child}function JE(n,t,i){nh(t),n===null&&Gp(t);var l=t.type,r=t.pendingProps,d=n!==null?n.memoizedProps:null,D=r.children,A=Sp(l,r);return A?D=null:d!==null&&Sp(l,d)&&(t.flags|=Ws),Fh(n,t),Ko(n,t,D,i),t.child}function XE(n,t){return n===null&&Gp(t),null}function ZE(n,t,i,l){fd(n,t);var r=t.pendingProps,d=i,D=d._payload,A=d._init,k=A(D);t.type=k;var F=t.tag=XU(k),Y=Fi(k,r),ce;switch(F){case v:return lN(t,k),t.type=k=js(k),ce=oN(null,t,k,Y,l),ce;case g:return t.type=k=PN(k),ce=qh(null,t,k,Y,l),ce;case C:return t.type=k=IN(k),ce=Gh(null,t,k,Y,l),ce;case O:{if(t.type!==t.elementType){var se=k.propTypes;se&&Oi(se,Y,"prop",jt(k))}return ce=zh(null,t,k,Fi(k.type,Y),l),ce}}var je="";throw k!==null&&typeof k=="object"&&k.$$typeof===An&&(je=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+k+". "+("Lazy element type must resolve to a class or function."+je))}function eA(n,t,i,l,r){fd(n,t),t.tag=g;var d;return rl(i)?(d=!0,Su(t)):d=!1,cs(t,r),Ih(t,i,l),Qb(t,i,l,r),iN(null,t,i,!0,d,r)}function nA(n,t,i,l){fd(n,t);var r=t.pendingProps,d;{var D=ts(t,i,!1);d=os(t,D)}cs(t,l);var A,k;qs(t);{if(i.prototype&&typeof i.prototype.render=="function"){var F=jt(i)||"Unknown";Xb[F]||(s("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",F,F),Xb[F]=!0)}t.mode&Kt&&zi.recordLegacyContextWarning(t,null),oi(!0),qc.current=t,A=bs(null,t,i,r,d,l),k=Ns(),oi(!1)}if(Gr(),t.flags|=Br,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0){var Y=jt(i)||"Unknown";Qc[Y]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Y,Y,Y),Qc[Y]=!0)}if(typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0){{var ce=jt(i)||"Unknown";Qc[ce]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ce,ce,ce),Qc[ce]=!0)}t.tag=g,t.memoizedState=null,t.updateQueue=null;var se=!1;return rl(i)?(se=!0,Su(t)):se=!1,t.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,ob(t),Ph(t,A),Qb(t,i,r,l),iN(null,t,i,!0,se,l)}else{if(t.tag=v,t.mode&Kt){yo(!0);try{A=bs(null,t,i,r,d,l),k=Ns()}finally{yo(!1)}}return Eo()&&k&&_p(t),Ko(null,t,A,l),lN(t,i),t.child}}function lN(n,t){{if(t&&t.childContextTypes&&s("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),n.ref!==null){var i="",l=tl();l&&(i+=`

Check the render method of \``+l+"`.");var r=l||"",d=n._debugSource;d&&(r=d.fileName+":"+d.lineNumber),nN[r]||(nN[r]=!0,s("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",i))}if(t.defaultProps!==void 0){var D=jt(t)||"Unknown";Yc[D]||(s("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",D),Yc[D]=!0)}if(typeof t.getDerivedStateFromProps=="function"){var A=jt(t)||"Unknown";eN[A]||(s("%s: Function components do not support getDerivedStateFromProps.",A),eN[A]=!0)}if(typeof t.contextType=="object"&&t.contextType!==null){var k=jt(t)||"Unknown";Zb[k]||(s("%s: Function components do not support contextType.",k),Zb[k]=!0)}}}var aN={dehydrated:null,treeContext:null,retryLane:Do};function rN(n){return{baseLanes:n,cachePool:WE(),transitions:null}}function tA(n,t){var i=null;return{baseLanes:at(n.baseLanes,t),cachePool:i,transitions:n.transitions}}function oA(n,t,i,l){if(t!==null){var r=t.memoizedState;if(r===null)return!1}return sb(n,Bc)}function iA(n,t){return Fm(n.childLanes,t)}function Kh(n,t,i){var l=t.pendingProps;f2(t)&&(t.flags|=Ut);var r=Hi.current,d=!1,D=(t.flags&Ut)!==Gn;if(D||oA(r,n)?(d=!0,t.flags&=~Ut):(n===null||n.memoizedState!==null)&&(r=DE(r,oh)),r=us(r),va(t,r),n===null){Gp(t);var A=t.memoizedState;if(A!==null){var k=A.dehydrated;if(k!==null)return cA(t,k)}var F=l.children,Y=l.fallback;if(d){var ce=lA(t,F,Y,i),se=t.child;return se.memoizedState=rN(i),t.memoizedState=aN,ce}else return sN(t,F)}else{var je=n.memoizedState;if(je!==null){var Me=je.dehydrated;if(Me!==null)return mA(n,t,D,l,Me,je,i)}if(d){var we=l.fallback,dn=l.children,kn=rA(n,t,dn,we,i),Un=t.child,vt=n.child.memoizedState;return Un.memoizedState=vt===null?rN(i):tA(vt,i),Un.childLanes=iA(n,i),t.memoizedState=aN,kn}else{var ft=l.children,ge=aA(n,t,ft,i);return t.memoizedState=null,ge}}}function sN(n,t,i){var l=n.mode,r={mode:"visible",children:t},d=cN(r,l);return d.return=n,n.child=d,d}function lA(n,t,i,l){var r=n.mode,d=n.child,D={mode:"hidden",children:t},A,k;return(r&gt)===In&&d!==null?(A=d,A.childLanes=Ye,A.pendingProps=D,n.mode&kt&&(A.actualDuration=0,A.actualStartTime=-1,A.selfBaseDuration=0,A.treeBaseDuration=0),k=Ea(i,r,l,null)):(A=cN(D,r),k=Ea(i,r,l,null)),A.return=n,k.return=n,A.sibling=k,n.child=A,k}function cN(n,t,i){return Jv(n,t,Ye,null)}function Jh(n,t){return gr(n,t)}function aA(n,t,i,l){var r=n.child,d=r.sibling,D=Jh(r,{mode:"visible",children:i});if((t.mode&gt)===In&&(D.lanes=l),D.return=t,D.sibling=null,d!==null){var A=t.deletions;A===null?(t.deletions=[d],t.flags|=Wa):A.push(d)}return t.child=D,D}function rA(n,t,i,l,r){var d=t.mode,D=n.child,A=D.sibling,k={mode:"hidden",children:i},F;if((d&gt)===In&&t.child!==D){var Y=t.child;F=Y,F.childLanes=Ye,F.pendingProps=k,t.mode&kt&&(F.actualDuration=0,F.actualStartTime=-1,F.selfBaseDuration=D.selfBaseDuration,F.treeBaseDuration=D.treeBaseDuration),t.deletions=null}else F=Jh(D,k),F.subtreeFlags=D.subtreeFlags&Vl;var ce;return A!==null?ce=gr(A,l):(ce=Ea(l,d,r,null),ce.flags|=lo),ce.return=t,F.return=t,F.sibling=ce,t.child=F,ce}function dd(n,t,i,l){l!==null&&zp(l),rs(t,n.child,null,i);var r=t.pendingProps,d=r.children,D=sN(t,d);return D.flags|=lo,t.memoizedState=null,D}function sA(n,t,i,l,r){var d=t.mode,D={mode:"visible",children:i},A=cN(D,d),k=Ea(l,d,r,null);return k.flags|=lo,A.return=t,k.return=t,A.sibling=k,t.child=A,(t.mode&gt)!==In&&rs(t,n.child,null,r),k}function cA(n,t,i){return(n.mode&gt)===In?(s("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),n.lanes=Yn):Rp(t)?n.lanes=Ja:n.lanes=bi,null}function mA(n,t,i,l,r,d,D){if(i)if(t.flags&Ul){t.flags&=~Ul;var ge=Yb(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return dd(n,t,D,ge)}else{if(t.memoizedState!==null)return t.child=n.child,t.flags|=Ut,null;var Ve=l.children,he=l.fallback,en=sA(n,t,Ve,he,D),vn=t.child;return vn.memoizedState=rN(D),t.memoizedState=aN,en}else{if(JR(),(t.mode&gt)===In)return dd(n,t,D,null);if(Rp(r)){var A,k,F;{var Y=pR(r);A=Y.digest,k=Y.message,F=Y.stack}var ce;k?ce=new Error(k):ce=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var se=Yb(ce,A,F);return dd(n,t,D,se)}var je=Ni(D,n.childLanes);if(qi||je){var Me=Sd();if(Me!==null){var we=vM(Me,D);if(we!==Do&&we!==d.retryLane){d.retryLane=we;var dn=Ht;ai(n,we),xo(Me,n,we,dn)}}UN();var kn=Yb(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return dd(n,t,D,kn)}else if(vg(r)){t.flags|=Ut,t.child=n.child;var Un=PU.bind(null,n);return bR(r,Un),null}else{eE(t,r,d.treeContext);var vt=l.children,ft=sN(t,vt);return ft.flags|=wl,ft}}}function Xh(n,t,i){n.lanes=at(n.lanes,t);var l=n.alternate;l!==null&&(l.lanes=at(l.lanes,t)),Zp(n.return,t,i)}function uA(n,t,i){for(var l=t;l!==null;){if(l.tag===R){var r=l.memoizedState;r!==null&&Xh(l,i,n)}else if(l.tag===G)Xh(l,i,n);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)return;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function dA(n){for(var t=n,i=null;t!==null;){var l=t.alternate;l!==null&&Hu(l)===null&&(i=t),t=t.sibling}return i}function fA(n){if(n!==void 0&&n!=="forwards"&&n!=="backwards"&&n!=="together"&&!tN[n])if(tN[n]=!0,typeof n=="string")switch(n.toLowerCase()){case"together":case"forwards":case"backwards":{s('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',n,n.toLowerCase());break}case"forward":case"backward":{s('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',n,n.toLowerCase());break}default:s('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n);break}else s('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n)}function pA(n,t){n!==void 0&&!ud[n]&&(n!=="collapsed"&&n!=="hidden"?(ud[n]=!0,s('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',n)):t!=="forwards"&&t!=="backwards"&&(ud[n]=!0,s('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',n)))}function Zh(n,t){{var i=Mn(n),l=!i&&typeof Io(n)=="function";if(i||l){var r=i?"array":"iterable";return s("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",r,t,r),!1}}return!0}function bA(n,t){if((t==="forwards"||t==="backwards")&&n!==void 0&&n!==null&&n!==!1)if(Mn(n)){for(var i=0;i<n.length;i++)if(!Zh(n[i],i))return}else{var l=Io(n);if(typeof l=="function"){var r=l.call(n);if(r)for(var d=r.next(),D=0;!d.done;d=r.next()){if(!Zh(d.value,D))return;D++}}else s('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}function mN(n,t,i,l,r){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:r}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=r)}function ev(n,t,i){var l=t.pendingProps,r=l.revealOrder,d=l.tail,D=l.children;fA(r),pA(d,r),bA(D,r),Ko(n,t,D,i);var A=Hi.current,k=sb(A,Bc);if(k)A=cb(A,Bc),t.flags|=Ut;else{var F=n!==null&&(n.flags&Ut)!==Gn;F&&uA(t,t.child,i),A=us(A)}if(va(t,A),(t.mode&gt)===In)t.memoizedState=null;else switch(r){case"forwards":{var Y=dA(t.child),ce;Y===null?(ce=t.child,t.child=null):(ce=Y.sibling,Y.sibling=null),mN(t,!1,ce,Y,d);break}case"backwards":{var se=null,je=t.child;for(t.child=null;je!==null;){var Me=je.alternate;if(Me!==null&&Hu(Me)===null){t.child=je;break}var we=je.sibling;je.sibling=se,se=je,je=we}mN(t,!0,se,null,d);break}case"together":{mN(t,!1,null,null,void 0);break}default:t.memoizedState=null}return t.child}function NA(n,t,i){lb(t,t.stateNode.containerInfo);var l=t.pendingProps;return n===null?t.child=rs(t,null,l,i):Ko(n,t,l,i),t.child}var nv=!1;function xA(n,t,i){var l=t.type,r=l._context,d=t.pendingProps,D=t.memoizedProps,A=d.value;{"value"in d||nv||(nv=!0,s("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var k=t.type.propTypes;k&&Oi(k,d,"prop","Context.Provider")}if(qg(t,r,A),D!==null){var F=D.value;if(hi(F,A)){if(D.children===d.children&&!yu())return Gl(n,t,i)}else fE(t,r,i)}var Y=d.children;return Ko(n,t,Y,i),t.child}var tv=!1;function gA(n,t,i){var l=t.type;l._context===void 0?l!==l.Consumer&&(tv||(tv=!0,s("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):l=l._context;var r=t.pendingProps,d=r.children;typeof d!="function"&&s("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),cs(t,i);var D=ao(l);qs(t);var A;return qc.current=t,oi(!0),A=d(D),oi(!1),Gr(),t.flags|=Br,Ko(n,t,A,i),t.child}function Kc(){qi=!0}function fd(n,t){(t.mode&gt)===In&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=lo)}function Gl(n,t,i){return n!==null&&(t.dependencies=n.dependencies),wh(),sm(t.lanes),Ni(i,t.childLanes)?(uE(n,t),t.child):null}function hA(n,t,i){{var l=t.return;if(l===null)throw new Error("Cannot swap the root fiber.");if(n.alternate=null,t.alternate=null,i.index=t.index,i.sibling=t.sibling,i.return=t.return,i.ref=t.ref,t===l.child)l.child=i;else{var r=l.child;if(r===null)throw new Error("Expected parent to have a child.");for(;r.sibling!==t;)if(r=r.sibling,r===null)throw new Error("Expected to find the previous sibling.");r.sibling=i}var d=l.deletions;return d===null?(l.deletions=[n],l.flags|=Wa):d.push(n),i.flags|=lo,i}}function uN(n,t){var i=n.lanes;return!!Ni(i,t)}function vA(n,t,i){switch(t.tag){case h:Qh(t),t.stateNode,as();break;case y:nh(t);break;case g:{var l=t.type;rl(l)&&Su(t);break}case N:lb(t,t.stateNode.containerInfo);break;case M:{var r=t.memoizedProps.value,d=t.type._context;qg(t,d,r);break}case w:{var D=Ni(i,t.childLanes);D&&(t.flags|=At);{var A=t.stateNode;A.effectDuration=0,A.passiveEffectDuration=0}}break;case R:{var k=t.memoizedState;if(k!==null){if(k.dehydrated!==null)return va(t,us(Hi.current)),t.flags|=Ut,null;var F=t.child,Y=F.childLanes;if(Ni(i,Y))return Kh(n,t,i);va(t,us(Hi.current));var ce=Gl(n,t,i);return ce!==null?ce.sibling:null}else va(t,us(Hi.current));break}case G:{var se=(n.flags&Ut)!==Gn,je=Ni(i,t.childLanes);if(se){if(je)return ev(n,t,i);t.flags|=Ut}var Me=t.memoizedState;if(Me!==null&&(Me.rendering=null,Me.tail=null,Me.lastEffect=null),va(t,Hi.current),je)break;return null}case B:case X:return t.lanes=Ye,Wh(n,t,i)}return Gl(n,t,i)}function ov(n,t,i){if(t._debugNeedsRemount&&n!==null)return hA(n,t,ON(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(n!==null){var l=n.memoizedProps,r=t.pendingProps;if(l!==r||yu()||t.type!==n.type)qi=!0;else{var d=uN(n,i);if(!d&&(t.flags&Ut)===Gn)return qi=!1,vA(n,t,i);(n.flags&Nf)!==Gn?qi=!0:qi=!1}}else if(qi=!1,Eo()&&WR(t)){var D=t.index,A=FR();wg(t,A,D)}switch(t.lanes=Ye,t.tag){case f:return nA(n,t,t.type,i);case $:{var k=t.elementType;return ZE(n,t,k,i)}case v:{var F=t.type,Y=t.pendingProps,ce=t.elementType===F?Y:Fi(F,Y);return oN(n,t,F,ce,i)}case g:{var se=t.type,je=t.pendingProps,Me=t.elementType===se?je:Fi(se,je);return qh(n,t,se,Me,i)}case h:return KE(n,t,i);case y:return JE(n,t,i);case E:return XE(n,t);case R:return Kh(n,t,i);case N:return NA(n,t,i);case C:{var we=t.type,dn=t.pendingProps,kn=t.elementType===we?dn:Fi(we,dn);return Gh(n,t,we,kn,i)}case j:return qE(n,t,i);case U:return QE(n,t,i);case w:return YE(n,t,i);case M:return xA(n,t,i);case S:return gA(n,t,i);case O:{var Un=t.type,vt=t.pendingProps,ft=Fi(Un,vt);if(t.type!==t.elementType){var ge=Un.propTypes;ge&&Oi(ge,ft,"prop",jt(Un))}return ft=Fi(Un.type,ft),zh(n,t,Un,ft,i)}case V:return Hh(n,t,t.type,t.pendingProps,i);case z:{var Ve=t.type,he=t.pendingProps,en=t.elementType===Ve?he:Fi(Ve,he);return eA(n,t,Ve,en,i)}case G:return ev(n,t,i);case q:break;case B:return Wh(n,t,i)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function xs(n){n.flags|=At}function iv(n){n.flags|=Fa,n.flags|=xf}var lv,dN,av,rv;lv=function(n,t,i,l){for(var r=t.child;r!==null;){if(r.tag===y||r.tag===E)G1(n,r.stateNode);else if(r.tag!==N){if(r.child!==null){r.child.return=r,r=r.child;continue}}if(r===t)return;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},dN=function(n,t){},av=function(n,t,i,l,r){var d=n.memoizedProps;if(d!==l){var D=t.stateNode,A=ab(),k=H1(D,i,d,l,r,A);t.updateQueue=k,k&&xs(t)}},rv=function(n,t,i,l){i!==l&&xs(t)};function Jc(n,t){if(!Eo())switch(n.tailMode){case"hidden":{for(var i=n.tail,l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break}case"collapsed":{for(var r=n.tail,d=null;r!==null;)r.alternate!==null&&(d=r),r=r.sibling;d===null?!t&&n.tail!==null?n.tail.sibling=null:n.tail=null:d.sibling=null;break}}}function Uo(n){var t=n.alternate!==null&&n.alternate.child===n.child,i=Ye,l=Gn;if(t){if((n.mode&kt)!==In){for(var k=n.selfBaseDuration,F=n.child;F!==null;)i=at(i,at(F.lanes,F.childLanes)),l|=F.subtreeFlags&Vl,l|=F.flags&Vl,k+=F.treeBaseDuration,F=F.sibling;n.treeBaseDuration=k}else for(var Y=n.child;Y!==null;)i=at(i,at(Y.lanes,Y.childLanes)),l|=Y.subtreeFlags&Vl,l|=Y.flags&Vl,Y.return=n,Y=Y.sibling;n.subtreeFlags|=l}else{if((n.mode&kt)!==In){for(var r=n.actualDuration,d=n.selfBaseDuration,D=n.child;D!==null;)i=at(i,at(D.lanes,D.childLanes)),l|=D.subtreeFlags,l|=D.flags,r+=D.actualDuration,d+=D.treeBaseDuration,D=D.sibling;n.actualDuration=r,n.treeBaseDuration=d}else for(var A=n.child;A!==null;)i=at(i,at(A.lanes,A.childLanes)),l|=A.subtreeFlags,l|=A.flags,A.return=n,A=A.sibling;n.subtreeFlags|=l}return n.childLanes=i,t}function yA(n,t,i){if(lE()&&(t.mode&gt)!==In&&(t.flags&Ut)===Gn)return Bg(t),as(),t.flags|=Ul|Lm|Yo,!1;var l=Eu(t);if(i!==null&&i.dehydrated!==null)if(n===null){if(!l)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(oE(t),Uo(t),(t.mode&kt)!==In){var r=i!==null;if(r){var d=t.child;d!==null&&(t.treeBaseDuration-=d.treeBaseDuration)}}return!1}else{if(as(),(t.flags&Ut)===Gn&&(t.memoizedState=null),t.flags|=At,Uo(t),(t.mode&kt)!==In){var D=i!==null;if(D){var A=t.child;A!==null&&(t.treeBaseDuration-=A.treeBaseDuration)}}return!1}else return Lg(),!0}function sv(n,t,i){var l=t.pendingProps;switch(Bp(t),t.tag){case f:case $:case V:case v:case C:case j:case U:case w:case S:case O:return Uo(t),null;case g:{var r=t.type;return rl(r)&&Du(t),Uo(t),null}case h:{var d=t.stateNode;if(ms(t),Tp(t),ub(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),n===null||n.child===null){var D=Eu(t);if(D)xs(t);else if(n!==null){var A=n.memoizedState;(!A.isDehydrated||(t.flags&Ul)!==Gn)&&(t.flags|=Lr,Lg())}}return dN(n,t),Uo(t),null}case y:{rb(t);var k=eh(),F=t.type;if(n!==null&&t.stateNode!=null)av(n,t,F,l,k),n.ref!==t.ref&&iv(t);else{if(!l){if(t.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Uo(t),null}var Y=ab(),ce=Eu(t);if(ce)nE(t,k,Y)&&xs(t);else{var se=O1(F,l,k,Y,t);lv(se,t,!1,!1),t.stateNode=se,z1(se,F,l,k)&&xs(t)}t.ref!==null&&iv(t)}return Uo(t),null}case E:{var je=l;if(n&&t.stateNode!=null){var Me=n.memoizedProps;rv(n,t,Me,je)}else{if(typeof je!="string"&&t.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var we=eh(),dn=ab(),kn=Eu(t);kn?tE(t)&&xs(t):t.stateNode=W1(je,we,dn,t)}return Uo(t),null}case R:{ds(t);var Un=t.memoizedState;if(n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){var vt=yA(n,t,Un);if(!vt)return t.flags&Yo?t:null}if((t.flags&Ut)!==Gn)return t.lanes=i,(t.mode&kt)!==In&&Ib(t),t;var ft=Un!==null,ge=n!==null&&n.memoizedState!==null;if(ft!==ge&&ft){var Ve=t.child;if(Ve.flags|=qa,(t.mode&gt)!==In){var he=n===null&&(t.memoizedProps.unstable_avoidThisFallback!==!0||!0);he||sb(Hi.current,oh)?DU():UN()}}var en=t.updateQueue;if(en!==null&&(t.flags|=At),Uo(t),(t.mode&kt)!==In&&ft){var vn=t.child;vn!==null&&(t.treeBaseDuration-=vn.treeBaseDuration)}return null}case N:return ms(t),dN(n,t),n===null&&BR(t.stateNode.containerInfo),Uo(t),null;case M:var pn=t.type._context;return Xp(pn,t),Uo(t),null;case z:{var Hn=t.type;return rl(Hn)&&Du(t),Uo(t),null}case G:{ds(t);var Xn=t.memoizedState;if(Xn===null)return Uo(t),null;var Pt=(t.flags&Ut)!==Gn,Ct=Xn.rendering;if(Ct===null)if(Pt)Jc(Xn,!1);else{var no=jU()&&(n===null||(n.flags&Ut)===Gn);if(!no)for(var Rt=t.child;Rt!==null;){var Jt=Hu(Rt);if(Jt!==null){Pt=!0,t.flags|=Ut,Jc(Xn,!1);var Ho=Jt.updateQueue;return Ho!==null&&(t.updateQueue=Ho,t.flags|=At),t.subtreeFlags=Gn,dE(t,i),va(t,cb(Hi.current,Bc)),t.child}Rt=Rt.sibling}Xn.tail!==null&&vo()>Av()&&(t.flags|=Ut,Pt=!0,Jc(Xn,!1),t.lanes=r0)}else{if(!Pt){var Po=Hu(Ct);if(Po!==null){t.flags|=Ut,Pt=!0;var Di=Po.updateQueue;if(Di!==null&&(t.updateQueue=Di,t.flags|=At),Jc(Xn,!0),Xn.tail===null&&Xn.tailMode==="hidden"&&!Ct.alternate&&!Eo())return Uo(t),null}else vo()*2-Xn.renderingStartTime>Av()&&i!==bi&&(t.flags|=Ut,Pt=!0,Jc(Xn,!1),t.lanes=r0)}if(Xn.isBackwards)Ct.sibling=t.child,t.child=Ct;else{var Zo=Xn.last;Zo!==null?Zo.sibling=Ct:t.child=Ct,Xn.last=Ct}}if(Xn.tail!==null){var ei=Xn.tail;Xn.rendering=ei,Xn.tail=ei.sibling,Xn.renderingStartTime=vo(),ei.sibling=null;var Wo=Hi.current;return Pt?Wo=cb(Wo,Bc):Wo=us(Wo),va(t,Wo),ei}return Uo(t),null}case q:break;case B:case X:{AN(t);var ql=t.memoizedState,Ms=ql!==null;if(n!==null){var fm=n.memoizedState,bl=fm!==null;bl!==Ms&&!L&&(t.flags|=qa)}return!Ms||(t.mode&gt)===In?Uo(t):Ni(pl,bi)&&(Uo(t),t.subtreeFlags&(lo|At)&&(t.flags|=qa)),null}case H:return null;case Q:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function DA(n,t,i){switch(Bp(t),t.tag){case g:{var l=t.type;rl(l)&&Du(t);var r=t.flags;return r&Yo?(t.flags=r&~Yo|Ut,(t.mode&kt)!==In&&Ib(t),t):null}case h:{t.stateNode,ms(t),Tp(t),ub();var d=t.flags;return(d&Yo)!==Gn&&(d&Ut)===Gn?(t.flags=d&~Yo|Ut,t):null}case y:return rb(t),null;case R:{ds(t);var D=t.memoizedState;if(D!==null&&D.dehydrated!==null){if(t.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");as()}var A=t.flags;return A&Yo?(t.flags=A&~Yo|Ut,(t.mode&kt)!==In&&Ib(t),t):null}case G:return ds(t),null;case N:return ms(t),null;case M:var k=t.type._context;return Xp(k,t),null;case B:case X:return AN(t),null;case H:return null;default:return null}}function cv(n,t,i){switch(Bp(t),t.tag){case g:{var l=t.type.childContextTypes;l!=null&&Du(t);break}case h:{t.stateNode,ms(t),Tp(t),ub();break}case y:{rb(t);break}case N:ms(t);break;case R:ds(t);break;case G:ds(t);break;case M:var r=t.type._context;Xp(r,t);break;case B:case X:AN(t);break}}var mv=null;mv=new Set;var pd=!1,wo=!1,SA=typeof WeakSet=="function"?WeakSet:Set,jn=null,gs=null,hs=null;function jA(n){ff(null,function(){throw n}),pf()}var MA=function(n,t){if(t.props=n.memoizedProps,t.state=n.memoizedState,n.mode&kt)try{dl(),t.componentWillUnmount()}finally{ul(n)}else t.componentWillUnmount()};function uv(n,t){try{Sa(mo,n)}catch(i){Ot(n,t,i)}}function fN(n,t,i){try{MA(n,i)}catch(l){Ot(n,t,l)}}function CA(n,t,i){try{i.componentDidMount()}catch(l){Ot(n,t,l)}}function dv(n,t){try{pv(n)}catch(i){Ot(n,t,i)}}function vs(n,t){var i=n.ref;if(i!==null)if(typeof i=="function"){var l;try{if(fe&&W&&n.mode&kt)try{dl(),l=i(null)}finally{ul(n)}else l=i(null)}catch(r){Ot(n,t,r)}typeof l=="function"&&s("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Qn(n))}else i.current=null}function bd(n,t,i){try{i()}catch(l){Ot(n,t,l)}}var fv=!1;function RA(n,t){L1(n.containerInfo),jn=t,EA();var i=fv;return fv=!1,i}function EA(){for(;jn!==null;){var n=jn,t=n.child;(n.subtreeFlags&vf)!==Gn&&t!==null?(t.return=n,jn=t):AA()}}function AA(){for(;jn!==null;){var n=jn;Gt(n);try{UA(n)}catch(i){Ot(n,n.return,i)}oo();var t=n.sibling;if(t!==null){t.return=n.return,jn=t;return}jn=n.return}}function UA(n){var t=n.alternate,i=n.flags;if((i&Lr)!==Gn){switch(Gt(n),n.tag){case v:case C:case V:break;case g:{if(t!==null){var l=t.memoizedProps,r=t.memoizedState,d=n.stateNode;n.type===n.elementType&&!fr&&(d.props!==n.memoizedProps&&s("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qn(n)||"instance"),d.state!==n.memoizedState&&s("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qn(n)||"instance"));var D=d.getSnapshotBeforeUpdate(n.elementType===n.type?l:Fi(n.type,l),r);{var A=mv;D===void 0&&!A.has(n.type)&&(A.add(n.type),s("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Qn(n)))}d.__reactInternalSnapshotBeforeUpdate=D}break}case h:{{var k=n.stateNode;mR(k.containerInfo)}break}case y:case E:case N:case z:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}oo()}}function Qi(n,t,i){var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var d=r.next,D=d;do{if((D.tag&n)===n){var A=D.destroy;D.destroy=void 0,A!==void 0&&((n&Ao)!==ri?Wj(t):(n&mo)!==ri&&t0(t),(n&sl)!==ri&&mm(!0),bd(t,i,A),(n&sl)!==ri&&mm(!1),(n&Ao)!==ri?Fj():(n&mo)!==ri&&o0())}D=D.next}while(D!==d)}}function Sa(n,t){var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var r=l.next,d=r;do{if((d.tag&n)===n){(n&Ao)!==ri?zj(t):(n&mo)!==ri&&qj(t);var D=d.create;(n&sl)!==ri&&mm(!0),d.destroy=D(),(n&sl)!==ri&&mm(!1),(n&Ao)!==ri?Hj():(n&mo)!==ri&&Qj();{var A=d.destroy;if(A!==void 0&&typeof A!="function"){var k=void 0;(d.tag&mo)!==Gn?k="useLayoutEffect":(d.tag&sl)!==Gn?k="useInsertionEffect":k="useEffect";var F=void 0;A===null?F=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof A.then=="function"?F=`

It looks like you wrote `+k+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+k+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:F=" You returned: "+A,s("%s must not return anything besides a function, which is used for clean-up.%s",k,F)}}}d=d.next}while(d!==r)}}function wA(n,t){if((t.flags&At)!==Gn)switch(t.tag){case w:{var i=t.stateNode.passiveEffectDuration,l=t.memoizedProps,r=l.id,d=l.onPostCommit,D=Ah(),A=t.alternate===null?"mount":"update";Eh()&&(A="nested-update"),typeof d=="function"&&d(r,A,i,D);var k=t.return;e:for(;k!==null;){switch(k.tag){case h:var F=k.stateNode;F.passiveEffectDuration+=i;break e;case w:var Y=k.stateNode;Y.passiveEffectDuration+=i;break e}k=k.return}break}}}function VA(n,t,i,l){if((i.flags&Fs)!==Gn)switch(i.tag){case v:case C:case V:{if(!wo)if(i.mode&kt)try{dl(),Sa(mo|co,i)}finally{ul(i)}else Sa(mo|co,i);break}case g:{var r=i.stateNode;if(i.flags&At&&!wo)if(t===null)if(i.type===i.elementType&&!fr&&(r.props!==i.memoizedProps&&s("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qn(i)||"instance"),r.state!==i.memoizedState&&s("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qn(i)||"instance")),i.mode&kt)try{dl(),r.componentDidMount()}finally{ul(i)}else r.componentDidMount();else{var d=i.elementType===i.type?t.memoizedProps:Fi(i.type,t.memoizedProps),D=t.memoizedState;if(i.type===i.elementType&&!fr&&(r.props!==i.memoizedProps&&s("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qn(i)||"instance"),r.state!==i.memoizedState&&s("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qn(i)||"instance")),i.mode&kt)try{dl(),r.componentDidUpdate(d,D,r.__reactInternalSnapshotBeforeUpdate)}finally{ul(i)}else r.componentDidUpdate(d,D,r.__reactInternalSnapshotBeforeUpdate)}var A=i.updateQueue;A!==null&&(i.type===i.elementType&&!fr&&(r.props!==i.memoizedProps&&s("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Qn(i)||"instance"),r.state!==i.memoizedState&&s("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Qn(i)||"instance")),Zg(i,A,r));break}case h:{var k=i.updateQueue;if(k!==null){var F=null;if(i.child!==null)switch(i.child.tag){case y:F=i.child.stateNode;break;case g:F=i.child.stateNode;break}Zg(i,k,F)}break}case y:{var Y=i.stateNode;if(t===null&&i.flags&At){var ce=i.type,se=i.memoizedProps;K1(Y,ce,se)}break}case E:break;case N:break;case w:{{var je=i.memoizedProps,Me=je.onCommit,we=je.onRender,dn=i.stateNode.effectDuration,kn=Ah(),Un=t===null?"mount":"update";Eh()&&(Un="nested-update"),typeof we=="function"&&we(i.memoizedProps.id,Un,i.actualDuration,i.treeBaseDuration,i.actualStartTime,kn);{typeof Me=="function"&&Me(i.memoizedProps.id,Un,dn,kn),AU(i);var vt=i.return;e:for(;vt!==null;){switch(vt.tag){case h:var ft=vt.stateNode;ft.effectDuration+=dn;break e;case w:var ge=vt.stateNode;ge.effectDuration+=dn;break e}vt=vt.return}}}break}case R:{$A(n,i);break}case G:case z:case q:case B:case X:case Q:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}wo||i.flags&Fa&&pv(i)}function kA(n){switch(n.tag){case v:case C:case V:{if(n.mode&kt)try{dl(),uv(n,n.return)}finally{ul(n)}else uv(n,n.return);break}case g:{var t=n.stateNode;typeof t.componentDidMount=="function"&&CA(n,n.return,t),dv(n,n.return);break}case y:{dv(n,n.return);break}}}function TA(n,t){for(var i=null,l=n;;){if(l.tag===y){if(i===null){i=l;try{var r=l.stateNode;t?aR(r):sR(l.stateNode,l.memoizedProps)}catch(D){Ot(n,n.return,D)}}}else if(l.tag===E){if(i===null)try{var d=l.stateNode;t?rR(d):cR(d,l.memoizedProps)}catch(D){Ot(n,n.return,D)}}else if(!((l.tag===B||l.tag===X)&&l.memoizedState!==null&&l!==n)){if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===n)return;for(;l.sibling===null;){if(l.return===null||l.return===n)return;i===l&&(i=null),l=l.return}i===l&&(i=null),l.sibling.return=l.return,l=l.sibling}}function pv(n){var t=n.ref;if(t!==null){var i=n.stateNode,l;switch(n.tag){case y:l=i;break;default:l=i}if(typeof t=="function"){var r;if(n.mode&kt)try{dl(),r=t(l)}finally{ul(n)}else r=t(l);typeof r=="function"&&s("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Qn(n))}else t.hasOwnProperty("current")||s("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Qn(n)),t.current=l}}function PA(n){var t=n.alternate;t!==null&&(t.return=null),n.return=null}function bv(n){var t=n.alternate;t!==null&&(n.alternate=null,bv(t));{if(n.child=null,n.deletions=null,n.sibling=null,n.tag===y){var i=n.stateNode;i!==null&&OR(i)}n.stateNode=null,n._debugOwner=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}}function IA(n){for(var t=n.return;t!==null;){if(Nv(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function Nv(n){return n.tag===y||n.tag===h||n.tag===N}function xv(n){var t=n;e:for(;;){for(;t.sibling===null;){if(t.return===null||Nv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==y&&t.tag!==E&&t.tag!==P;){if(t.flags&lo||t.child===null||t.tag===N)continue e;t.child.return=t,t=t.child}if(!(t.flags&lo))return t.stateNode}}function _A(n){var t=IA(n);switch(t.tag){case y:{var i=t.stateNode;t.flags&Ws&&(hg(i),t.flags&=~Ws);var l=xv(n);bN(n,l,i);break}case h:case N:{var r=t.stateNode.containerInfo,d=xv(n);pN(n,d,r);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function pN(n,t,i){var l=n.tag,r=l===y||l===E;if(r){var d=n.stateNode;t?tR(i,d,t):eR(i,d)}else if(l!==N){var D=n.child;if(D!==null){pN(D,t,i);for(var A=D.sibling;A!==null;)pN(A,t,i),A=A.sibling}}}function bN(n,t,i){var l=n.tag,r=l===y||l===E;if(r){var d=n.stateNode;t?nR(i,d,t):Z1(i,d)}else if(l!==N){var D=n.child;if(D!==null){bN(D,t,i);for(var A=D.sibling;A!==null;)bN(A,t,i),A=A.sibling}}}var Vo=null,Yi=!1;function BA(n,t,i){{var l=t;e:for(;l!==null;){switch(l.tag){case y:{Vo=l.stateNode,Yi=!1;break e}case h:{Vo=l.stateNode.containerInfo,Yi=!0;break e}case N:{Vo=l.stateNode.containerInfo,Yi=!0;break e}}l=l.return}if(Vo===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");gv(n,t,i),Vo=null,Yi=!1}PA(i)}function ja(n,t,i){for(var l=i.child;l!==null;)gv(n,t,l),l=l.sibling}function gv(n,t,i){switch(Lj(i),i.tag){case y:wo||vs(i,t);case E:{{var l=Vo,r=Yi;Vo=null,ja(n,t,i),Vo=l,Yi=r,Vo!==null&&(Yi?iR(Vo,i.stateNode):oR(Vo,i.stateNode))}return}case P:{Vo!==null&&(Yi?lR(Vo,i.stateNode):Cp(Vo,i.stateNode));return}case N:{{var d=Vo,D=Yi;Vo=i.stateNode.containerInfo,Yi=!0,ja(n,t,i),Vo=d,Yi=D}return}case v:case C:case O:case V:{if(!wo){var A=i.updateQueue;if(A!==null){var k=A.lastEffect;if(k!==null){var F=k.next,Y=F;do{var ce=Y,se=ce.destroy,je=ce.tag;se!==void 0&&((je&sl)!==ri?bd(i,t,se):(je&mo)!==ri&&(t0(i),i.mode&kt?(dl(),bd(i,t,se),ul(i)):bd(i,t,se),o0())),Y=Y.next}while(Y!==F)}}}ja(n,t,i);return}case g:{if(!wo){vs(i,t);var Me=i.stateNode;typeof Me.componentWillUnmount=="function"&&fN(i,t,Me)}ja(n,t,i);return}case q:{ja(n,t,i);return}case B:{if(i.mode&gt){var we=wo;wo=we||i.memoizedState!==null,ja(n,t,i),wo=we}else ja(n,t,i);break}default:{ja(n,t,i);return}}}function LA(n){n.memoizedState}function $A(n,t){var i=t.memoizedState;if(i===null){var l=t.alternate;if(l!==null){var r=l.memoizedState;if(r!==null){var d=r.dehydrated;d!==null&&jR(d)}}}}function hv(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new SA),t.forEach(function(l){var r=IU.bind(null,n,l);if(!i.has(l)){if(i.add(l),Li)if(gs!==null&&hs!==null)cm(hs,gs);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");l.then(r,r)}})}}function OA(n,t,i){gs=i,hs=n,Gt(t),vv(t,n),Gt(t),gs=null,hs=null}function Ki(n,t,i){var l=t.deletions;if(l!==null)for(var r=0;r<l.length;r++){var d=l[r];try{BA(n,t,d)}catch(k){Ot(d,t,k)}}var D=Ar();if(t.subtreeFlags&yf)for(var A=t.child;A!==null;)Gt(A),vv(A,n),A=A.sibling;Gt(D)}function vv(n,t,i){var l=n.alternate,r=n.flags;switch(n.tag){case v:case C:case O:case V:{if(Ki(t,n),fl(n),r&At){try{Qi(sl|co,n,n.return),Sa(sl|co,n)}catch(Hn){Ot(n,n.return,Hn)}if(n.mode&kt){try{dl(),Qi(mo|co,n,n.return)}catch(Hn){Ot(n,n.return,Hn)}ul(n)}else try{Qi(mo|co,n,n.return)}catch(Hn){Ot(n,n.return,Hn)}}return}case g:{Ki(t,n),fl(n),r&Fa&&l!==null&&vs(l,l.return);return}case y:{Ki(t,n),fl(n),r&Fa&&l!==null&&vs(l,l.return);{if(n.flags&Ws){var d=n.stateNode;try{hg(d)}catch(Hn){Ot(n,n.return,Hn)}}if(r&At){var D=n.stateNode;if(D!=null){var A=n.memoizedProps,k=l!==null?l.memoizedProps:A,F=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{J1(D,Y,F,k,A,n)}catch(Hn){Ot(n,n.return,Hn)}}}}return}case E:{if(Ki(t,n),fl(n),r&At){if(n.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ce=n.stateNode,se=n.memoizedProps,je=l!==null?l.memoizedProps:se;try{X1(ce,je,se)}catch(Hn){Ot(n,n.return,Hn)}}return}case h:{if(Ki(t,n),fl(n),r&At&&l!==null){var Me=l.memoizedState;if(Me.isDehydrated)try{SR(t.containerInfo)}catch(Hn){Ot(n,n.return,Hn)}}return}case N:{Ki(t,n),fl(n);return}case R:{Ki(t,n),fl(n);var we=n.child;if(we.flags&qa){var dn=we.stateNode,kn=we.memoizedState,Un=kn!==null;if(dn.isHidden=Un,Un){var vt=we.alternate!==null&&we.alternate.memoizedState!==null;vt||yU()}}if(r&At){try{LA(n)}catch(Hn){Ot(n,n.return,Hn)}hv(n)}return}case B:{var ft=l!==null&&l.memoizedState!==null;if(n.mode&gt){var ge=wo;wo=ge||ft,Ki(t,n),wo=ge}else Ki(t,n);if(fl(n),r&qa){var Ve=n.stateNode,he=n.memoizedState,en=he!==null,vn=n;if(Ve.isHidden=en,en&&!ft&&(vn.mode&gt)!==In){jn=vn;for(var pn=vn.child;pn!==null;)jn=pn,zA(pn),pn=pn.sibling}TA(vn,en)}return}case G:{Ki(t,n),fl(n),r&At&&hv(n);return}case q:return;default:{Ki(t,n),fl(n);return}}}function fl(n){var t=n.flags;if(t&lo){try{_A(n)}catch(i){Ot(n,n.return,i)}n.flags&=~lo}t&wl&&(n.flags&=~wl)}function GA(n,t,i){gs=i,hs=t,jn=n,yv(n,t,i),gs=null,hs=null}function yv(n,t,i){for(var l=(n.mode&gt)!==In;jn!==null;){var r=jn,d=r.child;if(r.tag===B&&l){var D=r.memoizedState!==null,A=D||pd;if(A){NN(n,t,i);continue}else{var k=r.alternate,F=k!==null&&k.memoizedState!==null,Y=F||wo,ce=pd,se=wo;pd=A,wo=Y,wo&&!se&&(jn=r,HA(r));for(var je=d;je!==null;)jn=je,yv(je,t,i),je=je.sibling;jn=r,pd=ce,wo=se,NN(n,t,i);continue}}(r.subtreeFlags&Fs)!==Gn&&d!==null?(d.return=r,jn=d):NN(n,t,i)}}function NN(n,t,i){for(;jn!==null;){var l=jn;if((l.flags&Fs)!==Gn){var r=l.alternate;Gt(l);try{VA(t,r,l,i)}catch(D){Ot(l,l.return,D)}oo()}if(l===n){jn=null;return}var d=l.sibling;if(d!==null){d.return=l.return,jn=d;return}jn=l.return}}function zA(n){for(;jn!==null;){var t=jn,i=t.child;switch(t.tag){case v:case C:case O:case V:{if(t.mode&kt)try{dl(),Qi(mo,t,t.return)}finally{ul(t)}else Qi(mo,t,t.return);break}case g:{vs(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&fN(t,t.return,l);break}case y:{vs(t,t.return);break}case B:{var r=t.memoizedState!==null;if(r){Dv(n);continue}break}}i!==null?(i.return=t,jn=i):Dv(n)}}function Dv(n){for(;jn!==null;){var t=jn;if(t===n){jn=null;return}var i=t.sibling;if(i!==null){i.return=t.return,jn=i;return}jn=t.return}}function HA(n){for(;jn!==null;){var t=jn,i=t.child;if(t.tag===B){var l=t.memoizedState!==null;if(l){Sv(n);continue}}i!==null?(i.return=t,jn=i):Sv(n)}}function Sv(n){for(;jn!==null;){var t=jn;Gt(t);try{kA(t)}catch(l){Ot(t,t.return,l)}if(oo(),t===n){jn=null;return}var i=t.sibling;if(i!==null){i.return=t.return,jn=i;return}jn=t.return}}function WA(n,t,i,l){jn=t,FA(t,n,i,l)}function FA(n,t,i,l){for(;jn!==null;){var r=jn,d=r.child;(r.subtreeFlags&$r)!==Gn&&d!==null?(d.return=r,jn=d):qA(n,t,i,l)}}function qA(n,t,i,l){for(;jn!==null;){var r=jn;if((r.flags&la)!==Gn){Gt(r);try{QA(t,r,i,l)}catch(D){Ot(r,r.return,D)}oo()}if(r===n){jn=null;return}var d=r.sibling;if(d!==null){d.return=r.return,jn=d;return}jn=r.return}}function QA(n,t,i,l){switch(t.tag){case v:case C:case V:{if(t.mode&kt){Pb();try{Sa(Ao|co,t)}finally{Tb(t)}}else Sa(Ao|co,t);break}}}function YA(n){jn=n,KA()}function KA(){for(;jn!==null;){var n=jn,t=n.child;if((jn.flags&Wa)!==Gn){var i=n.deletions;if(i!==null){for(var l=0;l<i.length;l++){var r=i[l];jn=r,ZA(r,n)}{var d=n.alternate;if(d!==null){var D=d.child;if(D!==null){d.child=null;do{var A=D.sibling;D.sibling=null,D=A}while(D!==null)}}}jn=n}}(n.subtreeFlags&$r)!==Gn&&t!==null?(t.return=n,jn=t):JA()}}function JA(){for(;jn!==null;){var n=jn;(n.flags&la)!==Gn&&(Gt(n),XA(n),oo());var t=n.sibling;if(t!==null){t.return=n.return,jn=t;return}jn=n.return}}function XA(n){switch(n.tag){case v:case C:case V:{n.mode&kt?(Pb(),Qi(Ao|co,n,n.return),Tb(n)):Qi(Ao|co,n,n.return);break}}}function ZA(n,t){for(;jn!==null;){var i=jn;Gt(i),nU(i,t),oo();var l=i.child;l!==null?(l.return=i,jn=l):eU(n)}}function eU(n){for(;jn!==null;){var t=jn,i=t.sibling,l=t.return;if(bv(t),t===n){jn=null;return}if(i!==null){i.return=l,jn=i;return}jn=l}}function nU(n,t){switch(n.tag){case v:case C:case V:{n.mode&kt?(Pb(),Qi(Ao,n,t),Tb(n)):Qi(Ao,n,t);break}}}function tU(n){switch(n.tag){case v:case C:case V:{try{Sa(mo|co,n)}catch(i){Ot(n,n.return,i)}break}case g:{var t=n.stateNode;try{t.componentDidMount()}catch(i){Ot(n,n.return,i)}break}}}function oU(n){switch(n.tag){case v:case C:case V:{try{Sa(Ao|co,n)}catch(t){Ot(n,n.return,t)}break}}}function iU(n){switch(n.tag){case v:case C:case V:{try{Qi(mo|co,n,n.return)}catch(i){Ot(n,n.return,i)}break}case g:{var t=n.stateNode;typeof t.componentWillUnmount=="function"&&fN(n,n.return,t);break}}}function lU(n){switch(n.tag){case v:case C:case V:try{Qi(Ao|co,n,n.return)}catch(t){Ot(n,n.return,t)}}}if(typeof Symbol=="function"&&Symbol.for){var Xc=Symbol.for;Xc("selector.component"),Xc("selector.has_pseudo_class"),Xc("selector.role"),Xc("selector.test_id"),Xc("selector.text")}var aU=[];function rU(){aU.forEach(function(n){return n()})}var sU=c.ReactCurrentActQueue;function cU(n){{var t=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,i=typeof jest<"u";return i&&t!==!1}}function jv(){{var n=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!n&&sU.current!==null&&s("The current testing environment is not configured to support act(...)"),n}}var mU=Math.ceil,xN=c.ReactCurrentDispatcher,gN=c.ReactCurrentOwner,ko=c.ReactCurrentBatchConfig,Ji=c.ReactCurrentActQueue,po=0,Mv=1,To=2,Ti=4,zl=0,Zc=1,pr=2,Nd=3,em=4,Cv=5,hN=6,ht=po,Jo=null,qt=null,bo=Ye,pl=Ye,vN=pa(Ye),No=zl,nm=null,xd=Ye,tm=Ye,gd=Ye,om=null,si=null,yN=0,Rv=500,Ev=1/0,uU=500,Hl=null;function im(){Ev=vo()+uU}function Av(){return Ev}var hd=!1,DN=null,ys=null,br=!1,Ma=null,lm=Ye,SN=[],jN=null,dU=50,am=0,MN=null,CN=!1,vd=!1,fU=50,Ds=0,yd=null,rm=Ht,Dd=Ye,Uv=!1;function Sd(){return Jo}function Xo(){return(ht&(To|Ti))!==po?vo():(rm!==Ht||(rm=vo()),rm)}function Ca(n){var t=n.mode;if((t&gt)===In)return Yn;if((ht&To)!==po&&bo!==Ye)return Zs(bo);var i=sE()!==rE;if(i){if(ko.transition!==null){var l=ko.transition;l._updatedFibers||(l._updatedFibers=new Set),l._updatedFibers.add(n)}return Dd===Do&&(Dd=u0()),Dd}var r=$i();if(r!==Do)return r;var d=F1();return d}function pU(n){var t=n.mode;return(t&gt)===In?Yn:NM()}function xo(n,t,i,l){BU(),Uv&&s("useInsertionEffect must not schedule updates."),CN&&(vd=!0),ec(n,i,l),(ht&To)!==Ye&&n===Jo?OU(t):(Li&&p0(n,t,i),GU(t),n===Jo&&((ht&To)===po&&(tm=at(tm,i)),No===em&&Ra(n,bo)),ci(n,l),i===Yn&&ht===po&&(t.mode&gt)===In&&!Ji.isBatchingLegacy&&(im(),Ug()))}function bU(n,t,i){var l=n.current;l.lanes=t,ec(n,t,i),ci(n,i)}function NU(n){return(ht&To)!==po}function ci(n,t){var i=n.callbackNode;mM(n,t);var l=Hm(n,n===Jo?bo:Ye);if(l===Ye){i!==null&&Fv(i),n.callbackNode=null,n.callbackPriority=Do;return}var r=Za(l),d=n.callbackPriority;if(d===r&&!(Ji.current!==null&&i!==kN)){i==null&&d!==Yn&&s("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}i!=null&&Fv(i);var D;if(r===Yn)n.tag===ba?(Ji.isBatchingLegacy!==null&&(Ji.didScheduleLegacyUpdate=!0),HR(kv.bind(null,n))):Ag(kv.bind(null,n)),Ji.current!==null?Ji.current.push(Na):Q1(function(){(ht&(To|Ti))===po&&Na()}),D=null;else{var A;switch(x0(l)){case xi:A=$m;break;case Tl:A=Df;break;case Pl:A=Ka;break;case qm:A=Sf;break;default:A=Ka;break}D=TN(A,wv.bind(null,n))}n.callbackPriority=r,n.callbackNode=D}function wv(n,t){if(TE(),rm=Ht,Dd=Ye,(ht&(To|Ti))!==po)throw new Error("Should not already be working.");var i=n.callbackNode,l=Fl();if(l&&n.callbackNode!==i)return null;var r=Hm(n,n===Jo?bo:Ye);if(r===Ye)return null;var d=!Wm(n,r)&&!bM(n,r)&&!t,D=d?CU(n,r):Md(n,r);if(D!==zl){if(D===pr){var A=Wf(n);A!==Ye&&(r=A,D=RN(n,A))}if(D===Zc){var k=nm;throw Nr(n,Ye),Ra(n,r),ci(n,vo()),k}if(D===hN)Ra(n,r);else{var F=!Wm(n,r),Y=n.current.alternate;if(F&&!gU(Y)){if(D=Md(n,r),D===pr){var ce=Wf(n);ce!==Ye&&(r=ce,D=RN(n,ce))}if(D===Zc){var se=nm;throw Nr(n,Ye),Ra(n,r),ci(n,vo()),se}}n.finishedWork=Y,n.finishedLanes=r,xU(n,D,r)}}return ci(n,vo()),n.callbackNode===i?wv.bind(null,n):null}function RN(n,t){var i=om;if(Qm(n)){var l=Nr(n,t);l.flags|=Ul,_R(n.containerInfo)}var r=Md(n,t);if(r!==pr){var d=si;si=i,d!==null&&Vv(d)}return r}function Vv(n){si===null?si=n:si.push.apply(si,n)}function xU(n,t,i){switch(t){case zl:case Zc:throw new Error("Root did not complete. This is a bug in React.");case pr:{xr(n,si,Hl);break}case Nd:{if(Ra(n,i),c0(i)&&!qv()){var l=yN+Rv-vo();if(l>10){var r=Hm(n,Ye);if(r!==Ye)break;var d=n.suspendedLanes;if(!Fr(d,i)){Xo(),f0(n,d);break}n.timeoutHandle=jp(xr.bind(null,n,si,Hl),l);break}}xr(n,si,Hl);break}case em:{if(Ra(n,i),pM(i))break;if(!qv()){var D=sM(n,i),A=D,k=vo()-A,F=_U(k)-k;if(F>10){n.timeoutHandle=jp(xr.bind(null,n,si,Hl),F);break}}xr(n,si,Hl);break}case Cv:{xr(n,si,Hl);break}default:throw new Error("Unknown root exit status.")}}function gU(n){for(var t=n;;){if(t.flags&bf){var i=t.updateQueue;if(i!==null){var l=i.stores;if(l!==null)for(var r=0;r<l.length;r++){var d=l[r],D=d.getSnapshot,A=d.value;try{if(!hi(D(),A))return!1}catch{return!1}}}}var k=t.child;if(t.subtreeFlags&bf&&k!==null){k.return=t,t=k;continue}if(t===n)return!0;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}return!0}function Ra(n,t){t=Fm(t,gd),t=Fm(t,tm),gM(n,t)}function kv(n){if(PE(),(ht&(To|Ti))!==po)throw new Error("Should not already be working.");Fl();var t=Hm(n,Ye);if(!Ni(t,Yn))return ci(n,vo()),null;var i=Md(n,t);if(n.tag!==ba&&i===pr){var l=Wf(n);l!==Ye&&(t=l,i=RN(n,l))}if(i===Zc){var r=nm;throw Nr(n,Ye),Ra(n,t),ci(n,vo()),r}if(i===hN)throw new Error("Root did not complete. This is a bug in React.");var d=n.current.alternate;return n.finishedWork=d,n.finishedLanes=t,xr(n,si,Hl),ci(n,vo()),null}function hU(n,t){t!==Ye&&(Yf(n,at(t,Yn)),ci(n,vo()),(ht&(To|Ti))===po&&(im(),Na()))}function EN(n,t){var i=ht;ht|=Mv;try{return n(t)}finally{ht=i,ht===po&&!Ji.isBatchingLegacy&&(im(),Ug())}}function vU(n,t,i,l,r){var d=$i(),D=ko.transition;try{return ko.transition=null,So(xi),n(t,i,l,r)}finally{So(d),ko.transition=D,ht===po&&im()}}function Wl(n){Ma!==null&&Ma.tag===ba&&(ht&(To|Ti))===po&&Fl();var t=ht;ht|=Mv;var i=ko.transition,l=$i();try{return ko.transition=null,So(xi),n?n():void 0}finally{So(l),ko.transition=i,ht=t,(ht&(To|Ti))===po&&Na()}}function Tv(){return(ht&(To|Ti))!==po}function jd(n,t){Go(vN,pl,n),pl=at(pl,t)}function AN(n){pl=vN.current,Oo(vN,n)}function Nr(n,t){n.finishedWork=null,n.finishedLanes=Ye;var i=n.timeoutHandle;if(i!==Mp&&(n.timeoutHandle=Mp,q1(i)),qt!==null)for(var l=qt.return;l!==null;){var r=l.alternate;cv(r,l),l=l.return}Jo=n;var d=gr(n.current,null);return qt=d,bo=pl=t,No=zl,nm=null,xd=Ye,tm=Ye,gd=Ye,om=null,si=null,bE(),zi.discardPendingWarnings(),d}function Pv(n,t){do{var i=qt;try{if(Tu(),lh(),oo(),gN.current=null,i===null||i.return===null){No=Zc,nm=t,qt=null;return}if(fe&&i.mode&kt&&cd(i,!0),ie)if(Gr(),t!==null&&typeof t=="object"&&typeof t.then=="function"){var l=t;Kj(i,l,bo)}else Yj(i,t,bo);HE(n,i.return,i,t,bo),Lv(i)}catch(r){t=r,qt===i&&i!==null?(i=i.return,qt=i):i=qt;continue}return}while(!0)}function Iv(){var n=xN.current;return xN.current=id,n===null?id:n}function _v(n){xN.current=n}function yU(){yN=vo()}function sm(n){xd=at(n,xd)}function DU(){No===zl&&(No=Nd)}function UN(){(No===zl||No===Nd||No===pr)&&(No=em),Jo!==null&&(Ff(xd)||Ff(tm))&&Ra(Jo,bo)}function SU(n){No!==em&&(No=pr),om===null?om=[n]:om.push(n)}function jU(){return No===zl}function Md(n,t){var i=ht;ht|=To;var l=Iv();if(Jo!==n||bo!==t){if(Li){var r=n.memoizedUpdaters;r.size>0&&(cm(n,bo),r.clear()),b0(n,t)}Hl=N0(),Nr(n,t)}i0(t);do try{MU();break}catch(d){Pv(n,d)}while(!0);if(Tu(),ht=i,_v(l),qt!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return l0(),Jo=null,bo=Ye,No}function MU(){for(;qt!==null;)Bv(qt)}function CU(n,t){var i=ht;ht|=To;var l=Iv();if(Jo!==n||bo!==t){if(Li){var r=n.memoizedUpdaters;r.size>0&&(cm(n,bo),r.clear()),b0(n,t)}Hl=N0(),im(),Nr(n,t)}i0(t);do try{RU();break}catch(d){Pv(n,d)}while(!0);return Tu(),_v(l),ht=i,qt!==null?(nM(),zl):(l0(),Jo=null,bo=Ye,No)}function RU(){for(;qt!==null&&!Aj();)Bv(qt)}function Bv(n){var t=n.alternate;Gt(n);var i;(n.mode&kt)!==In?(kb(n),i=wN(t,n,pl),cd(n,!0)):i=wN(t,n,pl),oo(),n.memoizedProps=n.pendingProps,i===null?Lv(n):qt=i,gN.current=null}function Lv(n){var t=n;do{var i=t.alternate,l=t.return;if((t.flags&Lm)===Gn){Gt(t);var r=void 0;if((t.mode&kt)===In?r=sv(i,t,pl):(kb(t),r=sv(i,t,pl),cd(t,!1)),oo(),r!==null){qt=r;return}}else{var d=DA(i,t);if(d!==null){d.flags&=Sj,qt=d;return}if((t.mode&kt)!==In){cd(t,!1);for(var D=t.actualDuration,A=t.child;A!==null;)D+=A.actualDuration,A=A.sibling;t.actualDuration=D}if(l!==null)l.flags|=Lm,l.subtreeFlags=Gn,l.deletions=null;else{No=hN,qt=null;return}}var k=t.sibling;if(k!==null){qt=k;return}t=l,qt=t}while(t!==null);No===zl&&(No=Cv)}function xr(n,t,i){var l=$i(),r=ko.transition;try{ko.transition=null,So(xi),EU(n,t,i,l)}finally{ko.transition=r,So(l)}return null}function EU(n,t,i,l){do Fl();while(Ma!==null);if(LU(),(ht&(To|Ti))!==po)throw new Error("Should not already be working.");var r=n.finishedWork,d=n.finishedLanes;if(Gj(d),r===null)return n0(),null;if(d===Ye&&s("root.finishedLanes should not be empty during a commit. This is a bug in React."),n.finishedWork=null,n.finishedLanes=Ye,r===n.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");n.callbackNode=null,n.callbackPriority=Do;var D=at(r.lanes,r.childLanes);hM(n,D),n===Jo&&(Jo=null,qt=null,bo=Ye),((r.subtreeFlags&$r)!==Gn||(r.flags&$r)!==Gn)&&(br||(br=!0,jN=i,TN(Ka,function(){return Fl(),null})));var A=(r.subtreeFlags&(vf|yf|Fs|$r))!==Gn,k=(r.flags&(vf|yf|Fs|$r))!==Gn;if(A||k){var F=ko.transition;ko.transition=null;var Y=$i();So(xi);var ce=ht;ht|=Ti,gN.current=null,RA(n,r),Uh(),OA(n,r,d),$1(n.containerInfo),n.current=r,Jj(d),GA(r,n,d),Xj(),Uj(),ht=ce,So(Y),ko.transition=F}else n.current=r,Uh();var se=br;if(br?(br=!1,Ma=n,lm=d):(Ds=0,yd=null),D=n.pendingLanes,D===Ye&&(ys=null),se||zv(n.current,!1),_j(r.stateNode,l),Li&&n.memoizedUpdaters.clear(),rU(),ci(n,vo()),t!==null)for(var je=n.onRecoverableError,Me=0;Me<t.length;Me++){var we=t[Me],dn=we.stack,kn=we.digest;je(we.value,{componentStack:dn,digest:kn})}if(hd){hd=!1;var Un=DN;throw DN=null,Un}return Ni(lm,Yn)&&n.tag!==ba&&Fl(),D=n.pendingLanes,Ni(D,Yn)?(kE(),n===MN?am++:(am=0,MN=n)):am=0,Na(),n0(),null}function Fl(){if(Ma!==null){var n=x0(lm),t=SM(Pl,n),i=ko.transition,l=$i();try{return ko.transition=null,So(t),UU()}finally{So(l),ko.transition=i}}return!1}function AU(n){SN.push(n),br||(br=!0,TN(Ka,function(){return Fl(),null}))}function UU(){if(Ma===null)return!1;var n=jN;jN=null;var t=Ma,i=lm;if(Ma=null,lm=Ye,(ht&(To|Ti))!==po)throw new Error("Cannot flush passive effects while already rendering.");CN=!0,vd=!1,Zj(i);var l=ht;ht|=Ti,YA(t.current),WA(t,t.current,i,n);{var r=SN;SN=[];for(var d=0;d<r.length;d++){var D=r[d];wA(t,D)}}eM(),zv(t.current,!0),ht=l,Na(),vd?t===yd?Ds++:(Ds=0,yd=t):Ds=0,CN=!1,vd=!1,Bj(t);{var A=t.current.stateNode;A.effectDuration=0,A.passiveEffectDuration=0}return!0}function $v(n){return ys!==null&&ys.has(n)}function wU(n){ys===null?ys=new Set([n]):ys.add(n)}function VU(n){hd||(hd=!0,DN=n)}var kU=VU;function Ov(n,t,i){var l=dr(i,t),r=Bh(n,l,Yn),d=ga(n,r,Yn),D=Xo();d!==null&&(ec(d,Yn,D),ci(d,D))}function Ot(n,t,i){if(jA(i),mm(!1),n.tag===h){Ov(n,n,i);return}var l=null;for(l=t;l!==null;){if(l.tag===h){Ov(l,n,i);return}else if(l.tag===g){var r=l.type,d=l.stateNode;if(typeof r.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&!$v(d)){var D=dr(i,n),A=Jb(l,D,Yn),k=ga(l,A,Yn),F=Xo();k!==null&&(ec(k,Yn,F),ci(k,F));return}}l=l.return}s(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,i)}function TU(n,t,i){var l=n.pingCache;l!==null&&l.delete(t);var r=Xo();f0(n,i),zU(n),Jo===n&&Fr(bo,i)&&(No===em||No===Nd&&c0(bo)&&vo()-yN<Rv?Nr(n,Ye):gd=at(gd,i)),ci(n,r)}function Gv(n,t){t===Do&&(t=pU(n));var i=Xo(),l=ai(n,t);l!==null&&(ec(l,t,i),ci(l,i))}function PU(n){var t=n.memoizedState,i=Do;t!==null&&(i=t.retryLane),Gv(n,i)}function IU(n,t){var i=Do,l;switch(n.tag){case R:l=n.stateNode;var r=n.memoizedState;r!==null&&(i=r.retryLane);break;case G:l=n.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}l!==null&&l.delete(t),Gv(n,i)}function _U(n){return n<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:mU(n/1960)*1960}function BU(){if(am>dU)throw am=0,MN=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ds>fU&&(Ds=0,yd=null,s("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function LU(){zi.flushLegacyContextWarning(),zi.flushPendingUnsafeLifecycleWarnings()}function zv(n,t){Gt(n),Cd(n,aa,iU),t&&Cd(n,hf,lU),Cd(n,aa,tU),t&&Cd(n,hf,oU),oo()}function Cd(n,t,i){for(var l=n,r=null;l!==null;){var d=l.subtreeFlags&t;l!==r&&l.child!==null&&d!==Gn?l=l.child:((l.flags&t)!==Gn&&i(l),l.sibling!==null?l=l.sibling:l=r=l.return)}}var Rd=null;function Hv(n){{if((ht&To)!==po||!(n.mode&gt))return;var t=n.tag;if(t!==f&&t!==h&&t!==g&&t!==v&&t!==C&&t!==O&&t!==V)return;var i=Qn(n)||"ReactComponent";if(Rd!==null){if(Rd.has(i))return;Rd.add(i)}else Rd=new Set([i]);var l=jo;try{Gt(n),s("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{l?Gt(n):oo()}}}var wN;{var $U=null;wN=function(n,t,i){var l=Xv($U,t);try{return ov(n,t,i)}catch(d){if(XR()||d!==null&&typeof d=="object"&&typeof d.then=="function")throw d;if(Tu(),lh(),cv(n,t),Xv(t,l),t.mode&kt&&kb(t),ff(null,ov,null,n,t,i),vj()){var r=pf();typeof r=="object"&&r!==null&&r._suppressLogging&&typeof d=="object"&&d!==null&&!d._suppressLogging&&(d._suppressLogging=!0)}throw d}}}var Wv=!1,VN;VN=new Set;function OU(n){if(Cl&&!UE())switch(n.tag){case v:case C:case V:{var t=qt&&Qn(qt)||"Unknown",i=t;if(!VN.has(i)){VN.add(i);var l=Qn(n)||"Unknown";s("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",l,t,t)}break}case g:{Wv||(s("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Wv=!0);break}}}function cm(n,t){if(Li){var i=n.memoizedUpdaters;i.forEach(function(l){p0(n,l,t)})}}var kN={};function TN(n,t){{var i=Ji.current;return i!==null?(i.push(t),kN):e0(n,t)}}function Fv(n){if(n!==kN)return Ej(n)}function qv(){return Ji.current!==null}function GU(n){{if(n.mode&gt){if(!jv())return}else if(!cU()||ht!==po||n.tag!==v&&n.tag!==C&&n.tag!==V)return;if(Ji.current===null){var t=jo;try{Gt(n),s(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Qn(n))}finally{t?Gt(n):oo()}}}}function zU(n){n.tag!==ba&&jv()&&Ji.current===null&&s(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function mm(n){Uv=n}var Pi=null,Ss=null,HU=function(n){Pi=n};function js(n){{if(Pi===null)return n;var t=Pi(n);return t===void 0?n:t.current}}function PN(n){return js(n)}function IN(n){{if(Pi===null)return n;var t=Pi(n);if(t===void 0){if(n!=null&&typeof n.render=="function"){var i=js(n.render);if(n.render!==i){var l={$$typeof:En,render:i};return n.displayName!==void 0&&(l.displayName=n.displayName),l}}return n}return t.current}}function Qv(n,t){{if(Pi===null)return!1;var i=n.elementType,l=t.type,r=!1,d=typeof l=="object"&&l!==null?l.$$typeof:null;switch(n.tag){case g:{typeof l=="function"&&(r=!0);break}case v:{(typeof l=="function"||d===An)&&(r=!0);break}case C:{(d===En||d===An)&&(r=!0);break}case O:case V:{(d===qn||d===An)&&(r=!0);break}default:return!1}if(r){var D=Pi(i);if(D!==void 0&&D===Pi(l))return!0}return!1}}function Yv(n){{if(Pi===null||typeof WeakSet!="function")return;Ss===null&&(Ss=new WeakSet),Ss.add(n)}}var WU=function(n,t){{if(Pi===null)return;var i=t.staleFamilies,l=t.updatedFamilies;Fl(),Wl(function(){_N(n.current,l,i)})}},FU=function(n,t){{if(n.context!==vi)return;Fl(),Wl(function(){um(t,n,null,null)})}};function _N(n,t,i){{var l=n.alternate,r=n.child,d=n.sibling,D=n.tag,A=n.type,k=null;switch(D){case v:case V:case g:k=A;break;case C:k=A.render;break}if(Pi===null)throw new Error("Expected resolveFamily to be set during hot reload.");var F=!1,Y=!1;if(k!==null){var ce=Pi(k);ce!==void 0&&(i.has(ce)?Y=!0:t.has(ce)&&(D===g?Y=!0:F=!0))}if(Ss!==null&&(Ss.has(n)||l!==null&&Ss.has(l))&&(Y=!0),Y&&(n._debugNeedsRemount=!0),Y||F){var se=ai(n,Yn);se!==null&&xo(se,n,Yn,Ht)}r!==null&&!Y&&_N(r,t,i),d!==null&&_N(d,t,i)}}var qU=function(n,t){{var i=new Set,l=new Set(t.map(function(r){return r.current}));return BN(n.current,l,i),i}};function BN(n,t,i){{var l=n.child,r=n.sibling,d=n.tag,D=n.type,A=null;switch(d){case v:case V:case g:A=D;break;case C:A=D.render;break}var k=!1;A!==null&&t.has(A)&&(k=!0),k?QU(n,i):l!==null&&BN(l,t,i),r!==null&&BN(r,t,i)}}function QU(n,t){{var i=YU(n,t);if(i)return;for(var l=n;;){switch(l.tag){case y:t.add(l.stateNode);return;case N:t.add(l.stateNode.containerInfo);return;case h:t.add(l.stateNode.containerInfo);return}if(l.return===null)throw new Error("Expected to reach root first.");l=l.return}}}function YU(n,t){for(var i=n,l=!1;;){if(i.tag===y)l=!0,t.add(i.stateNode);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)return l;for(;i.sibling===null;){if(i.return===null||i.return===n)return l;i=i.return}i.sibling.return=i.return,i=i.sibling}return!1}var LN;{LN=!1;try{var Kv=Object.preventExtensions({})}catch{LN=!0}}function KU(n,t,i,l){this.tag=n,this.key=i,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=l,this.flags=Gn,this.subtreeFlags=Gn,this.deletions=null,this.lanes=Ye,this.childLanes=Ye,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!LN&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var yi=function(n,t,i,l){return new KU(n,t,i,l)};function $N(n){var t=n.prototype;return!!(t&&t.isReactComponent)}function JU(n){return typeof n=="function"&&!$N(n)&&n.defaultProps===void 0}function XU(n){if(typeof n=="function")return $N(n)?g:v;if(n!=null){var t=n.$$typeof;if(t===En)return C;if(t===qn)return O}return f}function gr(n,t){var i=n.alternate;i===null?(i=yi(n.tag,t,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i._debugSource=n._debugSource,i._debugOwner=n._debugOwner,i._debugHookTypes=n._debugHookTypes,i.alternate=n,n.alternate=i):(i.pendingProps=t,i.type=n.type,i.flags=Gn,i.subtreeFlags=Gn,i.deletions=null,i.actualDuration=0,i.actualStartTime=-1),i.flags=n.flags&Vl,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue;var l=n.dependencies;switch(i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.selfBaseDuration=n.selfBaseDuration,i.treeBaseDuration=n.treeBaseDuration,i._debugNeedsRemount=n._debugNeedsRemount,i.tag){case f:case v:case V:i.type=js(n.type);break;case g:i.type=PN(n.type);break;case C:i.type=IN(n.type);break}return i}function ZU(n,t){n.flags&=Vl|lo;var i=n.alternate;if(i===null)n.childLanes=Ye,n.lanes=t,n.child=null,n.subtreeFlags=Gn,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null,n.selfBaseDuration=0,n.treeBaseDuration=0;else{n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=Gn,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type;var l=i.dependencies;n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},n.selfBaseDuration=i.selfBaseDuration,n.treeBaseDuration=i.treeBaseDuration}return n}function e2(n,t,i){var l;return n===ju?(l=gt,t===!0&&(l|=Kt,l|=il)):l=In,Li&&(l|=kt),yi(h,null,null,l)}function ON(n,t,i,l,r,d){var D=f,A=n;if(typeof n=="function")$N(n)?(D=g,A=PN(A)):A=js(A);else if(typeof n=="string")D=y;else e:switch(n){case Fo:return Ea(i.children,r,d,t);case ji:D=U,r|=Kt,(r&gt)!==In&&(r|=il);break;case te:return n2(i,r,d,t);case nt:return t2(i,r,d,t);case un:return o2(i,r,d,t);case Lt:return Jv(i,r,d,t);case go:case Qt:case di:case fi:case $t:default:{if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ke:D=M;break e;case rn:D=S;break e;case En:D=C,A=IN(A);break e;case qn:D=O;break e;case An:D=$,A=null;break e}var k="";{(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var F=l?Qn(l):null;F&&(k+=`

Check the render method of \``+F+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(n==null?n:typeof n)+"."+k))}}var Y=yi(D,i,t,r);return Y.elementType=n,Y.type=A,Y.lanes=d,Y._debugOwner=l,Y}function GN(n,t,i){var l=null;l=n._owner;var r=n.type,d=n.key,D=n.props,A=ON(r,d,D,l,t,i);return A._debugSource=n._source,A._debugOwner=n._owner,A}function Ea(n,t,i,l){var r=yi(j,n,l,t);return r.lanes=i,r}function n2(n,t,i,l){typeof n.id!="string"&&s('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof n.id);var r=yi(w,n,l,t|kt);return r.elementType=te,r.lanes=i,r.stateNode={effectDuration:0,passiveEffectDuration:0},r}function t2(n,t,i,l){var r=yi(R,n,l,t);return r.elementType=nt,r.lanes=i,r}function o2(n,t,i,l){var r=yi(G,n,l,t);return r.elementType=un,r.lanes=i,r}function Jv(n,t,i,l){var r=yi(B,n,l,t);r.elementType=Lt,r.lanes=i;var d={isHidden:!1};return r.stateNode=d,r}function zN(n,t,i){var l=yi(E,n,null,t);return l.lanes=i,l}function i2(){var n=yi(y,null,null,In);return n.elementType="DELETED",n}function l2(n){var t=yi(P,null,null,In);return t.stateNode=n,t}function HN(n,t,i){var l=n.children!==null?n.children:[],r=yi(N,l,n.key,t);return r.lanes=i,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Xv(n,t){return n===null&&(n=yi(f,null,null,In)),n.tag=t.tag,n.key=t.key,n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.return=t.return,n.child=t.child,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.pendingProps=t.pendingProps,n.memoizedProps=t.memoizedProps,n.updateQueue=t.updateQueue,n.memoizedState=t.memoizedState,n.dependencies=t.dependencies,n.mode=t.mode,n.flags=t.flags,n.subtreeFlags=t.subtreeFlags,n.deletions=t.deletions,n.lanes=t.lanes,n.childLanes=t.childLanes,n.alternate=t.alternate,n.actualDuration=t.actualDuration,n.actualStartTime=t.actualStartTime,n.selfBaseDuration=t.selfBaseDuration,n.treeBaseDuration=t.treeBaseDuration,n._debugSource=t._debugSource,n._debugOwner=t._debugOwner,n._debugNeedsRemount=t._debugNeedsRemount,n._debugHookTypes=t._debugHookTypes,n}function a2(n,t,i,l,r){this.tag=t,this.containerInfo=n,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Mp,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Do,this.eventTimes=Qf(Ye),this.expirationTimes=Qf(Ht),this.pendingLanes=Ye,this.suspendedLanes=Ye,this.pingedLanes=Ye,this.expiredLanes=Ye,this.mutableReadLanes=Ye,this.finishedLanes=Ye,this.entangledLanes=Ye,this.entanglements=Qf(Ye),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var d=this.pendingUpdatersLaneMap=[],D=0;D<Mf;D++)d.push(new Set)}switch(t){case ju:this._debugRootType=i?"hydrateRoot()":"createRoot()";break;case ba:this._debugRootType=i?"hydrate()":"render()";break}}function Zv(n,t,i,l,r,d,D,A,k,F){var Y=new a2(n,t,i,A,k),ce=e2(t,d);Y.current=ce,ce.stateNode=Y;{var se={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null};ce.memoizedState=se}return ob(ce),Y}var WN="18.3.1";function r2(n,t,i){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return K(l),{$$typeof:Zt,key:l==null?null:""+l,children:n,containerInfo:t,implementation:i}}var FN,qN;FN=!1,qN={};function ey(n){if(!n)return vi;var t=_r(n),i=zR(t);if(t.tag===g){var l=t.type;if(rl(l))return Rg(t,l,i)}return i}function s2(n,t){{var i=_r(n);if(i===void 0){if(typeof n.render=="function")throw new Error("Unable to find node on an unmounted component.");var l=Object.keys(n).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+l)}var r=Jx(i);if(r===null)return null;if(r.mode&Kt){var d=Qn(i)||"Component";if(!qN[d]){qN[d]=!0;var D=jo;try{Gt(r),i.mode&Kt?s("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,d):s("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,d)}finally{D?Gt(D):oo()}}}return r.stateNode}}function ny(n,t,i,l,r,d,D,A){var k=!1,F=null;return Zv(n,t,k,F,i,l,r,d,D)}function ty(n,t,i,l,r,d,D,A,k,F){var Y=!0,ce=Zv(i,l,Y,n,r,d,D,A,k);ce.context=ey(null);var se=ce.current,je=Xo(),Me=Ca(se),we=Ol(je,Me);return we.callback=t??null,ga(se,we,Me),bU(ce,Me,je),ce}function um(n,t,i,l){Ij(t,n);var r=t.current,d=Xo(),D=Ca(r);tM(D);var A=ey(i);t.context===null?t.context=A:t.pendingContext=A,Cl&&jo!==null&&!FN&&(FN=!0,s(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Qn(jo)||"Unknown"));var k=Ol(d,D);k.payload={element:n},l=l===void 0?null:l,l!==null&&(typeof l!="function"&&s("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",l),k.callback=l);var F=ga(r,k,D);return F!==null&&(xo(F,r,D,d),Lu(F,r,D)),D}function Ed(n){var t=n.current;if(!t.child)return null;switch(t.child.tag){case y:return t.child.stateNode;default:return t.child.stateNode}}function c2(n){switch(n.tag){case h:{var t=n.stateNode;if(Qm(t)){var i=uM(t);hU(t,i)}break}case R:{Wl(function(){var r=ai(n,Yn);if(r!==null){var d=Xo();xo(r,n,Yn,d)}});var l=Yn;QN(n,l);break}}}function oy(n,t){var i=n.memoizedState;i!==null&&i.dehydrated!==null&&(i.retryLane=xM(i.retryLane,t))}function QN(n,t){oy(n,t);var i=n.alternate;i&&oy(i,t)}function m2(n){if(n.tag===R){var t=Ks,i=ai(n,t);if(i!==null){var l=Xo();xo(i,n,t,l)}QN(n,t)}}function u2(n){if(n.tag===R){var t=Ca(n),i=ai(n,t);if(i!==null){var l=Xo();xo(i,n,t,l)}QN(n,t)}}function iy(n){var t=Rj(n);return t===null?null:t.stateNode}var ly=function(n){return null};function d2(n){return ly(n)}var ay=function(n){return!1};function f2(n){return ay(n)}var ry=null,sy=null,cy=null,my=null,uy=null,dy=null,fy=null,py=null,by=null;{var Ny=function(n,t,i){var l=t[i],r=Mn(n)?n.slice():it({},n);return i+1===t.length?(Mn(r)?r.splice(l,1):delete r[l],r):(r[l]=Ny(n[l],t,i+1),r)},xy=function(n,t){return Ny(n,t,0)},gy=function(n,t,i,l){var r=t[l],d=Mn(n)?n.slice():it({},n);if(l+1===t.length){var D=i[l];d[D]=d[r],Mn(d)?d.splice(r,1):delete d[r]}else d[r]=gy(n[r],t,i,l+1);return d},hy=function(n,t,i){if(t.length!==i.length){p("copyWithRename() expects paths of the same length");return}else for(var l=0;l<i.length-1;l++)if(t[l]!==i[l]){p("copyWithRename() expects paths to be the same except for the deepest key");return}return gy(n,t,i,0)},vy=function(n,t,i,l){if(i>=t.length)return l;var r=t[i],d=Mn(n)?n.slice():it({},n);return d[r]=vy(n[r],t,i+1,l),d},yy=function(n,t,i){return vy(n,t,0,i)},YN=function(n,t){for(var i=n.memoizedState;i!==null&&t>0;)i=i.next,t--;return i};ry=function(n,t,i,l){var r=YN(n,t);if(r!==null){var d=yy(r.memoizedState,i,l);r.memoizedState=d,r.baseState=d,n.memoizedProps=it({},n.memoizedProps);var D=ai(n,Yn);D!==null&&xo(D,n,Yn,Ht)}},sy=function(n,t,i){var l=YN(n,t);if(l!==null){var r=xy(l.memoizedState,i);l.memoizedState=r,l.baseState=r,n.memoizedProps=it({},n.memoizedProps);var d=ai(n,Yn);d!==null&&xo(d,n,Yn,Ht)}},cy=function(n,t,i,l){var r=YN(n,t);if(r!==null){var d=hy(r.memoizedState,i,l);r.memoizedState=d,r.baseState=d,n.memoizedProps=it({},n.memoizedProps);var D=ai(n,Yn);D!==null&&xo(D,n,Yn,Ht)}},my=function(n,t,i){n.pendingProps=yy(n.memoizedProps,t,i),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var l=ai(n,Yn);l!==null&&xo(l,n,Yn,Ht)},uy=function(n,t){n.pendingProps=xy(n.memoizedProps,t),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var i=ai(n,Yn);i!==null&&xo(i,n,Yn,Ht)},dy=function(n,t,i){n.pendingProps=hy(n.memoizedProps,t,i),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var l=ai(n,Yn);l!==null&&xo(l,n,Yn,Ht)},fy=function(n){var t=ai(n,Yn);t!==null&&xo(t,n,Yn,Ht)},py=function(n){ly=n},by=function(n){ay=n}}function p2(n){var t=Jx(n);return t===null?null:t.stateNode}function b2(n){return null}function N2(){return jo}function x2(n){var t=n.findFiberByHostInstance,i=c.ReactCurrentDispatcher;return Pj({bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:ry,overrideHookStateDeletePath:sy,overrideHookStateRenamePath:cy,overrideProps:my,overridePropsDeletePath:uy,overridePropsRenamePath:dy,setErrorHandler:py,setSuspenseHandler:by,scheduleUpdate:fy,currentDispatcherRef:i,findHostInstanceByFiber:p2,findFiberByHostInstance:t||b2,findHostInstancesForRefresh:qU,scheduleRefresh:WU,scheduleRoot:FU,setRefreshHandler:HU,getCurrentFiber:N2,reconcilerVersion:WN})}var Dy=typeof reportError=="function"?reportError:function(n){console.error(n)};function KN(n){this._internalRoot=n}Ad.prototype.render=KN.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?s("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):Ud(arguments[1])?s("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&s("You passed a second argument to root.render(...) but it only accepts one argument.");var i=t.containerInfo;if(i.nodeType!==io){var l=iy(t.current);l&&l.parentNode!==i&&s("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}um(n,t,null,null)},Ad.prototype.unmount=KN.prototype.unmount=function(){typeof arguments[0]=="function"&&s("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Tv()&&s("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Wl(function(){um(null,n,null,null)}),Dg(t)}};function g2(n,t){if(!Ud(n))throw new Error("createRoot(...): Target container is not a DOM element.");Sy(n);var i=!1,l=!1,r="",d=Dy;t!=null&&(t.hydrate?p("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof t=="object"&&t!==null&&t.$$typeof===Ft&&s(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.transitionCallbacks!==void 0&&t.transitionCallbacks);var D=ny(n,ju,null,i,l,r,d);xu(D.current,n);var A=n.nodeType===io?n.parentNode:n;return xc(A),new KN(D)}function Ad(n){this._internalRoot=n}function h2(n){n&&TM(n)}Ad.prototype.unstable_scheduleHydration=h2;function v2(n,t,i){if(!Ud(n))throw new Error("hydrateRoot(...): Target container is not a DOM element.");Sy(n),t===void 0&&s("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var l=i??null,r=i!=null&&i.hydratedSources||null,d=!1,D=!1,A="",k=Dy;i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(A=i.identifierPrefix),i.onRecoverableError!==void 0&&(k=i.onRecoverableError));var F=ty(t,null,n,ju,l,d,D,A,k);if(xu(F.current,n),xc(n),r)for(var Y=0;Y<r.length;Y++){var ce=r[Y];jE(F,ce)}return new Ad(F)}function Ud(n){return!!(n&&(n.nodeType===ii||n.nodeType===Al||n.nodeType===nf))}function dm(n){return!!(n&&(n.nodeType===ii||n.nodeType===Al||n.nodeType===nf||n.nodeType===io&&n.nodeValue===" react-mount-point-unstable "))}function Sy(n){n.nodeType===ii&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&s("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Ec(n)&&(n._reactRootContainer?s("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):s("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var y2=c.ReactCurrentOwner,jy;jy=function(n){if(n._reactRootContainer&&n.nodeType!==io){var t=iy(n._reactRootContainer.current);t&&t.parentNode!==n&&s("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var i=!!n._reactRootContainer,l=JN(n),r=!!(l&&fa(l));r&&!i&&s("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),n.nodeType===ii&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&s("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function JN(n){return n?n.nodeType===Al?n.documentElement:n.firstChild:null}function My(){}function D2(n,t,i,l,r){if(r){if(typeof l=="function"){var d=l;l=function(){var se=Ed(D);d.call(se)}}var D=ty(t,l,n,ba,null,!1,!1,"",My);n._reactRootContainer=D,xu(D.current,n);var A=n.nodeType===io?n.parentNode:n;return xc(A),Wl(),D}else{for(var k;k=n.lastChild;)n.removeChild(k);if(typeof l=="function"){var F=l;l=function(){var se=Ed(Y);F.call(se)}}var Y=ny(n,ba,null,!1,!1,"",My);n._reactRootContainer=Y,xu(Y.current,n);var ce=n.nodeType===io?n.parentNode:n;return xc(ce),Wl(function(){um(t,Y,i,l)}),Y}}function S2(n,t){n!==null&&typeof n!="function"&&s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,n)}function wd(n,t,i,l,r){jy(i),S2(r===void 0?null:r,"render");var d=i._reactRootContainer,D;if(!d)D=D2(i,t,n,r,l);else{if(D=d,typeof r=="function"){var A=r;r=function(){var k=Ed(D);A.call(k)}}um(t,D,n,r)}return Ed(D)}var Cy=!1;function j2(n){{Cy||(Cy=!0,s("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var t=y2.current;if(t!==null&&t.stateNode!==null){var i=t.stateNode._warnedAboutRefsInRender;i||s("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",jt(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0}}return n==null?null:n.nodeType===ii?n:s2(n,"findDOMNode")}function M2(n,t,i){if(s("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!dm(t))throw new Error("Target container is not a DOM element.");{var l=Ec(t)&&t._reactRootContainer===void 0;l&&s("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return wd(null,n,t,!0,i)}function C2(n,t,i){if(s("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!dm(t))throw new Error("Target container is not a DOM element.");{var l=Ec(t)&&t._reactRootContainer===void 0;l&&s("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return wd(null,n,t,!1,i)}function R2(n,t,i,l){if(s("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!dm(i))throw new Error("Target container is not a DOM element.");if(n==null||!yj(n))throw new Error("parentComponent must be a valid React Component");return wd(n,t,i,!1,l)}var Ry=!1;function E2(n){if(Ry||(Ry=!0,s("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!dm(n))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var t=Ec(n)&&n._reactRootContainer===void 0;t&&s("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(n._reactRootContainer){{var i=JN(n),l=i&&!fa(i);l&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Wl(function(){wd(null,null,n,!1,function(){n._reactRootContainer=null,Dg(n)})}),!0}else{{var r=JN(n),d=!!(r&&fa(r)),D=n.nodeType===ii&&dm(n.parentNode)&&!!n.parentNode._reactRootContainer;d&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",D?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}jM(c2),CM(m2),RM(u2),EM($i),AM(yM),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&s("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),mj(U1),fj(EN,vU,Wl);function A2(n,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(t))throw new Error("Target container is not a DOM element.");return r2(n,t,null,i)}function U2(n,t,i,l){return R2(n,t,i,l)}var XN={usingClientEntryPoint:!1,Events:[fa,ns,gu,Bx,Lx,EN]};function w2(n,t){return XN.usingClientEntryPoint||s('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),g2(n,t)}function V2(n,t,i){return XN.usingClientEntryPoint||s('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),v2(n,t,i)}function k2(n){return Tv()&&s("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Wl(n)}var T2=x2({findFiberByHostInstance:or,bundleType:1,version:WN,rendererPackageName:"react-dom"});if(!T2&&an&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var Ey=window.location.protocol;/^(https?|file):$/.test(Ey)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(Ey==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN,Si.createPortal=A2,Si.createRoot=w2,Si.findDOMNode=j2,Si.flushSync=k2,Si.hydrate=M2,Si.hydrateRoot=V2,Si.render=C2,Si.unmountComponentAtNode=E2,Si.unstable_batchedUpdates=EN,Si.unstable_renderSubtreeIntoContainer=U2,Si.version=WN,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();$D.exports=Si;var bm=$D.exports,ZN=bm;{var Vd=ZN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;fx.createRoot=function(o,a){Vd.usingClientEntryPoint=!0;try{return ZN.createRoot(o,a)}finally{Vd.usingClientEntryPoint=!1}},fx.hydrateRoot=function(o,a,c){Vd.usingClientEntryPoint=!0;try{return ZN.hydrateRoot(o,a,c)}finally{Vd.usingClientEntryPoint=!1}}}const ae=({children:o,onClick:a,colorScheme:c="accent",disabled:m=!1,className:u="",type:p="button",title:s,style:x,cooldownMs:v=400})=>{const g="px-4 py-2 font-bold rounded-lg transition-all duration-150 ease-in-out border-2 border-amber-400/60 shadow-[0_4px_6px_-1px_rgba(0,0,0,0.3),0_2px_4px_-1px_rgba(0,0,0,0.2),inset_0_1px_0_0_rgba(255,255,255,0.1)] active:translate-y-0.5 active:shadow-[0_2px_4px_-1px_rgba(0,0,0,0.2)] focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:ring-offset-2 focus:ring-offset-primary disabled:bg-secondary disabled:opacity-70 disabled:cursor-not-allowed whitespace-nowrap overflow-hidden",[f,h]=b.useState(!1),N=b.useRef(null),y=b.useRef(null),E=b.useRef(null);b.useEffect(()=>()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]),b.useEffect(()=>{if(!((typeof o=="string"||typeof o=="number")&&!b.isValidElement(o)&&!Array.isArray(o)))return;const w=()=>{if(!y.current||!E.current)return;const O=y.current,V=E.current,$=(x==null?void 0:x.fontSize)||"clamp(0.75rem, 2vw, 1rem)";if(typeof $=="string"&&$.includes("clamp")){const z=$.match(/clamp\(([^,]+),([^,]+),([^)]+)\)/);if(z){const P=parseFloat(z[1].replace("rem","").trim())*16,G=parseFloat(z[3].replace("rem","").trim())*16;V.style.fontSize=`${G}px`;let q=G;for(;V.scrollWidth>O.clientWidth&&q>P;)q-=1,V.style.fontSize=`${q}px`}}else{let z=16;for(V.style.fontSize=`${z}px`;V.scrollWidth>O.clientWidth&&z>10;)z-=.5,V.style.fontSize=`${z}px`}};w();const R=new ResizeObserver(w);return y.current&&R.observe(y.current),()=>{R.disconnect()}},[o,x]);const j=b.useMemo(()=>{if(a)return C=>{if(!(m||f)){h(!0);try{const w=a(C);Promise.resolve(w).finally(()=>{N.current=setTimeout(()=>h(!1),v)})}catch(w){throw N.current=setTimeout(()=>h(!1),v),w}}}},[a,m,f,v]),U={accent:"bg-accent hover:bg-accent-hover text-white focus:ring-accent",blue:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-400",red:"bg-danger hover:bg-danger-hover text-white focus:ring-red-400",gray:"bg-secondary hover:bg-tertiary text-secondary focus:ring-color",green:"bg-success hover:opacity-90 text-white focus:ring-green-400",yellow:"bg-yellow-500 hover:bg-yellow-400 text-black focus:ring-yellow-300",purple:"bg-purple-600 hover:bg-purple-500 text-white focus:ring-purple-400",orange:"bg-orange-500 hover:bg-orange-400 text-white focus:ring-orange-300",none:""},S={fontSize:"clamp(0.875rem, 2.5vw, 1.125rem)",fontWeight:600,letterSpacing:"0.025em",...x},M=Array.isArray(o)||b.isValidElement(o)||typeof o=="object"&&o!==null&&!(typeof o=="string"||typeof o=="number");return e.jsxDEV("button",{ref:y,type:p,onClick:j,disabled:m||f,className:`${g} ${U[c]} ${u}`,title:s,style:S,children:M?o:e.jsxDEV("span",{ref:E,className:"inline-block",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/Button.tsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Button.tsx",lineNumber:150,columnNumber:5},void 0)},G2=({userId:o,userName:a,avatarUrl:c,borderUrl:m,size:u=40,className:p=""})=>{const s=u/16,x=m&&(m.startsWith("#")||m.startsWith("conic-gradient")),v=m&&!x,g=c||"/images/profiles/profile1.png";if(v){let f=s*1.4;m.includes("Ring")&&(f=s*1.5);const h={width:`${s}rem`,height:`${s}rem`};return m.includes("Ring5.png")&&(h.transform=`translateX(-${s*.2}rem)`),e.jsxDEV("div",{className:`relative flex-shrink-0 flex items-center justify-center ${p}`,style:{width:`${f}rem`,height:`${f}rem`},children:[e.jsxDEV("div",{className:"rounded-full overflow-hidden bg-gray-700",style:h,children:e.jsxDEV("img",{src:g,alt:a,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:46,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:42,columnNumber:9},void 0),e.jsxDEV("img",{src:m,alt:"",className:"absolute inset-0 w-full h-full pointer-events-none object-contain","aria-hidden":"true"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:49,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:37,columnNumber:7},void 0)}if(x){const f=s*.85,h=m.startsWith("conic-gradient");return e.jsxDEV("div",{className:`relative flex items-center justify-center rounded-full flex-shrink-0 ${p}`,style:{width:`${s}rem`,height:`${s}rem`,...h?{background:m}:{backgroundColor:m}},children:e.jsxDEV("div",{className:"flex items-center justify-center rounded-full overflow-hidden bg-gray-700",style:{width:`${f}rem`,height:`${f}rem`},children:e.jsxDEV("img",{src:g,alt:a,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:76,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:72,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:64,columnNumber:7},void 0)}return e.jsxDEV("div",{className:`rounded-full overflow-hidden bg-gray-700 flex-shrink-0 ${p}`,style:{width:`${s}rem`,height:`${s}rem`},children:e.jsxDEV("img",{src:g,alt:a,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Avatar.tsx",lineNumber:84,columnNumber:5},void 0)},_n=to.memo(G2);var oe=(o=>(o[o.None=0]="None",o[o.Black=1]="Black",o[o.White=2]="White",o))(oe||{}),I=(o=>(o.Standard=" ",o.Capture=" ",o.Speed=" ",o.Base=" ",o.Hidden=" ",o.Missile=" ",o.Mix=" ",o.Dice=" ",o.Omok="",o.Ttamok="",o.Thief=" ",o.Alkkagi="",o.Curling=" ",o))(I||{}),rt=(o=>(o.Sprout="",o.Rookie="",o.Rising="",o.Ace="",o.Diamond="",o.Master="",o.Grandmaster="",o.Challenger="",o))(rt||{}),Nl=(o=>(o.Online="online",o.Waiting="waiting",o.Resting="resting",o.Negotiating="negotiating",o.InGame="in-game",o.Spectating="spectating",o))(Nl||{}),yx=(o=>(o.Basic="basic",o))(yx||{}),Jl=(o=>(o.TurnByTurn=" ",o.Simultaneous=" ",o))(Jl||{}),Xl=(o=>(o.Normal="",o.Battle="",o))(Xl||{}),_=(o=>(o.Concentration="",o.ThinkingSpeed="",o.Judgment="",o.Calculation="",o.CombatPower="",o.Stability="",o))(_||{}),_t=(o=>(o.ActionPointMax=" ",o.ActionPointRegen=" ",o.StrategyXpBonus="  ",o.PlayfulXpBonus="  ",o.GoldBonus="   ",o.ItemDropRate="  ",o.MaterialDropRate="  ",o))(_t||{}),ro=(o=>(o.MannerActionCooldown="    ",o.StrategicGoldBonus="    20% (10~50) 5",o.PlayfulGoldBonus="   60 20% (10~50) 5",o.DiceGoOddBonus=" / ",o.AlkkagiSlowBonus="     1",o.AlkkagiAimingBonus="     1",o))(ro||{}),Oe=(o=>(o.="",o.="",o.="",o.="",o.="",o))(Oe||{});const Vs="ai-player-01",st=[{mode:I.Standard,name:" ",description:"  .",available:!0,image:"/images/simbols/simbol1.png"},{mode:I.Capture,name:" ",description:"       .",available:!0,image:"/images/simbols/simbol2.png"},{mode:I.Speed,name:" ",description:"       .       .",available:!0,image:"/images/simbols/simbol3.png"},{mode:I.Base,name:" ",description:"  ''     .   ,    /    .        .",available:!0,image:"/images/simbols/simbol4.png"},{mode:I.Hidden,name:" ",description:"   ''   ,  ''       .        ,      .",available:!0,image:"/images/simbols/simbol5.png"},{mode:I.Missile,name:" ",description:"        .",available:!0,image:"/images/simbols/simbol6.png"},{mode:I.Mix,name:" ",description:", , , ,    2    .",available:!0,image:"/images/simbols/simbol7.png"}],dt=[{mode:I.Dice,name:" ",description:" 3 ,          .     .",available:!0,image:"/images/simbols/simbolp1.png"},{mode:I.Omok,name:"",description:"        .",available:!0,image:"/images/simbols/simbolp2.png"},{mode:I.Ttamok,name:"",description:"       .",available:!0,image:"/images/simbols/simbolp3.png"},{mode:I.Thief,name:"",description:"() ()    5 ,      .",available:!0,image:"/images/simbols/simbolp4.png"},{mode:I.Alkkagi,name:"",description:"        .",available:!0,image:"/images/simbols/simbolp5.png"},{mode:I.Curling,name:"",description:"    ()      .",available:!0,image:"/images/simbols/simbolp6.png"}],xm=[19,13,9],gm=[19,15],hm=[13,11,9,7],vm=[7,9,11,13,19],ym=[19,13,11,9,7],Ay=[9,13,19],Dm=[19,13,9],Sm=[5,10,15,20,25,30],Hd=[10,20,30],jm=[1,2,3],Mm=[1,2,3,4,5,6,7,8,9,10],Cm=Array.from({length:15},(o,a)=>a+1),Wd=[{value:0,label:""},{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"},{value:60,label:"1"},{value:120,label:"2"},{value:180,label:"3"}],zD=[{value:1,label:"1"},{value:3,label:"3"},{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"}],Fd=[1,2,3,4,5,6,7,8,9,10],qd=[10,20,30,40,50,60],Us=[3,4,5,6,7,8,9,10],HD=6.5,WD=5,Dr=[0,1,2,3],Sr=[0,1,2,3],Rm=[1,2,3],Qd=[1,2,3],Ta=[0,1,2,3,4,5],xl={boardSize:19,timeLimit:10,byoyomiCount:3,byoyomiTime:30,baseStones:4,diceGoVariant:yx.Basic,diceGoRounds:3,oddDiceCount:1,evenDiceCount:1,captureTarget:20,timeIncrement:5,hiddenStoneCount:2,scanCount:5,missileCount:5,mixedModes:[I.Hidden,I.Speed],hasOverlineForbidden:!0,has33Forbidden:!0,alkkagiPlacementType:Jl.TurnByTurn,alkkagiLayout:Xl.Normal,alkkagiStoneCount:5,alkkagiGaugeSpeed:700,alkkagiSlowItemCount:2,alkkagiAimingLineItemCount:2,alkkagiRounds:1,curlingStoneCount:5,curlingGaugeSpeed:700,curlingSlowItemCount:2,curlingAimingLineItemCount:2,curlingRounds:3,komi:HD,player1Color:oe.Black,aiDifficulty:1},z2=[5,7,10],H2=30,kd=30,Uy=30;yx.Basic+"";const ks=[3,5,7,9],W2=30,F2=30,q2=30,Ts=[{value:1e3,label:"x1 ()"},{value:700,label:"x2 ()"},{value:400,label:"x3 ()"}],wy={[oe.Black]:[{x:7,y:4,width:5,height:2},{x:4,y:7,width:2,height:4},{x:13,y:7,width:2,height:4},{x:7,y:13,width:2,height:2},{x:10,y:13,width:2,height:2}],[oe.White]:[{x:4,y:4,width:2,height:2},{x:13,y:4,width:2,height:2},{x:7,y:7,width:5,height:2},{x:7,y:10,width:5,height:2}]},Q2=5,Em=[3,5,7],Y2=30,Ps=[{value:1e3,label:"x1 ()"},{value:700,label:"x2 ()"},{value:400,label:"x3 ()"}],wm={fan:"images/equipments/EmptyFanSlot.png",board:"images/equipments/EmptyBoardSlot.png",top:"images/equipments/EmptyTopSlot.png",bottom:"images/equipments/EmptyBottomSlot.png",bowl:"images/equipments/EmptyStoneBoxSlot.png",stones:"images/equipments/EmptyStoneSlot.png"},hl={normal:1,uncommon:1,rare:5,epic:12,legendary:20,mythic:30},Dx=[{name:"  ",slot:"fan",image:"images/equipments/Fan1.png",grade:"normal",stars:0,type:"equipment",description:"   ."},{name:"  ",slot:"fan",image:"images/equipments/Fan2.png",grade:"uncommon",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"fan",image:"images/equipments/Fan3.png",grade:"rare",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"fan",image:"images/equipments/Fan4.png",grade:"epic",stars:0,type:"equipment",description:"        ."},{name:"  ",slot:"fan",image:"images/equipments/Fan5.png",grade:"legendary",stars:0,type:"equipment",description:"      ."},{name:"  ",slot:"fan",image:"images/equipments/Fan6.png",grade:"mythic",stars:0,type:"equipment",description:"      ."},{name:" ",slot:"board",image:"images/equipments/Board1.png",grade:"normal",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"board",image:"images/equipments/Board2.png",grade:"uncommon",stars:0,type:"equipment",description:"      ."},{name:" ",slot:"board",image:"images/equipments/Board3.png",grade:"rare",stars:0,type:"equipment",description:"       ."},{name:" ",slot:"board",image:"images/equipments/Board4.png",grade:"epic",stars:0,type:"equipment",description:"    ."},{name:" ",slot:"board",image:"images/equipments/Board5.png",grade:"legendary",stars:0,type:"equipment",description:"       ."},{name:" ",slot:"board",image:"images/equipments/Board6.png",grade:"mythic",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"top",image:"images/equipments/Top1.png",grade:"normal",stars:0,type:"equipment",description:"    ."},{name:"  ",slot:"top",image:"images/equipments/Top2.png",grade:"uncommon",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"top",image:"images/equipments/Top3.png",grade:"rare",stars:0,type:"equipment",description:"    ."},{name:"  ",slot:"top",image:"images/equipments/Top4.png",grade:"epic",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"top",image:"images/equipments/Top5.png",grade:"legendary",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"top",image:"images/equipments/Top6.png",grade:"mythic",stars:0,type:"equipment",description:"       ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom1.png",grade:"normal",stars:0,type:"equipment",description:"   ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom2.png",grade:"uncommon",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom3.png",grade:"rare",stars:0,type:"equipment",description:"      ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom4.png",grade:"epic",stars:0,type:"equipment",description:"     ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom5.png",grade:"legendary",stars:0,type:"equipment",description:"      ."},{name:"  ",slot:"bottom",image:"images/equipments/Bottom6.png",grade:"mythic",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox1.png",grade:"normal",stars:0,type:"equipment",description:"   ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox2.png",grade:"uncommon",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox3.png",grade:"rare",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox4.png",grade:"epic",stars:0,type:"equipment",description:"       ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox5.png",grade:"legendary",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"bowl",image:"images/equipments/StoneBox6.png",grade:"mythic",stars:0,type:"equipment",description:"      ."},{name:" ",slot:"stones",image:"images/equipments/Stone1.png",grade:"normal",stars:0,type:"equipment",description:"   ."},{name:" ",slot:"stones",image:"images/equipments/Stone2.png",grade:"uncommon",stars:0,type:"equipment",description:"     ."},{name:" ",slot:"stones",image:"images/equipments/Stone3.png",grade:"rare",stars:0,type:"equipment",description:"      ."},{name:" ",slot:"stones",image:"images/equipments/Stone4.png",grade:"epic",stars:0,type:"equipment",description:"      ."},{name:" ",slot:"stones",image:"images/equipments/Stone5.png",grade:"legendary",stars:0,type:"equipment",description:" ,      ."},{name:" ",slot:"stones",image:"images/equipments/Stone6.png",grade:"mythic",stars:0,type:"equipment",description:"      ."}],vl=[{name:"  I",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox1.png",grade:"normal"},{name:"  II",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox2.png",grade:"uncommon"},{name:"  III",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox3.png",grade:"rare"},{name:"  IV",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox4.png",grade:"epic"},{name:"  V",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox5.png",grade:"legendary"},{name:"  VI",description:"~   ",type:"consumable",slot:null,image:"/images/Box/EquipmentBox6.png",grade:"mythic"},{name:"  I",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox1.png",grade:"normal"},{name:"  II",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox2.png",grade:"uncommon"},{name:"  III",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox3.png",grade:"rare"},{name:"  IV",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox4.png",grade:"epic"},{name:"  V",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox5.png",grade:"legendary"},{name:"  VI",description:" ~   5 ",type:"consumable",slot:null,image:"/images/Box/ResourceBox6.png",grade:"mythic"},{name:" 1",description:"10 ~ 500  ",type:"consumable",slot:null,image:"/images/Box/GoldBox1.png",grade:"normal"},{name:" 2",description:"100 ~ 1,000  ",type:"consumable",slot:null,image:"/images/Box/GoldBox2.png",grade:"uncommon"},{name:" 3",description:"500 ~ 3,000  ",type:"consumable",slot:null,image:"/images/Box/GoldBox3.png",grade:"rare"},{name:" 4",description:"1,000 ~ 10,000  ",type:"consumable",slot:null,image:"/images/Box/GoldBox4.png",grade:"epic"},{name:" 1",description:"1 ~ 20  ",type:"consumable",slot:null,image:"/images/Box/DiaBox1.png",grade:"rare"},{name:" 2",description:"10 ~ 30  ",type:"consumable",slot:null,image:"/images/Box/DiaBox2.png",grade:"epic"},{name:" 3",description:"20 ~ 50  ",type:"consumable",slot:null,image:"/images/Box/DiaBox3.png",grade:"legendary"},{name:" 4",description:"30 ~ 100  ",type:"consumable",slot:null,image:"/images/Box/DiaBox4.png",grade:"mythic"},{name:"()",description:" 1~10 .",type:"consumable",slot:null,image:"/images/use/con1.png",grade:"normal"},{name:"()",description:" 10~20 .",type:"consumable",slot:null,image:"/images/use/con2.png",grade:"uncommon"},{name:"()",description:" 20~30 .",type:"consumable",slot:null,image:"/images/use/con3.png",grade:"rare"}],ui={" ":{name:" ",description:"    .",type:"material",slot:null,image:"/images/materials/materials1.png",grade:"normal"}," ":{name:" ",description:"    .",type:"material",slot:null,image:"/images/materials/materials2.png",grade:"uncommon"}," ":{name:" ",description:"    .",type:"material",slot:null,image:"/images/materials/materials3.png",grade:"rare"}," ":{name:" ",description:"    .",type:"material",slot:null,image:"/images/materials/materials4.png",grade:"epic"}," ":{name:" ",description:"    .",type:"material",slot:null,image:"/images/materials/materials5.png",grade:"legendary"}},Yd={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},Nm={normal:{name:"",color:"text-gray-300",background:"/images/equipments/normalbgi.png"},uncommon:{name:"",color:"text-green-400",background:"/images/equipments/uncommonbgi.png"},rare:{name:"",color:"text-blue-400",background:"/images/equipments/rarebgi.png"},epic:{name:"",color:"text-purple-400",background:"/images/equipments/epicbgi.png"},legendary:{name:"",color:"text-red-500",background:"/images/equipments/legendarybgi.png"},mythic:{name:"",color:"text-orange-400",background:"/images/equipments/mythicbgi.png"}},K2=[100,90,80,70,60,55,50,45,40,35],J2={normal:5,uncommon:4,rare:3,epic:2,legendary:1,mythic:.5},Gd={normal:[[{amount:10,name:" "}],[{amount:15,name:" "}],[{amount:20,name:" "}],[{amount:25,name:" "}],[{amount:30,name:" "}],[{amount:30,name:" "}],[{amount:50,name:" "}],[{amount:5,name:" "}],[{amount:10,name:" "}],[{amount:5,name:" "}]],uncommon:[[{amount:20,name:" "}],[{amount:30,name:" "}],[{amount:40,name:" "}],[{amount:50,name:" "}],[{amount:60,name:" "}],[{amount:50,name:" "}],[{amount:10,name:" "}],[{amount:20,name:" "}],[{amount:10,name:" "}],[{amount:20,name:" "}]],rare:[[{amount:10,name:" "}],[{amount:15,name:" "}],[{amount:20,name:" "}],[{amount:25,name:" "}],[{amount:30,name:" "}],[{amount:100,name:" "}],[{amount:20,name:" "}],[{amount:40,name:" "}],[{amount:15,name:" "}],[{amount:30,name:" "}]],epic:[[{amount:20,name:" "}],[{amount:30,name:" "}],[{amount:40,name:" "}],[{amount:50,name:" "}],[{amount:60,name:" "}],[{amount:30,name:" "}],[{amount:50,name:" "}],[{amount:20,name:" "}],[{amount:45,name:" "}],[{amount:80,name:" "}]],legendary:[[{amount:10,name:" "}],[{amount:15,name:" "}],[{amount:20,name:" "}],[{amount:25,name:" "}],[{amount:30,name:" "}],[{amount:100,name:" "}],[{amount:20,name:" "}],[{amount:50,name:" "}],[{amount:100,name:" "}],[{amount:10,name:" "}]],mythic:[[{amount:20,name:" "}],[{amount:30,name:" "}],[{amount:40,name:" "}],[{amount:50,name:" "}],[{amount:60,name:" "}],[{amount:40,name:" "}],[{amount:80,name:" "}],[{amount:10,name:" "}],[{amount:50,name:" "}],[{amount:100,name:" "}]]},X2={normal:100,uncommon:200,rare:300,epic:500,legendary:1e3,mythic:2e3},Z2=(o,a)=>{const c=X2[o];return Math.round(c*1.5**a)},ew={normal:50,uncommon:100,rare:200,epic:300,legendary:500,mythic:1e3},FD={" ":10," ":30," ":50," ":100," ":200},Kl=30,qD=10,nw=100,tw=50,ow=50,px={[_.Concentration]:{name:"",description:"    .    ,      ."},[_.ThinkingSpeed]:{name:"",description:"   .            ."},[_.Judgment]:{name:"",description:"     .          ."},[_.Calculation]:{name:"",description:"      .       ."},[_.CombatPower]:{name:"",description:"     .           ."},[_.Stability]:{name:"",description:"    .         ."}},iw={fan:{isPercentage:!0,options:{normal:{stats:[_.ThinkingSpeed,_.Concentration],value:4},uncommon:{stats:[_.ThinkingSpeed,_.Concentration],value:6},rare:{stats:[_.ThinkingSpeed,_.Concentration],value:8},epic:{stats:[_.ThinkingSpeed,_.Concentration],value:10},legendary:{stats:[_.ThinkingSpeed,_.Concentration],value:12},mythic:{stats:[_.ThinkingSpeed,_.Concentration],value:15}}},board:{isPercentage:!0,options:{normal:{stats:[_.Stability,_.Calculation],value:4},uncommon:{stats:[_.Stability,_.Calculation],value:6},rare:{stats:[_.Stability,_.Calculation],value:8},epic:{stats:[_.Stability,_.Calculation],value:10},legendary:{stats:[_.Stability,_.Calculation],value:12},mythic:{stats:[_.Stability,_.Calculation],value:15}}},top:{isPercentage:!0,options:{normal:{stats:[_.CombatPower,_.Judgment],value:4},uncommon:{stats:[_.CombatPower,_.Judgment],value:6},rare:{stats:[_.CombatPower,_.Judgment],value:8},epic:{stats:[_.CombatPower,_.Judgment],value:10},legendary:{stats:[_.CombatPower,_.Judgment],value:12},mythic:{stats:[_.CombatPower,_.Judgment],value:15}}},bottom:{isPercentage:!1,options:{normal:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:8},uncommon:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:12},rare:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:16},epic:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:20},legendary:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:24},mythic:{stats:[_.Concentration,_.Stability,_.Judgment,_.Calculation,_.ThinkingSpeed],value:30}}},stones:{isPercentage:!1,options:{normal:{stats:[_.CombatPower,_.Calculation],value:8},uncommon:{stats:[_.CombatPower,_.Calculation],value:12},rare:{stats:[_.CombatPower,_.Calculation],value:16},epic:{stats:[_.CombatPower,_.Calculation],value:20},legendary:{stats:[_.CombatPower,_.Calculation],value:24},mythic:{stats:[_.CombatPower,_.Calculation],value:30}}},bowl:{isPercentage:!1,options:{normal:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:8},uncommon:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:12},rare:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:16},epic:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:20},legendary:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:24},mythic:{stats:[_.Concentration,_.Stability,_.ThinkingSpeed],value:30}}}},QD={[_t.ActionPointMax]:{name:" ",description:"  .",isPercentage:!1,range:[2,5]},[_t.ActionPointRegen]:{name:" ",description:"   .",isPercentage:!0,range:[1,3]},[_t.StrategyXpBonus]:{name:"  ",description:"      .",isPercentage:!0,range:[1,3]},[_t.PlayfulXpBonus]:{name:"  ",description:"      .",isPercentage:!0,range:[1,3]},[_t.GoldBonus]:{name:" ",description:"      .",isPercentage:!0,range:[1,3]},[_t.ItemDropRate]:{name:"  ",description:"      .",isPercentage:!0,range:[1,2]},[_t.MaterialDropRate]:{name:"  ",description:"      .",isPercentage:!0,range:[1,3]}},YD={[ro.MannerActionCooldown]:{name:"    ",description:"    .",value:()=>30},[ro.StrategicGoldBonus]:{name:"  ",description:"    20% (10~50) 5",value:()=>1},[ro.PlayfulGoldBonus]:{name:"  ",description:"   60 20% (10~50) 5",value:()=>1},[ro.DiceGoOddBonus]:{name:" / ",description:"  /  1 ",value:()=>1},[ro.AlkkagiSlowBonus]:{name:"  ",description:"     1",value:()=>1},[ro.AlkkagiAimingBonus]:{name:"  ",description:"     1",value:()=>1}},lw={normal:{combatCount:[1,2],specialCount:[0,0],mythicCount:[0,0],combatTier:1},uncommon:{combatCount:[2,3],specialCount:[1,1],mythicCount:[0,0],combatTier:2},rare:{combatCount:[3,3],specialCount:[1,1],mythicCount:[0,0],combatTier:3},epic:{combatCount:[3,4],specialCount:[1,1],mythicCount:[0,0],combatTier:4},legendary:{combatCount:[4,4],specialCount:[1,2],mythicCount:[0,0],combatTier:5},mythic:{combatCount:[4,4],specialCount:[1,2],mythicCount:[1,1],combatTier:6}},aw={fan:{1:[{type:_.Concentration,isPercentage:!0,range:[1,2]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!0,range:[1,2]},{type:_.Stability,isPercentage:!1,range:[2,5]},{type:_.Calculation,isPercentage:!1,range:[2,5]}],2:[{type:_.Concentration,isPercentage:!0,range:[2,3]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!0,range:[2,3]},{type:_.Stability,isPercentage:!1,range:[3,6]},{type:_.Calculation,isPercentage:!1,range:[3,6]}],3:[{type:_.Concentration,isPercentage:!0,range:[3,5]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!0,range:[3,5]},{type:_.Stability,isPercentage:!1,range:[4,7]},{type:_.Calculation,isPercentage:!1,range:[4,7]}],4:[{type:_.Concentration,isPercentage:!0,range:[4,6]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!0,range:[4,6]},{type:_.Stability,isPercentage:!1,range:[5,8]},{type:_.Calculation,isPercentage:!1,range:[5,8]}],5:[{type:_.Concentration,isPercentage:!0,range:[5,7]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!0,range:[5,7]},{type:_.Stability,isPercentage:!1,range:[7,10]},{type:_.Calculation,isPercentage:!1,range:[7,10]}],6:[{type:_.Concentration,isPercentage:!0,range:[8,10]},{type:_.CombatPower,isPercentage:!1,range:[10,15]},{type:_.Judgment,isPercentage:!1,range:[10,15]},{type:_.ThinkingSpeed,isPercentage:!0,range:[8,10]},{type:_.Stability,isPercentage:!1,range:[10,15]},{type:_.Calculation,isPercentage:!1,range:[10,15]}]},board:{1:[{type:_.Concentration,isPercentage:!0,range:[1,2]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!1,range:[2,5]},{type:_.Stability,isPercentage:!0,range:[1,2]},{type:_.Calculation,isPercentage:!1,range:[2,5]}],2:[{type:_.Concentration,isPercentage:!0,range:[2,3]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!1,range:[3,6]},{type:_.Stability,isPercentage:!0,range:[2,3]},{type:_.Calculation,isPercentage:!1,range:[3,6]}],3:[{type:_.Concentration,isPercentage:!0,range:[3,5]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!1,range:[4,7]},{type:_.Stability,isPercentage:!0,range:[3,5]},{type:_.Calculation,isPercentage:!1,range:[4,7]}],4:[{type:_.Concentration,isPercentage:!0,range:[4,6]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!1,range:[5,8]},{type:_.Stability,isPercentage:!0,range:[4,6]},{type:_.Calculation,isPercentage:!1,range:[5,8]}],5:[{type:_.Concentration,isPercentage:!0,range:[5,7]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!1,range:[7,10]},{type:_.Stability,isPercentage:!0,range:[5,7]},{type:_.Calculation,isPercentage:!1,range:[7,10]}],6:[{type:_.Concentration,isPercentage:!0,range:[8,10]},{type:_.CombatPower,isPercentage:!1,range:[10,15]},{type:_.Judgment,isPercentage:!1,range:[10,15]},{type:_.ThinkingSpeed,isPercentage:!1,range:[10,15]},{type:_.Stability,isPercentage:!0,range:[8,10]},{type:_.Calculation,isPercentage:!1,range:[10,15]}]},top:{1:[{type:_.Concentration,isPercentage:!1,range:[2,5]},{type:_.Concentration,isPercentage:!0,range:[1,2]},{type:_.CombatPower,isPercentage:!0,range:[1,2]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!0,range:[1,2]},{type:_.Stability,isPercentage:!1,range:[2,5]},{type:_.Stability,isPercentage:!0,range:[1,2]},{type:_.Calculation,isPercentage:!0,range:[1,2]}],2:[{type:_.Concentration,isPercentage:!1,range:[3,6]},{type:_.Concentration,isPercentage:!0,range:[2,3]},{type:_.CombatPower,isPercentage:!0,range:[2,3]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!0,range:[2,3]},{type:_.Stability,isPercentage:!1,range:[3,6]},{type:_.Stability,isPercentage:!0,range:[2,3]},{type:_.Calculation,isPercentage:!0,range:[2,3]}],3:[{type:_.Concentration,isPercentage:!1,range:[4,7]},{type:_.Concentration,isPercentage:!0,range:[3,5]},{type:_.CombatPower,isPercentage:!0,range:[3,5]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!0,range:[3,5]},{type:_.Stability,isPercentage:!1,range:[4,7]},{type:_.Stability,isPercentage:!0,range:[3,5]},{type:_.Calculation,isPercentage:!0,range:[3,5]}],4:[{type:_.Concentration,isPercentage:!1,range:[5,8]},{type:_.Concentration,isPercentage:!0,range:[4,6]},{type:_.CombatPower,isPercentage:!0,range:[4,6]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!0,range:[4,6]},{type:_.Stability,isPercentage:!1,range:[5,8]},{type:_.Stability,isPercentage:!0,range:[4,6]},{type:_.Calculation,isPercentage:!0,range:[4,6]}],5:[{type:_.Concentration,isPercentage:!1,range:[7,10]},{type:_.Concentration,isPercentage:!0,range:[5,7]},{type:_.CombatPower,isPercentage:!0,range:[5,7]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!0,range:[5,7]},{type:_.Stability,isPercentage:!1,range:[7,10]},{type:_.Stability,isPercentage:!0,range:[5,7]},{type:_.Calculation,isPercentage:!0,range:[5,7]}],6:[{type:_.Concentration,isPercentage:!1,range:[10,15]},{type:_.Concentration,isPercentage:!0,range:[8,10]},{type:_.CombatPower,isPercentage:!0,range:[8,10]},{type:_.CombatPower,isPercentage:!1,range:[10,15]},{type:_.Judgment,isPercentage:!1,range:[10,15]},{type:_.ThinkingSpeed,isPercentage:!1,range:[10,15]},{type:_.ThinkingSpeed,isPercentage:!0,range:[8,10]},{type:_.Stability,isPercentage:!1,range:[10,15]},{type:_.Stability,isPercentage:!0,range:[8,10]},{type:_.Calculation,isPercentage:!0,range:[8,10]}]},bottom:{1:[{type:_.Concentration,isPercentage:!1,range:[2,5]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!1,range:[2,5]},{type:_.Stability,isPercentage:!1,range:[2,5]},{type:_.Calculation,isPercentage:!1,range:[2,5]}],2:[{type:_.Concentration,isPercentage:!1,range:[3,6]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!1,range:[3,6]},{type:_.Stability,isPercentage:!1,range:[3,6]},{type:_.Calculation,isPercentage:!1,range:[3,6]}],3:[{type:_.Concentration,isPercentage:!1,range:[4,7]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!1,range:[4,7]},{type:_.Stability,isPercentage:!1,range:[4,7]},{type:_.Calculation,isPercentage:!1,range:[4,7]}],4:[{type:_.Concentration,isPercentage:!1,range:[5,8]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!1,range:[5,8]},{type:_.Stability,isPercentage:!1,range:[5,8]},{type:_.Calculation,isPercentage:!1,range:[5,8]}],5:[{type:_.Concentration,isPercentage:!1,range:[7,10]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!1,range:[7,10]},{type:_.Stability,isPercentage:!1,range:[7,10]},{type:_.Calculation,isPercentage:!1,range:[7,10]}],6:[{type:_.Concentration,isPercentage:!1,range:[8,12]},{type:_.CombatPower,isPercentage:!1,range:[8,12]},{type:_.Judgment,isPercentage:!1,range:[8,12]},{type:_.ThinkingSpeed,isPercentage:!1,range:[8,12]},{type:_.Stability,isPercentage:!1,range:[8,12]},{type:_.Calculation,isPercentage:!1,range:[8,12]}]},stones:{1:[{type:_.Concentration,isPercentage:!1,range:[2,5]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.ThinkingSpeed,isPercentage:!1,range:[2,5]},{type:_.Stability,isPercentage:!1,range:[2,5]}],2:[{type:_.Concentration,isPercentage:!1,range:[3,6]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.ThinkingSpeed,isPercentage:!1,range:[3,6]},{type:_.Stability,isPercentage:!1,range:[3,6]}],3:[{type:_.Concentration,isPercentage:!1,range:[4,7]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.ThinkingSpeed,isPercentage:!1,range:[4,7]},{type:_.Stability,isPercentage:!1,range:[4,7]}],4:[{type:_.Concentration,isPercentage:!1,range:[5,8]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.ThinkingSpeed,isPercentage:!1,range:[5,8]},{type:_.Stability,isPercentage:!1,range:[5,8]}],5:[{type:_.Concentration,isPercentage:!1,range:[7,10]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.ThinkingSpeed,isPercentage:!1,range:[7,10]},{type:_.Stability,isPercentage:!1,range:[7,10]}],6:[{type:_.Concentration,isPercentage:!1,range:[8,12]},{type:_.CombatPower,isPercentage:!1,range:[8,12]},{type:_.Judgment,isPercentage:!1,range:[8,12]},{type:_.ThinkingSpeed,isPercentage:!1,range:[8,12]},{type:_.Stability,isPercentage:!1,range:[8,12]}]},bowl:{1:[{type:_.Concentration,isPercentage:!1,range:[2,5]},{type:_.CombatPower,isPercentage:!1,range:[2,5]},{type:_.Judgment,isPercentage:!1,range:[2,5]},{type:_.Stability,isPercentage:!1,range:[2,5]},{type:_.Calculation,isPercentage:!1,range:[2,5]}],2:[{type:_.Concentration,isPercentage:!1,range:[3,6]},{type:_.CombatPower,isPercentage:!1,range:[3,6]},{type:_.Judgment,isPercentage:!1,range:[3,6]},{type:_.Stability,isPercentage:!1,range:[3,6]},{type:_.Calculation,isPercentage:!1,range:[3,6]}],3:[{type:_.Concentration,isPercentage:!1,range:[4,7]},{type:_.CombatPower,isPercentage:!1,range:[4,7]},{type:_.Judgment,isPercentage:!1,range:[4,7]},{type:_.Stability,isPercentage:!1,range:[4,7]},{type:_.Calculation,isPercentage:!1,range:[4,7]}],4:[{type:_.Concentration,isPercentage:!1,range:[5,8]},{type:_.CombatPower,isPercentage:!1,range:[5,8]},{type:_.Judgment,isPercentage:!1,range:[5,8]},{type:_.Stability,isPercentage:!1,range:[5,8]},{type:_.Calculation,isPercentage:!1,range:[5,8]}],5:[{type:_.Concentration,isPercentage:!1,range:[7,10]},{type:_.CombatPower,isPercentage:!1,range:[7,10]},{type:_.Judgment,isPercentage:!1,range:[7,10]},{type:_.Stability,isPercentage:!1,range:[7,10]},{type:_.Calculation,isPercentage:!1,range:[7,10]}],6:[{type:_.Concentration,isPercentage:!1,range:[8,12]},{type:_.CombatPower,isPercentage:!1,range:[8,12]},{type:_.Judgment,isPercentage:!1,range:[8,12]},{type:_.Stability,isPercentage:!1,range:[8,12]},{type:_.Calculation,isPercentage:!1,range:[8,12]}]}},KD=[20,40,60,80,100],JD=[20,40,60,80,100],XD=[20,40,60,80,100],rw=[{items:[{itemId:" 1",quantity:1}]},{items:[{itemId:" 2",quantity:1}]},{items:[{itemId:"  I",quantity:1}]},{items:[{itemId:"  I",quantity:1}]},{items:[{itemId:" 1",quantity:1}]}],sw=[{items:[{itemId:" 2",quantity:1}]},{items:[{itemId:" 3",quantity:1}]},{items:[{itemId:"  II",quantity:1}]},{items:[{itemId:"  II",quantity:1}]},{items:[{itemId:" 2",quantity:1}]}],cw=[{items:[{itemId:" 3",quantity:1}]},{items:[{itemId:" 4",quantity:1}]},{items:[{itemId:"  III",quantity:1}]},{items:[{itemId:"  III",quantity:1}]},{items:[{itemId:" 3",quantity:1}]}],jr=[{tier:rt.Sprout,name:" ",scoreThreshold:0,icon:"/images/tire/auto1.png"},{tier:rt.Rookie,name:" ",scoreThreshold:1300,icon:"/images/tire/auto2.png"},{tier:rt.Rising,name:" ",scoreThreshold:1400,icon:"/images/tire/auto3.png"},{tier:rt.Ace,name:" ",scoreThreshold:1500,icon:"/images/tire/auto4.png"},{tier:rt.Diamond,name:" ",scoreThreshold:1600,icon:"/images/tire/auto5.png"},{tier:rt.Master,name:" ",scoreThreshold:1700,icon:"/images/tire/auto6.png"},{tier:rt.Grandmaster,name:" ",scoreThreshold:1800,icon:"/images/tire/auto7.png"},{tier:rt.Challenger,name:" ",scoreThreshold:2e3,icon:"/images/tire/auto8.png"}],mw={[rt.Sprout]:[{rankStart:1,rankEnd:1,diamonds:50,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:30,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:15,outcome:"promote"},{rankStart:4,rankEnd:16,diamonds:5,outcome:"maintain"}],[rt.Rookie]:[{rankStart:1,rankEnd:1,diamonds:65,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:40,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:25,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:15,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:5,outcome:"demote"}],[rt.Rising]:[{rankStart:1,rankEnd:1,diamonds:80,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:50,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:35,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:20,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:10,outcome:"demote"}],[rt.Ace]:[{rankStart:1,rankEnd:1,diamonds:95,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:60,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:45,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:25,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:15,outcome:"demote"}],[rt.Diamond]:[{rankStart:1,rankEnd:1,diamonds:110,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:70,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:55,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:30,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:20,outcome:"demote"}],[rt.Master]:[{rankStart:1,rankEnd:1,diamonds:125,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:80,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:65,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:35,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:25,outcome:"demote"}],[rt.Grandmaster]:[{rankStart:1,rankEnd:1,diamonds:150,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:100,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:80,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:50,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:35,outcome:"demote"}],[rt.Challenger]:[{rankStart:1,rankEnd:1,diamonds:200,outcome:"promote"},{rankStart:2,rankEnd:2,diamonds:125,outcome:"promote"},{rankStart:3,rankEnd:3,diamonds:100,outcome:"promote"},{rankStart:4,rankEnd:13,diamonds:75,outcome:"maintain"},{rankStart:14,rankEnd:16,diamonds:50,outcome:"demote"}]},mi=[{name:"",icon:"/images/tire/tire9.png",color:"text-cyan-400",threshold:(o,a,c)=>o>=3500&&a<=100},{name:"",icon:"/images/tire/tire8.png",color:"text-purple-400",threshold:(o,a,c)=>o>=3e3},{name:"",icon:"/images/tire/tire7.png",color:"text-blue-400",threshold:(o,a,c)=>o>=2400},{name:"",icon:"/images/tire/tire6.png",color:"text-teal-400",threshold:(o,a,c)=>o>=2e3},{name:"",icon:"/images/tire/tire5.png",color:"text-yellow-400",threshold:(o,a,c)=>o>=1700},{name:"",icon:"/images/tire/tire4.png",color:"text-gray-300",threshold:(o,a,c)=>o>=1500},{name:"",icon:"/images/tire/tire3.png",color:"text-orange-400",threshold:(o,a,c)=>o>=1400},{name:"",icon:"/images/tire/tire2.png",color:"text-green-400",threshold:(o,a,c)=>o>=1300},{name:"",icon:"/images/tire/tire1.png",color:"text-green-200",threshold:(o,a,c)=>o<1300||c<50}],uw={:{diamonds:75,items:[{itemId:"  I",quantity:1},{itemId:"  I",quantity:1},{itemId:" 1",quantity:1}]},:{diamonds:100,items:[{itemId:"  I",quantity:1},{itemId:"  II",quantity:1},{itemId:" 2",quantity:1}]},:{diamonds:125,items:[{itemId:"  II",quantity:1},{itemId:"  II",quantity:1},{itemId:" 2",quantity:1}]},:{diamonds:150,items:[{itemId:"  II",quantity:1},{itemId:"  III",quantity:1},{itemId:" 3",quantity:1}]},:{diamonds:200,items:[{itemId:"  III",quantity:1},{itemId:"  III",quantity:1},{itemId:" 3",quantity:1}]},:{diamonds:250,items:[{itemId:"  IV",quantity:1},{itemId:"  IV",quantity:1},{itemId:" 4",quantity:1}]},:{diamonds:300,items:[{itemId:"  V",quantity:1},{itemId:"  V",quantity:1},{itemId:" 4",quantity:1}]},:{diamonds:400,items:[{itemId:"  V",quantity:1},{itemId:"  VI",quantity:1},{itemId:" 4",quantity:1}]},:{diamonds:500,items:[{itemId:"  VI",quantity:1},{itemId:"  VI",quantity:1},{itemId:" 4",quantity:1}]}},Vy=5,dw=3,fw=5*60*1e3,Td=[10,20,30,50,80,120,180,250,350,500],ky=10,pw=30,ZD=20,ex=["uncommon","rare","epic","legendary","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic","mythic"],bx=[{normal:50,uncommon:30},{normal:50,uncommon:30,rare:20},{normal:50,uncommon:30,rare:20,epic:10},{normal:50,uncommon:30,rare:20,epic:10,legendary:1},{normal:50,uncommon:30,rare:20,epic:10,legendary:1.5,mythic:25},{normal:65,uncommon:40,rare:25,epic:12.5,legendary:2,mythic:30},{normal:80,uncommon:50,rare:30,epic:15,legendary:2.5,mythic:35},{normal:95,uncommon:60,rare:35,epic:17.5,legendary:3,mythic:40},{normal:100,uncommon:70,rare:40,epic:20,legendary:3.5,mythic:45},{normal:100,uncommon:80,rare:45,epic:22.5,legendary:4,mythic:50},{normal:100,uncommon:90,rare:50,epic:25,legendary:4.5,mythic:55},{normal:100,uncommon:100,rare:55,epic:27.5,legendary:5,mythic:60},{normal:100,uncommon:100,rare:60,epic:30,legendary:5.5,mythic:65},{normal:100,uncommon:100,rare:65,epic:32.5,legendary:6,mythic:70},{normal:100,uncommon:100,rare:70,epic:35,legendary:6.5,mythic:75},{normal:100,uncommon:100,rare:75,epic:37.5,legendary:7,mythic:80},{normal:100,uncommon:100,rare:80,epic:40,legendary:7.5,mythic:85},{normal:100,uncommon:100,rare:85,epic:42.5,legendary:8,mythic:90},{normal:100,uncommon:100,rare:90,epic:45,legendary:8.5,mythic:95},{normal:100,uncommon:100,rare:100,epic:50,legendary:10,mythic:100}],As=[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40],nx=o=>o<1?0:o>=ZD?1/0:o<=5?1e3+o*200:o<=10?1300+o*250:o<=15?1500+o*300:(o<=20,2e3+o*350),ws={neighborhood:{id:"neighborhood",name:"",description:"6   .    !",format:"round-robin",players:6,image:"/images/championship/Champ1.png"},national:{id:"national",name:"",description:"  8   .",format:"tournament",players:8,image:"/images/championship/Champ2.png"},world:{id:"world",name:"",description:"    16 .",format:"tournament",players:16,image:"/images/championship/Champ3.png"}};rt.Sprout+"",rt.Rookie+"",rt.Rising+"",rt.Ace+"",rt.Diamond+"",rt.Master+"",rt.Grandmaster+"",rt.Challenger+"";rt.Sprout+"",rt.Rookie+"",rt.Rising+"",rt.Ace+"",rt.Diamond+"",rt.Master+"",rt.Grandmaster+"",rt.Challenger+"";rt.Sprout+"",rt.Rookie+"",rt.Rising+"",rt.Ace+"",rt.Diamond+"",rt.Master+"",rt.Grandmaster+"",rt.Challenger+"";const bw={neighborhood:{rewardType:"rank",rewards:{1:{items:[{itemId:" 4",quantity:1},{itemId:" 1",quantity:1}]},2:{items:[{itemId:" 3",quantity:1}]},3:{items:[{itemId:" 2",quantity:1}]},4:{items:[{itemId:" 1",quantity:1}]}}},national:{rewardType:"rank",rewards:{1:{items:[{itemId:" 4",quantity:1},{itemId:" 2",quantity:1}]},2:{items:[{itemId:" 3",quantity:1},{itemId:" 1",quantity:1}]},3:{items:[{itemId:" 2",quantity:1},{itemId:" 1",quantity:1}]},4:{items:[{itemId:" 1",quantity:1},{itemId:" 1",quantity:1}]},5:{items:[{itemId:" 1",quantity:1}]}}},world:{rewardType:"rank",rewards:{1:{items:[{itemId:" 4",quantity:1},{itemId:" 3",quantity:1}]},2:{items:[{itemId:" 3",quantity:1},{itemId:" 2",quantity:1}]},3:{items:[{itemId:" 3",quantity:1},{itemId:" 1",quantity:1}]},4:{items:[{itemId:" 2",quantity:1},{itemId:" 1",quantity:1}]},5:{items:[{itemId:" 1",quantity:1},{itemId:" 1",quantity:1}]},9:{items:[{itemId:" 1",quantity:1}]}}}},eS={neighborhood:{1:32,2:16,3:8,4:5,5:3,6:1},national:{1:46,2:29,3:15,4:7,5:2},world:{1:58,2:44,3:21,4:11,5:5,9:3}},Jn=[{id:"profile_1",name:"  1",url:"/images/profiles/profile1.png",requiredLevel:1,type:"any"},{id:"profile_2",name:"  2",url:"/images/profiles/profile2.png",requiredLevel:1,type:"any"},{id:"profile_3",name:"  3",url:"/images/profiles/profile3.png",requiredLevel:1,type:"any"},{id:"profile_4",name:"  4",url:"/images/profiles/profile4.png",requiredLevel:1,type:"any"},{id:"profile_5",name:"  5",url:"/images/profiles/profile5.png",requiredLevel:1,type:"any"},{id:"profile_6",name:"  6",url:"/images/profiles/profile6.png",requiredLevel:1,type:"any"},{id:"profile_7",name:"  7",url:"/images/profiles/profile7.png",requiredLevel:1,type:"any"},{id:"profile_8",name:"  8",url:"/images/profiles/profile8.png",requiredLevel:1,type:"any"},{id:"profile_9",name:"  9",url:"/images/profiles/profile9.png",requiredLevel:1,type:"any"},{id:"profile_10",name:"  10",url:"/images/profiles/profile10.png",requiredLevel:1,type:"any"},{id:"profile_11",name:"  11",url:"/images/profiles/profile11.png",requiredLevel:1,type:"any"},{id:"profile_12",name:"  12",url:"/images/profiles/profile12.png",requiredLevel:1,type:"any"},{id:"profile_13",name:"  13",url:"/images/profiles/profile13.png",requiredLevel:1,type:"any"},{id:"profile_14",name:"  14",url:"/images/profiles/profile14.png",requiredLevel:1,type:"any"},{id:"profile_15",name:"  15",url:"/images/profiles/profile15.png",requiredLevel:1,type:"any"},{id:"profile_16",name:"  16",url:"/images/profiles/profile16.png",requiredLevel:1,type:"any"},{id:"profile_17",name:"  17",url:"/images/profiles/profile17.png",requiredLevel:1,type:"any"},{id:"profile_18",name:"  18",url:"/images/profiles/profile18.png",requiredLevel:1,type:"any"},{id:"profile_19",name:"  19",url:"/images/profiles/profile19.png",requiredLevel:1,type:"any"},{id:"profile_20",name:"  20",url:"/images/profiles/profile20.png",requiredLevel:1,type:"any"},{id:"profile_21",name:"  21",url:"/images/profiles/profile21.png",requiredLevel:1,type:"any"},{id:"profile_22",name:"  22",url:"/images/profiles/profile22.png",requiredLevel:1,type:"any"},{id:"profile_23",name:"  23",url:"/images/profiles/profile23.png",requiredLevel:1,type:"any"},{id:"profile_24",name:"  24",url:"/images/profiles/profile24.png",requiredLevel:1,type:"any"},{id:"profile_25",name:"  25",url:"/images/profiles/profile25.png",requiredLevel:1,type:"any"},{id:"profile_26",name:"  26",url:"/images/profiles/profile26.png",requiredLevel:1,type:"any"},{id:"profile_27",name:"  27",url:"/images/profiles/profile27.png",requiredLevel:1,type:"any"},{id:"profile_28",name:"  28",url:"/images/profiles/profile28.png",requiredLevel:1,type:"any"},{id:"profile_29",name:"  29",url:"/images/profiles/profile29.png",requiredLevel:1,type:"any"},{id:"profile_30",name:"  30",url:"/images/profiles/profile30.png",requiredLevel:1,type:"any"},{id:"profile_31",name:"  31",url:"/images/profiles/profile31.png",requiredLevel:1,type:"any"},{id:"profile_32",name:"  32",url:"/images/profiles/profile32.png",requiredLevel:1,type:"any"},{id:"profile_33",name:"  33",url:"/images/profiles/profile33.png",requiredLevel:1,type:"any"},{id:"profile_34",name:"  34",url:"/images/profiles/profile34.png",requiredLevel:1,type:"any"},{id:"profile_35",name:"  35",url:"/images/profiles/profile35.png",requiredLevel:1,type:"any"}],Zn=[{id:"default",name:" ",url:"#FFFFFF",description:"   ."},{id:"simple_black",name:" ",url:"#000000",description:"    ."},{id:"red",name:"",url:"#ef4444",description:"/   3   .",requiredLevelSum:3},{id:"orange",name:"",url:"#f97316",description:"/   4   .",requiredLevelSum:4},{id:"yellow",name:"",url:"#eab308",description:"/   5   .",requiredLevelSum:5},{id:"green",name:"",url:"#22c55e",description:"/   6   .",requiredLevelSum:6},{id:"blue",name:"",url:"#3b82f6",description:"/   7   .",requiredLevelSum:7},{id:"indigo",name:"",url:"#6366f1",description:"/   8   .",requiredLevelSum:8},{id:"purple",name:"",url:"#8b5cf6",description:"/   9   .",requiredLevelSum:9},{id:"rainbow",name:"",url:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",description:"/   10   .",requiredLevelSum:10},{id:"bronze_reward",name:" ",url:"/images/tire/Round1.png",description:"     .",unlockTier:""},{id:"silver_reward",name:" ",url:"/images/tire/Round2.png",description:"     .",unlockTier:""},{id:"gold_reward",name:" ",url:"/images/tire/Round3.png",description:"     .",unlockTier:""},{id:"platinum_reward",name:" ",url:"/images/tire/Round4.png",description:"     .",unlockTier:""},{id:"diamond_reward",name:" ",url:"/images/tire/Round5.png",description:"     .",unlockTier:""},{id:"master_reward",name:" ",url:"/images/tire/Round6.png",description:"     .",unlockTier:""},{id:"challenger_reward",name:" ",url:"/images/tire/Round7.png",description:"     .",unlockTier:""},{id:"tier_ring_1",name:"",url:"/images/tire/Ring1.png",description:"     ."},{id:"tier_ring_2",name:"",url:"/images/tire/Ring2.png",description:"     ."},{id:"tier_ring_3",name:"",url:"/images/tire/Ring3.png",description:"     ."},{id:"tier_ring_4",name:"",url:"/images/tire/Ring4.png",description:"     ."},{id:"tier_ring_5",name:"1",url:"/images/tire/Ring5.png",description:"     ."},{id:"tier_ring_6",name:"2",url:"/images/tire/Ring6.png",description:"     ."},{id:"tier_ring_7",name:"",url:"/images/tire/Ring7.png",description:"     ."},{id:"tier_ring_8",name:"VIP",url:"/images/tire/Ring8.png",description:"     ."}],Ty=[{id:"tier_ring_1",name:"",url:"/images/tire/Ring1.png",description:"     .",price:{gold:1e4}},{id:"tier_ring_2",name:"",url:"/images/tire/Ring2.png",description:"     .",price:{gold:15e3}},{id:"tier_ring_3",name:"",url:"/images/tire/Ring3.png",description:"     .",price:{gold:3e4}},{id:"tier_ring_4",name:"",url:"/images/tire/Ring4.png",description:"     .",price:{diamonds:200}},{id:"tier_ring_5",name:"1",url:"/images/tire/Ring5.png",description:"     .",price:{diamonds:1e3}},{id:"tier_ring_6",name:"2",url:"/images/tire/Ring6.png",description:"     .",price:{diamonds:1e3}},{id:"tier_ring_7",name:"",url:"/images/tire/Ring7.png",description:"     .",price:{diamonds:1e3}},{id:"tier_ring_8",name:"VIP",url:"/images/tire/Ring8.png",description:"     .",price:{diamonds:2e3}}];I.Standard+"",I.Capture+"",I.Speed+"",I.Base+"",I.Hidden+"",I.Missile+"",I.Mix+"",I.Dice+"",I.Omok+"",I.Ttamok+"",I.Thief+"",I.Alkkagi+"",I.Curling+"";const nS=[",  ."," !",". ."," !",",   ."," .","GG!  .","?"],tS=["","","","","","","","",""],Cs=(o,a,c,m)=>Array.from({length:10},(u,p)=>({level:p+1,unlockStageId:p===9?m:void 0,productionRateMinutes:o[p],rewardAmount:a[p],maxCapacity:c[p]})),oS=[{id:"mission_attendance",name:"",description:" ",unlockStageId:"-1",rewardType:"gold",image:"/images/single/Mission1.png",levels:Cs([5,5,5,5,5,5,4.5,4,3.5,3],[5,5,5,5,5,10,10,10,10,10],[50,60,70,80,90,100,110,120,130,150],"-1")},{id:"mission_complete_game",name:" ",description:" ",unlockStageId:"-20",rewardType:"gold",image:"/images/single/Mission2.png",levels:Cs([5,5,5,5,5,5,4.5,4,3.5,3],[10,10,10,10,10,20,20,20,20,20],[150,160,170,180,200,220,240,260,280,300],"-20")},{id:"mission_rival_match",name:" ",description:"  ",unlockStageId:"-20",rewardType:"gold",image:"/images/single/Mission3.png",levels:Cs([5,5,5,5,5,5,4.5,4,3.5,3],[20,20,20,20,20,20,30,30,30,30],[300,340,380,420,460,500,540,600,660,750],"-20")},{id:"mission_study_joseki",name:"/ ",description:"/ ",unlockStageId:"-20",rewardType:"diamonds",image:"/images/single/Mission4.png",levels:Cs([60,58,56,54,52,50,47,44,41,35],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,3,3,3,3,3,4],"-20")},{id:"mission_league",name:"",description:"  ",unlockStageId:"-20",rewardType:"gold",image:"/images/single/Mission5.png",levels:Cs([5,5,5,5,5,5,4.5,4,3.5,3],[50,50,50,50,50,50,50,50,100,100],[500,550,600,650,700,750,800,850,900,1e3],"-20")},{id:"mission_ai_match",name:"",description:"  ",unlockStageId:"-20",rewardType:"diamonds",image:"/images/single/Mission6.png",levels:Cs([60,58,56,54,52,50,47,44,41,35],[1,1,1,1,1,1,1,1,1,1],[3,3,3,3,4,4,4,4,4,5],"-20")}],gl=[{id:"-1",name:" 1",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:5,white:5},placements:{black:2,white:2,blackPattern:0,whitePattern:1,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:10},repeatClear:{gold:10,exp:10}}},{id:"-2",name:" 2",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:5,white:5},placements:{black:2,white:2,blackPattern:0,whitePattern:1,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:11},repeatClear:{gold:10,exp:10}}},{id:"-3",name:" 3",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:5,white:5},placements:{black:2,white:2,blackPattern:1,whitePattern:1,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:12},repeatClear:{gold:10,exp:10}}},{id:"-4",name:" 4",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:5,white:5},placements:{black:2,white:2,blackPattern:2,whitePattern:1,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:13},repeatClear:{gold:10,exp:10}}},{id:"-5",name:" 5",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:6,white:6},placements:{black:2,white:3,blackPattern:2,whitePattern:1,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:14,items:[{itemId:" 1",quantity:1}]},repeatClear:{gold:10,exp:10}}},{id:"-6",name:" 6",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:6,white:6},placements:{black:3,white:5,blackPattern:2,whitePattern:0,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:15},repeatClear:{gold:10,exp:10}}},{id:"-7",name:" 7",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:6,white:6},placements:{black:3,white:4,blackPattern:2,whitePattern:2,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:16},repeatClear:{gold:10,exp:10}}},{id:"-8",name:" 8",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:6,white:6},placements:{black:3,white:5,blackPattern:3,whitePattern:2,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:17},repeatClear:{gold:10,exp:10}}},{id:"-9",name:" 9",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:6,white:6},placements:{black:3,white:4,blackPattern:3,whitePattern:3,centerBlackStoneChance:90},timeControl:{type:"byoyomi",mainTime:3,byoyomiTime:0,byoyomiCount:3},blackTurnLimit:15,rewards:{firstClear:{gold:100,exp:18},repeatClear:{gold:10,exp:10}}},{id:"-10",name:" 10",level:Oe.,actionPointCost:2,boardSize:7,targetScore:{black:7,white:5},placements:{black:4,white:7,blackPattern:2,whitePattern:3},timeControl:{type:"fischer",mainTime:5,increment:10},blackTurnLimit:15,rewards:{firstClear:{gold:150,exp:20,items:[{itemId:"  I",quantity:1}]},repeatClear:{gold:10,exp:15}}},{id:"-11",name:" 11",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:3,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:15,rewards:{firstClear:{gold:150,exp:20},repeatClear:{gold:10,exp:10}}},{id:"-12",name:" 12",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:4,white:14,blackPattern:1,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:15,rewards:{firstClear:{gold:150,exp:20},repeatClear:{gold:10,exp:10}}},{id:"-13",name:" 13",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:5,white:15,blackPattern:2,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:15,rewards:{firstClear:{gold:150,exp:20},repeatClear:{gold:10,exp:10}}},{id:"-14",name:" 14",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:4,white:15,blackPattern:2,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:15,rewards:{firstClear:{gold:150,exp:20},repeatClear:{gold:10,exp:10}}},{id:"-15",name:" 15",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:3,white:14,blackPattern:2,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:15,rewards:{firstClear:{gold:150,exp:20,items:[{itemId:"  I",quantity:1}]},repeatClear:{gold:10,exp:10}}},{id:"-16",name:" 16",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:2,white:13,blackPattern:2,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:16,rewards:{firstClear:{gold:150,exp:30},repeatClear:{gold:10,exp:15}}},{id:"-17",name:" 17",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:3,white:15,blackPattern:3,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:17,rewards:{firstClear:{gold:150,exp:30},repeatClear:{gold:10,exp:15}}},{id:"-18",name:" 18",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:4,white:16,blackPattern:4,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:18,rewards:{firstClear:{gold:150,exp:30},repeatClear:{gold:10,exp:15}}},{id:"-19",name:" 19",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:5,white:17,blackPattern:5,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:19,rewards:{firstClear:{gold:150,exp:30},repeatClear:{gold:10,exp:15}}},{id:"-20",name:" 20",level:Oe.,actionPointCost:2,boardSize:9,targetScore:{black:5,white:0},placements:{black:5,white:18,blackPattern:6,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:5},survivalTurns:20,rewards:{firstClear:{gold:200,exp:30,items:[{itemId:" 1",quantity:1}]},repeatClear:{gold:10,exp:15}}},{id:"-1",name:" 1",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:9,white:8},placements:{black:4,white:6,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:30},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-2",name:" 2",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:9,white:8},placements:{black:5,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:32},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-3",name:" 3",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:9,white:8},placements:{black:3,white:7,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:34},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-4",name:" 4",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:9,white:8},placements:{black:6,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:36},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-5",name:" 5",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:10,white:9},placements:{black:8,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:38,items:[{itemId:" 2",quantity:1}]},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-6",name:" 6",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:10,white:9},placements:{black:4,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:40},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-7",name:" 7",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:10,white:9},placements:{black:7,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:42},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-8",name:" 8",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:10,white:9},placements:{black:5,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:44,items:[{itemId:"  I",quantity:1}]},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-9",name:" 9",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:10,white:9},placements:{black:6,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:200,exp:46},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-10",name:" 10",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:11,white:9},placements:{black:3,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:50,items:[{itemId:"  II",quantity:1}]},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-11",name:" 11",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:11,white:9},placements:{black:4,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:52},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-12",name:" 12",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:11,white:9},placements:{black:5,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:54},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-13",name:" 13",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:11,white:9},placements:{black:6,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:56},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-14",name:" 14",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:11,white:9},placements:{black:7,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:58},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-15",name:" 15",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:12,white:10},placements:{black:5,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:60,items:[{itemId:"  II",quantity:1}]},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-16",name:" 16",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:12,white:10},placements:{black:6,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:62},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-17",name:" 17",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:12,white:10},placements:{black:7,white:15,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:64},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-18",name:" 18",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:12,white:10},placements:{black:8,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:66},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-19",name:" 19",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:12,white:10},placements:{black:9,white:17,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:250,exp:100},repeatClear:{gold:30,exp:20}},autoScoringTurns:40},{id:"-20",name:" 20",level:Oe.,actionPointCost:3,boardSize:9,targetScore:{black:15,white:12},placements:{black:5,white:20,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:300,exp:120,items:[{itemId:" 2",quantity:1}],bonus:"10"},repeatClear:{gold:50,exp:30}},autoScoringTurns:40},{id:"-1",name:" 1",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:4,white:7,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-2",name:" 2",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:5,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-3",name:" 3",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:3,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-4",name:" 4",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:6,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-5",name:" 5",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:8,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:400,exp:150,items:[{itemId:" 3",quantity:1}]},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-6",name:" 6",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:4,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-7",name:" 7",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:7,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-8",name:" 8",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:5,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-9",name:" 9",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:6,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:3},{id:"-10",name:" 10",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:3,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:400,exp:200,items:[{itemId:"  III",quantity:1}]},repeatClear:{gold:50,exp:50}},autoScoringTurns:60,missileCount:3},{id:"-11",name:" 11",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:4,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-12",name:" 12",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:5,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-13",name:" 13",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:6,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-14",name:" 14",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:7,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-15",name:" 15",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:3,white:6,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:400,exp:200,items:[{itemId:"  III",quantity:1}]},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-16",name:" 16",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:4,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-17",name:" 17",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:6,white:6,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-18",name:" 18",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:4,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-19",name:" 19",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:6,white:6,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:300,exp:100},repeatClear:{gold:50,exp:30}},autoScoringTurns:60,missileCount:2},{id:"-20",name:" 20",level:Oe.,actionPointCost:4,boardSize:11,targetScore:{black:0,white:0},placements:{black:5,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:400,exp:250,items:[{itemId:" 3",quantity:1}]},repeatClear:{gold:50,exp:50}},autoScoringTurns:60,missileCount:1},{id:"-1",name:" 1",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:8,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-2",name:" 2",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:5,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-3",name:" 3",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:6,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-4",name:" 4",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:7,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-5",name:" 5",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:8,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:250,items:[{itemId:" 4",quantity:1}]},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-6",name:" 6",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:9,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-7",name:" 7",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:8,white:13,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-8",name:" 8",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:7,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-9",name:" 9",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:5,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-10",name:" 10",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:9,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:500,exp:300,items:[{itemId:"  IV",quantity:1}]},repeatClear:{gold:100,exp:70}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-11",name:" 11",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-12",name:" 12",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:5,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-13",name:" 13",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-14",name:" 14",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:10,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-15",name:" 15",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:250,items:[{itemId:"  IV",quantity:1}]},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-16",name:" 16",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-17",name:" 17",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-18",name:" 18",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:11,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-19",name:" 19",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:5,white:12,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:200},repeatClear:{gold:100,exp:40}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-20",name:" 20",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:5,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:600,exp:350,items:[{itemId:" 4",quantity:1}]},repeatClear:{gold:100,exp:80}},autoScoringTurns:80,hiddenCount:1,scanCount:1},{id:"-1",name:" 1",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:25,white:10},placements:{black:4,white:14,blackPattern:5,whitePattern:4,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:150,exp:50}},blackTurnLimit:35},{id:"-2",name:" 2",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:25,white:9},placements:{black:3,white:14,blackPattern:5,whitePattern:3,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:150,exp:50}},blackTurnLimit:35},{id:"-3",name:" 3",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:25,white:8},placements:{black:4,white:16,blackPattern:7,whitePattern:2,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:150,exp:50}},blackTurnLimit:35},{id:"-4",name:" 4",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:25,white:7},placements:{black:4,white:17,blackPattern:7,whitePattern:2,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:150,exp:50}},blackTurnLimit:35},{id:"-5",name:" 5",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:30,white:6},placements:{black:4,white:18,blackPattern:8,whitePattern:2,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:700,exp:400,items:[{itemId:"  V",quantity:1}]},repeatClear:{gold:150,exp:50}},blackTurnLimit:35},{id:"-6",name:" 6",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:15,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:200,exp:50}},autoScoringTurns:80},{id:"-7",name:" 7",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:14,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:200,exp:50}},autoScoringTurns:80},{id:"-8",name:" 8",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:15,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:200,exp:50}},autoScoringTurns:80},{id:"-9",name:" 9",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:700,exp:250},repeatClear:{gold:200,exp:50}},autoScoringTurns:80},{id:"-10",name:" 10",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"fischer",mainTime:3,increment:5},rewards:{firstClear:{gold:700,exp:500,items:[{itemId:"  V",quantity:1}]},repeatClear:{gold:200,exp:90}},autoScoringTurns:80},{id:"-11",name:" 11",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:300},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,missileCount:3},{id:"-12",name:" 12",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:15,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:300},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,missileCount:3},{id:"-13",name:" 13",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:300},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,missileCount:3},{id:"-14",name:" 14",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:17,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:300},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,missileCount:3},{id:"-15",name:" 15",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:17,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:400,items:[{itemId:"  VI",quantity:1}]},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,missileCount:3},{id:"-16",name:" 16",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:17,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:350},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,hiddenCount:1,scanCount:2,aiHiddenItemTurnRange:{min:10,max:50}},{id:"-17",name:" 17",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:16,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:350},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,hiddenCount:1,scanCount:2,aiHiddenItemTurnRange:{min:10,max:50}},{id:"-18",name:" 18",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:3,white:17,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:350},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,hiddenCount:1,scanCount:2,aiHiddenItemTurnRange:{min:10,max:50}},{id:"-19",name:" 19",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:18,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:350},repeatClear:{gold:300,exp:50}},autoScoringTurns:80,hiddenCount:1,scanCount:2,aiHiddenItemTurnRange:{min:10,max:50}},{id:"-20",name:" 20",level:Oe.,actionPointCost:5,boardSize:13,targetScore:{black:0,white:0},placements:{black:4,white:25,blackPattern:0,whitePattern:0,centerBlackStoneChance:0},timeControl:{type:"byoyomi",mainTime:5,byoyomiTime:30,byoyomiCount:3},rewards:{firstClear:{gold:800,exp:1e3,items:[{itemId:"  VI",quantity:1}]},repeatClear:{gold:300,exp:100}},autoScoringTurns:80,hiddenCount:1,scanCount:2,aiHiddenItemTurnRange:{min:10,max:50},survivalTurns:0}],iS=o=>{const a=o.mannerScore??200,c={maxActionPoints:30,actionPointRegenInterval:fw,goldRewardMultiplier:1,winGoldBonusPercent:0,dropChanceMultiplier:1,winDropBonusPercent:0,itemDropRateBonus:0,disassemblyJackpotBonusPercent:0,allStatsFlatBonus:0};return a>=400&&(c.maxActionPoints+=10),a>=800&&(c.winGoldBonusPercent+=20),a>=1200&&(c.winDropBonusPercent+=20),a>=1600&&(c.disassemblyJackpotBonusPercent+=20),a>=2e3&&(c.allStatsFlatBonus+=10),a<=199&&(c.dropChanceMultiplier*=.5),a<=99&&(c.goldRewardMultiplier*=.5),a<=49&&(c.actionPointRegenInterval=Math.max(c.actionPointRegenInterval,20*60*1e3)),a<=0&&(c.maxActionPoints=Math.max(0,c.maxActionPoints-20)),c},Kd=o=>{const a=iS(o),c={...a,coreStatBonuses:{},specialStatBonuses:{},mythicStatBonuses:{}};for(const p of Object.values(_))c.coreStatBonuses[p]={flat:0,percent:0};for(const p of Object.values(_t))c.specialStatBonuses[p]={flat:0,percent:0};for(const p of Object.values(ro))c.mythicStatBonuses[p]={flat:0,percent:0};const m=o.inventory.filter(p=>p.isEquipped&&p.type==="equipment"&&p.options);for(const p of m){const s=[p.options.main,...p.options.combatSubs,...p.options.specialSubs,...p.options.mythicSubs];for(const x of s){if(!x)continue;const{type:v,value:g,isPercentage:f}=x;Object.values(_).includes(v)?f?c.coreStatBonuses[v].percent+=g:c.coreStatBonuses[v].flat+=g:Object.values(_t).includes(v)?f?c.specialStatBonuses[v].percent+=g:c.specialStatBonuses[v].flat+=g:Object.values(ro).includes(v)&&(c.mythicStatBonuses[v].flat+=g)}}if(a.allStatsFlatBonus!==0)for(const p of Object.values(_))c.coreStatBonuses[p].flat+=a.allStatsFlatBonus;c.maxActionPoints+=c.specialStatBonuses[_t.ActionPointMax].flat;const u=c.specialStatBonuses[_t.ActionPointRegen].percent;return u>0&&(c.actionPointRegenInterval=Math.floor(c.actionPointRegenInterval/(1+u/100))),c},Yl={graphics:{theme:"black",panelColor:void 0,textColor:void 0,panelEdgeStyle:"default"},sound:{masterVolume:.5,masterMuted:!1,categoryMuted:{stone:!1,notification:!1,item:!1,countdown:!1,turn:!1}},features:{mobileConfirm:!1,stonePreview:!0,lastMoveMarker:!0,questNotifications:!0,chatNotifications:!0}},Py="appSettings_v2";class Nw{constructor(){Aa(this,"audioContext",null);Aa(this,"isInitializing",!1);Aa(this,"scanBgmSourceNode",null);Aa(this,"timerWarningSourceNode",null);Aa(this,"audioBuffers",new Map);Aa(this,"soundsPath","/sound/");Aa(this,"settings",Yl.sound)}isReady(){return!!this.audioContext&&this.audioContext.state==="running"}async initialize(){if(!(this.isReady()||this.isInitializing)){this.isInitializing=!0;try{this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext.state==="suspended"&&await this.audioContext.resume()}catch(a){console.error("Audio context initialization failed:",a)}finally{this.isInitializing=!1}}}updateSettings(a){this.settings=a}async loadSound(a){if(this.audioContext||await this.initialize(),!this.audioContext)return null;if(this.audioBuffers.has(a))return this.audioBuffers.get(a);try{const c=await fetch(a);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const m=await c.arrayBuffer(),u=await this.audioContext.decodeAudioData(m);return this.audioBuffers.set(a,u),u}catch(c){return console.error(`Failed to load sound: ${a}`,c),null}}async playSound(a,c=1,m=!1){if(!this.audioContext&&(await this.initialize(),!this.audioContext))return null;if(this.audioContext.state==="suspended")try{await this.audioContext.resume()}catch(s){return console.error("Failed to resume audio context:",s),null}if(this.audioContext.state!=="running")return null;const u=this.audioContext.createBufferSource();u.buffer=a,u.loop=m;const p=this.audioContext.createGain();return p.gain.setValueAtTime(c,this.audioContext.currentTime),u.connect(p),p.connect(this.audioContext.destination),u.start(0),u}async play(a,c,m,u=!1){if(this.settings.masterMuted||this.settings.categoryMuted[c])return null;try{const p=await this.loadSound(`${this.soundsPath}${a}.mp3`);if(p)return await this.playSound(p,m*this.settings.masterVolume,u)}catch(p){console.error(`Could not play sound ${a}`,p)}return null}placeStone(){this.play("move","stone",.7).catch(()=>{})}rollDice(a){this.play("dice","item",.6).catch(()=>{}),a>1&&setTimeout(()=>this.play("dice","item",.6).catch(()=>{}),500)}enhancementFail(){this.play("failure","notification",.7).catch(()=>{})}revealHiddenStone(){this.play("hidden","item",.8).catch(()=>{})}async playScanBgm(){this.stopScanBgm(),this.scanBgmSourceNode=await this.play("scanbgm","item",.4,!0)}stopScanBgm(){if(this.scanBgmSourceNode){try{this.scanBgmSourceNode.stop()}catch{}this.scanBgmSourceNode=null}}scanSuccess(){this.play("find","item",.7).catch(()=>{})}stoneCollision(){this.play("hit","stone",.4).catch(()=>{})}launchMissile(){this.play("rocket","item",.7).catch(()=>{})}gameLose(){this.play("lose","notification",.6).catch(()=>{})}gameWin(){this.play("win","notification",.6).catch(()=>{})}levelUp(){this.play("levelup","notification",.7).catch(()=>{})}disassemblyJackpot(){this.play("jackpot2","notification",.8).catch(()=>{})}gachaEpicOrHigher(){this.play("jackpot","notification",.7).catch(()=>{})}gameStart(){this.play("gamestart","notification",.6).catch(()=>{})}myTurn(){this.play("myturn","turn",.7).catch(()=>{})}scanFail(){this.play("scanfail","item",.6).catch(()=>{})}async timerWarning(){this.stopTimerWarning(),this.timerWarningSourceNode=await this.play("timer10","countdown",.7)}stopTimerWarning(){if(this.timerWarningSourceNode){try{this.timerWarningSourceNode.stop()}catch{}this.timerWarningSourceNode=null}}timeoutFoul(){this.play("bip","notification",.8).catch(()=>{})}enhancementSuccess(){this.play("success","notification",.7).catch(()=>{})}combinationGreatSuccess(){this.play("jackpot","notification",.7).catch(()=>{})}combinationSuccess(){this.play("success","notification",.7).catch(()=>{})}stoneFallOff(){this.play("fall","stone",.5).catch(()=>{})}claimReward(){this.play("reward","notification",.7).catch(()=>{})}}const et=new Nw;function Iy(o){const a=o.replace(/^#\/?/,""),[c,...m]=a.split("/");switch(c){case"lobby":return{view:"lobby",params:{type:m[0]||"strategic"}};case"waiting":return{view:"waiting",params:{mode:m[0]?decodeURIComponent(m[0]):null}};case"game":return{view:"game",params:{id:m[0]}};case"tournament":return{view:"tournament",params:{type:m[0]||null}};case"singleplayer":return{view:"singleplayer",params:{}};case"admin":return{view:"admin",params:{}};case"register":return{view:"register",params:{}};case"profile":return{view:"profile",params:{}};default:return{view:"login",params:{}}}}const pm=o=>{const a=c=>{if(c===null||typeof c!="object")return c;if(Array.isArray(c)){const p=c.map(a);try{return p.sort((s,x)=>{const v=JSON.stringify(s),g=JSON.stringify(x);return v.localeCompare(g)})}catch(s){return console.error("Could not sort array for stableStringify:",s),p}}const m=Object.keys(c).sort(),u={};for(const p of m)u[p]=a(c[p]);return u};return JSON.stringify(a(o))},_y={none:{topLeft:null,topRight:null,bottomLeft:null,bottomRight:null},default:{topLeft:'url("/images/panel/panel_top_left.png")',topRight:'url("/images/panel/panel_top_right.png")',bottomLeft:'url("/images/panel/panel_bottom_left.png")',bottomRight:'url("/images/panel/panel_bottom_right.png")'},style1:{topLeft:'url("/images/panel/panel_top_left1.png")',topRight:'url("/images/panel/panel_top_right1.png")',bottomLeft:'url("/images/panel/panel_bottom_left1.png")',bottomRight:'url("/images/panel/panel_bottom_right1.png")'},style2:{topLeft:'url("/images/panel/panel_top_left2.png")',topRight:'url("/images/panel/panel_top_right2.png")',bottomLeft:'url("/images/panel/panel_bottom_left2.png")',bottomRight:'url("/images/panel/panel_bottom_right2.png")'},style3:{topLeft:'url("/images/panel/panel_top_left3.png")',topRight:'url("/images/panel/panel_top_right3.png")',bottomLeft:'url("/images/panel/panel_bottom_left3.png")',bottomRight:'url("/images/panel/panel_bottom_right3.png")'},style4:{topLeft:'url("/images/panel/panel_top_left4.png")',topRight:'url("/images/panel/panel_top_right4.png")',bottomLeft:'url("/images/panel/panel_bottom_left4.png")',bottomRight:'url("/images/panel/panel_bottom_right4.png")'},style5:{topLeft:'url("/images/panel/panel_top_left5.png")',topRight:'url("/images/panel/panel_top_right5.png")',bottomLeft:'url("/images/panel/panel_bottom_left5.png")',bottomRight:'url("/images/panel/panel_bottom_right5.png")'}},lS=o=>_y[o]||_y.default,xw=()=>{const[o,a]=b.useState(()=>{try{const re=sessionStorage.getItem("currentUser");if(re)return JSON.parse(re)}catch(re){console.error("Failed to parse user from sessionStorage",re)}return null}),[c,m]=b.useState(()=>Iy(window.location.hash)),u=b.useRef(c),[p,s]=b.useState(null),x=b.useRef(!1),[v,g]=b.useState(0),f=b.useRef(null),h=b.useRef(null),N=b.useRef(0),y=b.useRef(null),E=b.useRef(!1),j=2e3;b.useEffect(()=>{f.current=o},[o]);const U=b.useCallback((re,He)=>{if(!re)return He;const $e=JSON.parse(JSON.stringify(re)),Le=JSON.parse(JSON.stringify(He)),On=Le.inventory!==void 0?JSON.parse(JSON.stringify(Le.inventory)):$e.inventory,Wn={...$e,...Le,inventory:On,equipment:Le.equipment!==void 0?{...$e.equipment,...Le.equipment}:$e.equipment,actionPoints:Le.actionPoints!==void 0?{...$e.actionPoints,...Le.actionPoints}:$e.actionPoints,stats:Le.stats!==void 0?{...$e.stats,...Le.stats}:$e.stats,equipmentPresets:Le.equipmentPresets!==void 0?Le.equipmentPresets:$e.equipmentPresets,clearedSinglePlayerStages:Le.clearedSinglePlayerStages!==void 0?Le.clearedSinglePlayerStages:$e.clearedSinglePlayerStages,singlePlayerMissions:Le.singlePlayerMissions!==void 0?{...$e.singlePlayerMissions,...Le.singlePlayerMissions}:$e.singlePlayerMissions};return!Wn.id&&re.id&&(Wn.id=re.id),Wn},[]),S=b.useCallback((re,He)=>{var ct,Vt,_o,Co,ho;const $e=f.current,Le=U($e,re);let On=!$e;if($e){const Mt=((ct=$e.inventory)==null?void 0:ct.length)!==((Vt=Le.inventory)==null?void 0:Vt.length)||JSON.stringify($e.inventory)!==JSON.stringify(Le.inventory),ut=$e.gold!==Le.gold||$e.diamonds!==Le.diamonds||$e.strategyXp!==Le.strategyXp||$e.playfulXp!==Le.playfulXp||$e.avatarId!==Le.avatarId||$e.borderId!==Le.borderId||$e.nickname!==Le.nickname||$e.mbti!==Le.mbti||$e.isMbtiPublic!==Le.isMbtiPublic||$e.mannerScore!==Le.mannerScore||$e.mannerMasteryApplied!==Le.mannerMasteryApplied||Mt||JSON.stringify($e.equipment)!==JSON.stringify(Le.equipment)||JSON.stringify($e.singlePlayerMissions)!==JSON.stringify(Le.singlePlayerMissions)||JSON.stringify($e.actionPoints)!==JSON.stringify(Le.actionPoints),Bo=pm($e)!==pm(Le);On=ut||Bo,(He.includes("CLAIM")||He.includes("REWARD"))&&Mt&&(On=!0,console.log(`[applyUserUpdate] Forcing update for ${He} due to inventory change`,{prevLength:(_o=$e.inventory)==null?void 0:_o.length,newLength:(Co=Le.inventory)==null?void 0:Co.length}))}const Wn=Object.keys(re||{}).filter(Mt=>Mt!=="id");if(!On&&$e){if(Wn.length===0)return console.log(`[applyUserUpdate] No actual changes detected (${He}) and no update keys, skipping update.`),$e;console.warn(`[applyUserUpdate] No diff detected for ${He}, but forcing refresh to avoid stale UI.`,{updateKeys:Wn})}f.current=Le,bm.flushSync(()=>{a(Le),g(Mt=>Mt+1)}),Le.id&&R(Mt=>({...Mt,[Le.id]:Le}));try{sessionStorage.setItem("currentUser",JSON.stringify(Le))}catch(Mt){console.error(`[applyUserUpdate] Failed to persist user (${He})`,Mt)}return console.log(`[applyUserUpdate] Applied update from ${He}`,{inventoryLength:(ho=Le.inventory)==null?void 0:ho.length,gold:Le.gold,diamonds:Le.diamonds}),Le},[U]),[M,C]=b.useState(()=>{try{const re=localStorage.getItem(Py);if(re){let He=JSON.parse(re);return typeof He.theme=="string"&&(He={...Yl,graphics:{theme:He.theme,panelColor:void 0,textColor:void 0},sound:He.sound||Yl.sound,features:He.features||Yl.features}),{...Yl,...He,graphics:{...Yl.graphics,...He.graphics||{}},sound:{...Yl.sound,...He.sound||{}},features:{...Yl.features,...He.features||{}}}}}catch(re){console.error("Error reading settings from localStorage",re)}return Yl}),[w,R]=b.useState({}),[O,V]=b.useState([]),[$,z]=b.useState({}),[P,G]=b.useState({}),[q,B]=b.useState({}),X=b.useRef({}),H=b.useRef({}),Q=b.useRef({}),[Z,ne]=b.useState({}),[le,L]=b.useState({}),[ue,pe]=b.useState({}),[ie,fe]=b.useState([]),[W,Pe]=b.useState({}),[me,de]=b.useState([]),[Ge,ve]=b.useState(null),[an,ye]=b.useState(3),[De,We]=b.useState(!1),[Ie,Je]=b.useState(!1),[K,J]=b.useState(!1),[ke,Te]=b.useState(!1),[be,Ce]=b.useState(!1),[Re,Ze]=b.useState(void 0),[Se,Fe]=b.useState(null),[tn,Rn]=b.useState(null),[Dn,Ue]=b.useState(null),[Be,qe]=b.useState(null),[Ee,ze]=b.useState(null),[ln,yn]=b.useState(!1),[Ln,Bn]=b.useState(null),[zn,Xe]=b.useState(null),[nn,Sn]=b.useState(!1),[Nn,wn]=b.useState(!1),[on,$n]=b.useState(!1),[mt,Bt]=b.useState(null),[It,Xt]=b.useState(null),[Ft,Zt]=b.useState(null),[Fo,ji]=b.useState(null),[te,Ke]=b.useState(null),[rn,En]=b.useState(null),[nt,un]=b.useState(!1),qn=b.useRef(null),[An,Qt]=b.useState(!1),[$t,Lt]=b.useState(null),[go,di]=b.useState(!1),[fi,Yt]=b.useState(!1),[yl,Io]=b.useState(!1),[it,_i]=b.useState(null),[Mr,Dl]=b.useState("enhance"),[el,Zl]=b.useState(null),[Ia,ea]=b.useState(!1),[_a,na]=b.useState(!1);b.useEffect(()=>{try{localStorage.setItem(Py,JSON.stringify(M))}catch(Le){console.error("Error saving settings to localStorage",Le)}const re=document.documentElement;M.graphics.panelColor?re.style.setProperty("--custom-panel-bg",M.graphics.panelColor):re.style.removeProperty("--custom-panel-bg"),M.graphics.textColor?re.style.setProperty("--custom-text-color",M.graphics.textColor):re.style.removeProperty("--custom-text-color");const He=M.graphics.panelEdgeStyle??"default",$e=lS(He);re.style.setProperty("--panel-edge-top-left",$e.topLeft??"none"),re.style.setProperty("--panel-edge-top-right",$e.topRight??"none"),re.style.setProperty("--panel-edge-bottom-left",$e.bottomLeft??"none"),re.style.setProperty("--panel-edge-bottom-right",$e.bottomRight??"none"),He!=="none"?re.setAttribute("data-edge-style",He):re.setAttribute("data-edge-style","none")},[M]),b.useEffect(()=>{document.documentElement.setAttribute("data-theme",M.graphics.theme)},[M.graphics.theme]),b.useEffect(()=>{et.updateSettings(M.sound)},[M.sound]);const Cr=b.useCallback(re=>{C(He=>({...He,graphics:{...He.graphics,theme:re,panelColor:void 0,textColor:void 0}}))},[]),Rr=b.useCallback(re=>{C(He=>({...He,graphics:{...He.graphics,panelColor:re}}))},[]),ta=b.useCallback(re=>{C(He=>({...He,graphics:{...He.graphics,textColor:re}}))},[]),Ba=b.useCallback(re=>{C(He=>({...He,graphics:{...He.graphics,panelEdgeStyle:re}}))},[]),Mi=b.useCallback(()=>{C(re=>({...re,graphics:{...re.graphics,panelColor:void 0,textColor:void 0,panelEdgeStyle:"default"}}))},[]),Sl=b.useCallback((re,He)=>{C($e=>({...$e,sound:{...$e.sound,[re]:He}}))},[]),nl=b.useCallback((re,He)=>{C($e=>({...$e,features:{...$e.features,[re]:He}}))},[]),ti=b.useMemo(()=>!w||typeof w!="object"?[]:Object.values(w),[w]),Nt=b.useMemo(()=>{if(!o)return null;const re=Array.isArray(O)?O.find($e=>$e&&$e.id===o.id):null,He={status:(re==null?void 0:re.status)??"online",mode:re==null?void 0:re.mode,gameId:re==null?void 0:re.gameId,spectatingGameId:re==null?void 0:re.spectatingGameId};return{...o,...He}},[o,O,v]);b.useEffect(()=>{h.current=Nt},[Nt]);const qo=b.useMemo(()=>{if(!Nt)return null;const re=Nt.gameId||Nt.spectatingGameId;if(re&&(Nt.status==="in-game"||Nt.status==="spectating")){const He=$[re]||P[re]||q[re];if(He)return He}return null},[Nt,$,P,q]),La=b.useMemo(()=>{if(!Nt||!Z||typeof Z!="object"||Array.isArray(Z))return null;try{const He=Object.values(Z).filter(Le=>Le&&Le.challenger&&Le.opponent&&(Le.challenger.id===Nt.id&&(Le.status==="pending"||Le.status==="draft")||Le.opponent.id===Nt.id&&Le.status==="pending"));return He.length===0?null:He.sort((Le,On)=>Le.deadline&&On.deadline?Le.deadline-On.deadline:Le.deadline?-1:On.deadline?1:Le.id.localeCompare(On.id))[0]||null}catch(re){return console.error("[activeNegotiation] Error:",re),null}},[Nt,Z]),Er=b.useMemo(()=>!o||!o.mail||!Array.isArray(o.mail)?0:o.mail.filter(re=>re&&!re.isRead).length,[o==null?void 0:o.mail]),$a=b.useMemo(()=>{if(!(o!=null&&o.quests))return!1;const{daily:re,weekly:He,monthly:$e}=o.quests,Le=Wn=>Wn?Wn.quests.some(ct=>ct.progress>=ct.target&&!ct.isClaimed):!1,On=(Wn,ct)=>!Wn||!ct?!1:Wn.claimedMilestones.some((Vt,_o)=>!Vt&&Wn.activityProgress>=ct[_o]);return Le(re)||Le(He)||Le($e)||On(re,KD)||On(He,JD)||On($e,XD)},[o==null?void 0:o.quests]),jl=re=>{let He=re;re.includes("Invalid move: ko")?He=" .         .":re.includes("action point")&&(He="   ."),s(He),setTimeout(()=>s(null),5e3)};b.useEffect(()=>{var re;o?(sessionStorage.setItem("currentUser",JSON.stringify(o)),console.log("[useApp] currentUser updated:",{id:o.id,inventoryLength:(re=o.inventory)==null?void 0:re.length,gold:o.gold,diamonds:o.diamonds})):sessionStorage.removeItem("currentUser")},[o]);const Ci=b.useCallback(async re=>{var He,$e,Le,On,Wn,ct,Vt,_o,Co,ho,Mt,ut,Bo,Ri,T,ee,xe,Ae,Ne,xn,fn,Tn,tt,yt;if(re.type==="CLEAR_TOURNAMENT_SESSION"&&f.current&&S({lastNeighborhoodTournament:null,lastNationalTournament:null,lastWorldTournament:null},"CLEAR_TOURNAMENT_SESSION-local"),re.type==="SAVE_PRESET"){const lt=f.current;if(lt){const{preset:Qe,index:Mn}=re.payload,Et=[...lt.equipmentPresets||[]];Et[Mn]=Qe,S({equipmentPresets:Et},"SAVE_PRESET-local")}}try{et.initialize();const lt=await fetch("/api/action",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...re,userId:(He=f.current)==null?void 0:He.id})});if(lt.ok){const Qe=await lt.json();if(Qe.error||Qe.message){const Cn=Qe.message||Qe.error||"  .";console.error(`[handleAction] ${re.type} - Server returned error:`,Cn),jl(Cn);return}console.debug("[handleAction] Action response received",{actionType:re.type,hasUpdatedUser:!!Qe.updatedUser||!!(($e=Qe.clientResponse)!=null&&$e.updatedUser),moveHistoryLength:Array.isArray((On=(Le=Qe.clientResponse)==null?void 0:Le.game)==null?void 0:On.moveHistory)?Qe.clientResponse.game.moveHistory.length:void 0,raw:Qe}),console.log(`[handleAction] ${re.type} - Response received:`,{hasUpdatedUser:!!Qe.updatedUser,hasClientResponse:!!Qe.clientResponse,hasClientResponseUpdatedUser:!!((Wn=Qe.clientResponse)!=null&&Wn.updatedUser),hasRedirectToTournament:!!((ct=Qe.clientResponse)!=null&&ct.redirectToTournament),redirectToTournament:((Vt=Qe.clientResponse)==null?void 0:Vt.redirectToTournament)||Qe.redirectToTournament,hasObtainedItemsBulk:!!Qe.obtainedItemsBulk,hasClientResponseObtainedItemsBulk:!!((_o=Qe.clientResponse)!=null&&_o.obtainedItemsBulk),hasRewardSummary:!!Qe.rewardSummary,hasDisassemblyResult:!!Qe.disassemblyResult,hasCombinationResult:!!Qe.combinationResult,hasEnhancementOutcome:!!Qe.enhancementOutcome,hasCraftResult:!!Qe.craftResult,resultKeys:Object.keys(Qe),clientResponseKeys:Qe.clientResponse?Object.keys(Qe.clientResponse):[],fullResult:Qe});const Mn=Qe.updatedUser||((Co=Qe.clientResponse)==null?void 0:Co.updatedUser);if(Mn){const xt=["CLAIM_MAIL_ATTACHMENTS","CLAIM_ALL_MAIL_ATTACHMENTS","CLAIM_QUEST_REWARD","CLAIM_TOURNAMENT_REWARD","CLAIM_ACTIVITY_MILESTONE","CLAIM_SINGLE_PLAYER_MISSION_REWARD","SINGLE_PLAYER_REFRESH_PLACEMENT","BUY_SHOP_ITEM","BUY_MATERIAL_BOX","BUY_CONDITION_POTION","USE_CONDITION_POTION","BUY_BORDER","ENHANCE_ITEM","DISASSEMBLE_ITEM","COMBINE_ITEMS","CRAFT_MATERIAL","EXPAND_INVENTORY","TOGGLE_EQUIP_ITEM","MANNER_ACTION"].includes(re.type);if(xt&&Mn.inventory&&(Mn.inventory=JSON.parse(JSON.stringify(Mn.inventory)),console.log(`[handleAction] ${re.type} - Forcing inventory update`,{inventoryLength:(ho=Mn.inventory)==null?void 0:ho.length,inventoryItems:(Mt=Mn.inventory)==null?void 0:Mt.slice(0,3).map(Pn=>Pn.name)})),re.type==="CLAIM_SINGLE_PLAYER_MISSION_REWARD"&&Mn.singlePlayerMissions)try{Mn.singlePlayerMissions=JSON.parse(JSON.stringify(Mn.singlePlayerMissions))}catch(Pn){console.warn("[handleAction] CLAIM_SINGLE_PLAYER_MISSION_REWARD - Failed to deep copy singlePlayerMissions",Pn)}const bt=S(Mn,`${re.type}-http`);N.current=Date.now(),y.current=re.type,E.current=!0,console.log(`[handleAction] ${re.type} - applied HTTP updatedUser (WebSocket updates will be ignored for ${j}ms)`,{inventoryLength:(ut=bt==null?void 0:bt.inventory)==null?void 0:ut.length,equipment:bt==null?void 0:bt.equipment,gold:bt==null?void 0:bt.gold,diamonds:bt==null?void 0:bt.diamonds,actionPoints:bt==null?void 0:bt.actionPoints}),xt&&bm.flushSync(()=>{g(Pn=>Pn+1),a(Pn=>Pn&&bt&&Pn.id===bt.id?bt:Pn)})}else y.current=re.type,E.current=!1,["TOGGLE_EQUIP_ITEM","USE_ITEM","USE_ALL_ITEMS_OF_TYPE","ENHANCE_ITEM","COMBINE_ITEMS","DISASSEMBLE_ITEM","CRAFT_MATERIAL","BUY_SHOP_ITEM","BUY_CONDITION_POTION","USE_CONDITION_POTION","UPDATE_AVATAR","UPDATE_BORDER","CHANGE_NICKNAME","UPDATE_MBTI","ALLOCATE_STAT_POINT","SELL_ITEM","EXPAND_INVENTORY","BUY_BORDER","APPLY_PRESET","SAVE_PRESET","DELETE_MAIL","DELETE_ALL_CLAIMED_MAIL","CLAIM_MAIL_ATTACHMENTS","CLAIM_ALL_MAIL_ATTACHMENTS","MARK_MAIL_AS_READ","CLAIM_QUEST_REWARD","CLAIM_ACTIVITY_MILESTONE","CLAIM_SINGLE_PLAYER_MISSION_REWARD","LEVEL_UP_TRAINING_QUEST","SINGLE_PLAYER_REFRESH_PLACEMENT","MANNER_ACTION"].includes(re.type)&&(console.warn(`[handleAction] ${re.type} - No updatedUser in response! Waiting for WebSocket update...`,{hasClientResponse:!!Qe.clientResponse,clientResponseKeys:Qe.clientResponse?Object.keys(Qe.clientResponse):[],resultKeys:Object.keys(Qe)}),y.current=re.type,setTimeout(()=>{(Date.now()-N.current>j||N.current===0)&&(console.warn(`[handleAction] ${re.type} - WebSocket update not received, reducing debounce window`),N.current=Date.now()-j)},500));const Et=(Bo=Qe.clientResponse)==null?void 0:Bo.trainingQuestLevelUp;if(Et&&re.type==="LEVEL_UP_TRAINING_QUEST")return Et;const zt=((Ri=Qe.clientResponse)==null?void 0:Ri.obtainedItemsBulk)||Qe.obtainedItemsBulk;if(zt){const Cn=zt.map(xt=>({...xt,id:xt.id||`reward-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,quantity:xt.quantity??1}));Fe(Cn)}const sn=(T=Qe.clientResponse)==null?void 0:T.tournamentScoreChange;if(sn&&Rn(sn),Qe.rewardSummary&&ze(Qe.rewardSummary),re.type==="CLAIM_SINGLE_PLAYER_MISSION_REWARD"&&((ee=Qe.clientResponse)!=null&&ee.reward)&&ze({reward:Qe.clientResponse.reward,items:[],title:"  "}),re.type==="CLAIM_SINGLE_PLAYER_MISSION_REWARD"&&((xe=Qe.clientResponse)!=null&&xe.reward)){const Cn=Qe.clientResponse.reward;ze({reward:Cn,items:[],title:"  "})}Qe.claimAllSummary&&(Bn(Qe.claimAllSummary),yn(!0));const hn=((Ae=Qe.clientResponse)==null?void 0:Ae.disassemblyResult)||Qe.disassemblyResult;hn&&(Ue(hn),hn.jackpot&&et.disassemblyJackpot());const Fn=((Ne=Qe.clientResponse)==null?void 0:Ne.craftResult)||Qe.craftResult;Fn?(console.log(`[handleAction] ${re.type} - Setting craftResult:`,{craftResult:Fn,hasCraftResult:!!Fn,gained:Fn.gained,used:Fn.used,craftType:Fn.craftType,jackpot:Fn.jackpot}),bm.flushSync(()=>{qe(Fn)}),Fn.jackpot&&et.disassemblyJackpot(),console.log(`[handleAction] ${re.type} - craftResult state set, should trigger modal`)):["CRAFT_MATERIAL","CONVERT_MATERIAL"].includes(re.type)&&console.warn(`[handleAction] ${re.type} - No craftResult in response!`,{hasClientResponse:!!Qe.clientResponse,hasCraftResult:!!Qe.craftResult,clientResponseKeys:Qe.clientResponse?Object.keys(Qe.clientResponse):[],resultKeys:Object.keys(Qe)});const Vn=((xn=Qe.clientResponse)==null?void 0:xn.combinationResult)||Qe.combinationResult;Vn&&(Zl(Vn),Vn.isGreatSuccess?et.combinationGreatSuccess():et.combinationSuccess());const pt=((fn=Qe.clientResponse)==null?void 0:fn.enhancementOutcome)||Qe.enhancementOutcome;if(pt){const{message:Cn,success:xt,itemBefore:bt,itemAfter:Pn}=pt;Bt({message:Cn,success:xt}),Xt({message:Cn,success:xt,itemBefore:bt,itemAfter:Pn}),na(!0);const so=((Tn=Qe.clientResponse)==null?void 0:Tn.enhancementAnimationTarget)||Qe.enhancementAnimationTarget;so&&Zt(so),xt?et.enhancementSuccess():et.enhancementFail()}Qe.enhancementAnimationTarget&&Zt(Qe.enhancementAnimationTarget);const Dt=((tt=Qe.clientResponse)==null?void 0:tt.redirectToTournament)||Qe.redirectToTournament;if(Dt)if(re.type!=="USE_CONDITION_POTION"&&re.type!=="BUY_CONDITION_POTION"){const Cn=`#/tournament/${Dt}`;window.location.hash!==Cn?(console.log(`[handleAction] ${re.type} - Redirecting to tournament:`,Dt),setTimeout(()=>{window.location.hash=Cn},200)):console.log(`[handleAction] ${re.type} - Already at ${Cn}, skipping redirect`)}else console.log(`[handleAction] ${re.type} - Skipping redirect (already in tournament)`);if(Qe.declinedMessage&&jl(Qe.declinedMessage.message),(yt=Qe.clientResponse)!=null&&yt.gameId&&(re.type==="ACCEPT_NEGOTIATION"||re.type==="START_AI_GAME"||re.type==="START_SINGLE_PLAYER_GAME")){const Cn=Qe.clientResponse.gameId;console.log(`[handleAction] ${re.type} - gameId received:`,Cn);const xt=`#/game/${Cn}`;window.location.hash!==xt&&(console.log("[handleAction] Setting immediate route to new game:",xt),window.location.hash=xt);let bt=0;const Pn=30,so=()=>{bt++,console.log(`[handleAction] Attempt ${bt}/${Pn} to route to game ${Cn}`),z(eo=>{const Rl=eo[Cn]!==void 0;return G(ia=>{const Ei=ia[Cn]!==void 0;return B(Vm=>{const Ur=Vm[Cn]!==void 0;return V(wr=>{const Lo=wr.find(Tm=>Tm.id===(o==null?void 0:o.id)),km=(Lo==null?void 0:Lo.gameId)===Cn,za=(Lo==null?void 0:Lo.status)==="in-game";return console.log("[handleAction] Route check:",{hasGame:Rl,hasSPGame:Ei,hasTowerGame:Ur,hasStatus:km,isInGame:za,gameId:Cn,userGameId:Lo==null?void 0:Lo.gameId,userStatus:Lo==null?void 0:Lo.status}),Rl||Ei||Ur?(za||km)&&(console.log("[handleAction] Game found and user status confirmed, routing:",Cn),setTimeout(()=>{window.location.hash=`#/game/${Cn}`},100)):console.log("[handleAction] Game not found yet, will retry:",Cn),wr}),Vm}),ia}),eo}),bt<Pn?setTimeout(so,150):(console.warn("[handleAction] Max attempts reached, routing anyway:",Cn),setTimeout(()=>{window.location.hash=`#/game/${Cn}`},100))};setTimeout(so,200)}}else{let Qe="An unknown error occurred.";try{const Mn=await lt.json();Qe=Mn.message||Mn.error||Qe,console.error(`[handleAction] ${re.type} - HTTP ${lt.status} error:`,Mn)}catch(Mn){console.error(`[handleAction] ${re.type} - Failed to parse error response:`,Mn),Qe=`  (${lt.status})`}jl(Qe),(re.type==="TOGGLE_EQUIP_ITEM"||re.type==="USE_ITEM")&&g(Mn=>Mn+1)}}catch(lt){console.error(`[handleAction] ${re.type} - Exception:`,lt),console.error("[handleAction] Error stack:",lt.stack),jl(lt.message||"    .")}},[o==null?void 0:o.id]),oa=b.useCallback(async()=>{if(!o)return;x.current=!0;const re=o.id;try{const He=await fetch("/api/action",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"LOGOUT",userId:re})});if(He.ok){const $e=await He.json();$e.error&&console.error("[handleLogout] Server error:",$e.error)}else console.error("[handleLogout] HTTP error:",He.status)}catch(He){console.error("[handleLogout] Error during logout action:",He)}a(null),sessionStorage.removeItem("currentUser"),V([]),z({}),G({}),B({}),ne({}),L({}),pe({}),window.location.hash=""},[o]);b.useEffect(()=>{if(!o){R({}),V([]),z({}),ne({});return}let re=null,He=null,$e=!1,Le=!0,On=!1,Wn=!0,ct=[],Vt=null;const _o=Mt=>{switch(Mt){case 1e3:return"Normal Closure";case 1001:return"Going Away";case 1002:return"Protocol Error";case 1003:return"Unsupported Data";case 1006:return"Abnormal Closure (no close frame)";case 1007:return"Invalid Data";case 1008:return"Policy Violation";case 1009:return"Message Too Big";case 1010:return"Missing Extension";case 1011:return"Internal Error";case 1012:return"Service Restart";case 1013:return"Try Again Later";case 1014:return"Bad Gateway";case 1015:return"TLS Handshake";default:return`Unknown (${Mt})`}},Co=(Mt,ut)=>{const Bo=Object.entries(Mt||{}),Ri=Bo.filter(([,ee])=>ee&&typeof ee.nickname=="string"&&ee.nickname.trim().length>0);console.log("[WebSocket] Processing initial state - total users:",Bo.length,"filtered:",Ri.length);const T=Ri.map(([ee,xe])=>[ee,{...xe,mbti:typeof xe.mbti=="string"?xe.mbti:null,inventory:Array.isArray(xe.inventory)?xe.inventory:[]}]);if(Mt&&typeof Mt=="object"&&!Array.isArray(Mt)){R(Object.fromEntries(T)),console.log("[WebSocket] usersMap updated with",T.length,"users");const ee=f.current;if(ee&&Mt[ee.id]){const xe=Mt[ee.id];if(xe){const Ae={...xe,inventory:xe.inventory??ee.inventory,equipment:xe.equipment??ee.equipment};S(Ae,"INITIAL_STATE")}}}else console.warn("[WebSocket] Invalid users data:",Mt),R({});ut&&(ut.onlineUsers!==void 0&&V(ut.onlineUsers||[]),ut.liveGames!==void 0&&z(ut.liveGames||{}),ut.singlePlayerGames!==void 0&&G(ut.singlePlayerGames||{}),ut.towerGames!==void 0&&B(ut.towerGames||{}),ut.negotiations!==void 0&&ne(ut.negotiations||{}),ut.waitingRoomChats!==void 0&&L(ut.waitingRoomChats||{}),ut.gameChats!==void 0&&pe(ut.gameChats||{}),ut.adminLogs!==void 0&&fe(ut.adminLogs||[]),ut.announcements!==void 0&&de(ut.announcements||[]),ut.globalOverrideAnnouncement!==void 0&&ve(ut.globalOverrideAnnouncement||null),ut.gameModeAvailability!==void 0&&Pe(ut.gameModeAvailability||{}),ut.announcementInterval!==void 0&&ye(ut.announcementInterval||3))},ho=()=>{if(!(!Le||!o)){if(On){console.log("[WebSocket] Connection already in progress, skipping...");return}if(re&&re.readyState===WebSocket.OPEN){console.log("[WebSocket] Connection already open, skipping...");return}He&&(clearTimeout(He),He=null),On=!0;try{let Mt=function(Ne,xn=!1){var Tn,tt,yt,lt,Qe,Mn,Et,zt;if(!xn&&!Wn&&!["INITIAL_STATE_START","INITIAL_STATE_CHUNK","INITIAL_STATE","CONNECTION_ESTABLISHED"].includes(Ne.type)){ct.push(Ne);return}switch(Ne.type){case"CONNECTION_ESTABLISHED":console.log("[WebSocket] Connection established, waiting for initial state...");return;case"INITIAL_STATE_START":{console.log("[WebSocket] Receiving chunked initial state (start):",{chunkIndex:Ne.payload.chunkIndex,totalChunks:Ne.payload.totalChunks}),Wn=!1,ct=[],xe(),window.__chunkedStateBuffer={users:{},receivedChunks:0,totalChunks:Ne.payload.totalChunks,otherData:null};const sn=window.__chunkedStateBuffer;Object.assign(sn.users,Ne.payload.users),sn.otherData={onlineUsers:Ne.payload.onlineUsers,liveGames:Ne.payload.liveGames,singlePlayerGames:Ne.payload.singlePlayerGames,towerGames:Ne.payload.towerGames,negotiations:Ne.payload.negotiations,waitingRoomChats:Ne.payload.waitingRoomChats,gameChats:Ne.payload.gameChats,adminLogs:Ne.payload.adminLogs,announcements:Ne.payload.announcements,globalOverrideAnnouncement:Ne.payload.globalOverrideAnnouncement,gameModeAvailability:Ne.payload.gameModeAvailability,announcementInterval:Ne.payload.announcementInterval},sn.receivedChunks++,Ne.payload.isLast&&(Co(sn.users,sn.otherData),window.__chunkedStateBuffer=null,Ae());return}case"INITIAL_STATE_CHUNK":{window.__chunkedStateBuffer||(console.warn("[WebSocket] Received chunk without INITIAL_STATE_START, initializing buffer..."),window.__chunkedStateBuffer={users:{},receivedChunks:0,totalChunks:Ne.payload.totalChunks||0,otherData:null}),Wn=!1,xe();const sn=window.__chunkedStateBuffer;Object.assign(sn.users,Ne.payload.users),sn.receivedChunks++,console.log(`[WebSocket] Received chunk ${sn.receivedChunks}/${sn.totalChunks||"?"} (index ${Ne.payload.chunkIndex})`),Ne.payload.isLast&&(console.log("[WebSocket] All chunks received, processing..."),sn.otherData||(sn.otherData={onlineUsers:Ne.payload.onlineUsers,liveGames:Ne.payload.liveGames,singlePlayerGames:Ne.payload.singlePlayerGames,towerGames:Ne.payload.towerGames,negotiations:Ne.payload.negotiations,waitingRoomChats:Ne.payload.waitingRoomChats,gameChats:Ne.payload.gameChats,adminLogs:Ne.payload.adminLogs,announcements:Ne.payload.announcements,globalOverrideAnnouncement:Ne.payload.globalOverrideAnnouncement,gameModeAvailability:Ne.payload.gameModeAvailability,announcementInterval:Ne.payload.announcementInterval}),Co(sn.users,sn.otherData),window.__chunkedStateBuffer=null,Ae(),console.log("[WebSocket] Chunked initial state processed successfully"));return}case"INITIAL_STATE":{console.log("INITIAL_STATE payload:",Ne.payload),Wn=!1,ct=[],xe();const{users:sn,onlineUsers:hn,liveGames:Fn,singlePlayerGames:Vn,towerGames:pt,negotiations:Dt,waitingRoomChats:Cn,gameChats:xt,adminLogs:bt,announcements:Pn,globalOverrideAnnouncement:so,gameModeAvailability:eo,announcementInterval:Rl}=Ne.payload;Co(sn,{onlineUsers:hn,liveGames:Fn,singlePlayerGames:Vn,towerGames:pt,negotiations:Dt,waitingRoomChats:Cn,gameChats:xt,adminLogs:bt,announcements:Pn,globalOverrideAnnouncement:so,gameModeAvailability:eo,announcementInterval:Rl}),Ae();return}case"USER_UPDATE":{const sn=Ne.payload||{},hn=o?sn[o.id]:void 0;if(R(Fn=>{const Vn={...Fn};return Object.entries(sn).forEach(([pt,Dt])=>{Vn[pt]=Dt}),Vn}),o&&hn&&hn.id===o.id){const Fn=Date.now(),Vn=Fn-N.current,pt=N.current>0,Dt=E.current;if(pt&&Dt&&Vn<j){console.log(`[WebSocket] USER_UPDATE ignored (${Vn}ms since HTTP update with user, debounce: ${j}ms, last action: ${y.current})`);return}if(!Dt&&y.current&&(console.log(`[WebSocket] USER_UPDATE applied immediately (HTTP response had no updatedUser for ${y.current})`),N.current=Fn,E.current=!0),pt&&Dt&&Vn<j*2&&y.current){console.log(`[WebSocket] USER_UPDATE ignored (possible stale data, ${Vn}ms since HTTP update)`);return}const Cn=S(hn,"USER_UPDATE-websocket");console.log("[WebSocket] Applied USER_UPDATE for currentUser:",{inventoryLength:(Tn=Cn.inventory)==null?void 0:Tn.length,gold:Cn.gold,diamonds:Cn.diamonds,equipment:Cn.equipment,actionPoints:Cn.actionPoints})}return}case"USER_STATUS_UPDATE":{R(sn=>{const hn={...sn},Fn=Object.entries(Ne.payload||{}).map(([Vn,pt])=>{let Dt=sn[Vn];if(!Dt){if(Dt=Object.values(sn).find(xt=>(xt==null?void 0:xt.id)===Vn),!Dt){console.warn(`[WebSocket] User ${Vn} not found in usersMap or allUsers`);return}hn[Vn]=Dt}return{...Dt,...pt}}).filter(Boolean);if(V(Fn),o){const Vn=Fn.find(pt=>pt.id===o.id);if(Vn){if(Vn.gameId&&Vn.status==="in-game"){const pt=Vn.gameId;console.log("[WebSocket] Current user status updated to in-game:",pt),z(Dt=>{if(Dt[pt])console.log("[WebSocket] Game found in liveGames, routing immediately"),setTimeout(()=>{window.location.hash=`#/game/${pt}`},100);else{console.log("[WebSocket] Game not in liveGames yet, will wait for GAME_UPDATE");let Cn=0;const xt=20,bt=()=>{Cn++,z(Pn=>(Pn[pt]?(console.log("[WebSocket] Game received in delayed check, routing"),setTimeout(()=>{window.location.hash=`#/game/${pt}`},100)):Cn<xt&&setTimeout(bt,200),Pn))};setTimeout(bt,200)}return Dt})}else if(Vn.status==="waiting"&&Vn.mode&&!Vn.gameId&&window.location.hash.startsWith("#/game/")){const Cn=sessionStorage.getItem("postGameRedirect");if(Cn)console.log("[WebSocket] Current user status updated to waiting, routing to postGameRedirect:",Cn),sessionStorage.removeItem("postGameRedirect"),setTimeout(()=>{window.location.hash=Cn},100);else{const xt=Vn.mode;!xt&&(Vn.status===Nl.Waiting||Vn.status===Nl.Resting)?console.log("[WebSocket] Current user status updated to waiting without mode (likely in strategic/playful lobby)"):xt&&(console.warn("[WebSocket] Individual game mode detected, redirecting to profile:",xt),setTimeout(()=>{window.location.hash="#/profile"},100))}}}}return hn});return}case"WAITING_ROOM_CHAT_UPDATE":{L(sn=>{const hn={...sn};return Object.entries(Ne.payload||{}).forEach(([Fn,Vn])=>{hn[Fn]=Vn}),hn});return}case"GAME_CHAT_UPDATE":{pe(sn=>{const hn={...sn};return Object.entries(Ne.payload||{}).forEach(([Fn,Vn])=>{hn[Fn]=Vn}),hn});return}case"GAME_UPDATE":{Object.entries(Ne.payload||{}).forEach(([sn,hn])=>{const Fn=hn.gameCategory||(hn.isSinglePlayer?"singleplayer":hn.isTower?"tower":"normal");Fn==="singleplayer"?G(Vn=>{const pt=pm(hn);if(H.current[sn]===pt)return Vn;H.current[sn]=pt;const Cn={...Vn};Cn[sn]=hn;const xt=Array.isArray(hn.moveHistory)?hn.moveHistory.slice(Math.max(0,hn.moveHistory.length-4)).map(Pn=>({x:Pn==null?void 0:Pn.x,y:Pn==null?void 0:Pn.y,player:Pn==null?void 0:Pn.player})):null,bt=Array.isArray(hn.boardState)?hn.boardState.map(Pn=>{var so;return((so=Pn==null?void 0:Pn.join)==null?void 0:so.call(Pn,""))??Pn}).slice(0,3):void 0;if(console.debug("[WebSocket][SinglePlayer] GAME_UPDATE",{gameId:sn,stageId:hn.stageId,serverRevision:hn.serverRevision,moveHistoryLength:Array.isArray(hn.moveHistory)?hn.moveHistory.length:void 0,currentPlayer:hn.currentPlayer,gameStatus:hn.gameStatus,lastMove:hn.lastMove,lastMoves:xt,boardSample:bt}),o&&hn.player1&&hn.player2){const Pn=hn.player1.id===o.id,so=hn.player2.id===o.id,eo=h.current,Rl=!!eo&&(eo.gameId===sn||eo.spectatingGameId===sn)&&(eo.status==="in-game"||eo.status==="spectating");if((Pn||so)&&Rl){const ia=`#/game/${sn}`;window.location.hash!==ia&&(console.log("[WebSocket] Routing to single player game:",sn),setTimeout(()=>{window.location.hash!==ia&&(window.location.hash=ia)},100))}}return Cn}):Fn==="tower"?B(Vn=>{const pt=pm(hn);if(Q.current[sn]===pt)return Vn;Q.current[sn]=pt;const Cn={...Vn};if(Cn[sn]=hn,o&&hn.player1&&hn.player2){const xt=hn.player1.id===o.id,bt=hn.player2.id===o.id,Pn=h.current,so=!!Pn&&(Pn.gameId===sn||Pn.spectatingGameId===sn)&&(Pn.status==="in-game"||Pn.status==="spectating");if((xt||bt)&&so){const eo=`#/game/${sn}`;window.location.hash!==eo&&(console.log("[WebSocket] Routing to tower game:",sn),setTimeout(()=>{window.location.hash!==eo&&(window.location.hash=eo)},100))}}return Cn}):z(Vn=>{const pt=pm(hn);if(X.current[sn]===pt)return Vn;X.current[sn]=pt;const Cn={...Vn};if(Cn[sn]=hn,o&&hn.player1&&hn.player2){const xt=hn.player1.id===o.id,bt=hn.player2.id===o.id,Pn=h.current,so=!!Pn&&(Pn.gameId===sn||Pn.spectatingGameId===sn)&&(Pn.status==="in-game"||Pn.status==="spectating");if((xt||bt)&&so){const eo=`#/game/${sn}`;window.location.hash!==eo&&(console.log("[WebSocket] Routing to game:",sn),setTimeout(()=>{window.location.hash!==eo&&(window.location.hash=eo)},100))}}return Cn})});return}case"GAME_DELETED":{const sn=(tt=Ne.payload)==null?void 0:tt.gameId,hn=(yt=Ne.payload)==null?void 0:yt.gameCategory;if(!sn)return;const Fn=(Vn,pt)=>{Vn(Dt=>{if(!Dt[sn])return Dt;const Cn={...Dt};return delete Cn[sn],delete pt[sn],Cn})};if(hn==="singleplayer"?Fn(G,H.current):hn==="tower"?Fn(B,Q.current):hn==="normal"?Fn(z,X.current):(Fn(z,X.current),Fn(G,H.current),Fn(B,Q.current)),hn==="singleplayer"){const Vn=window.location.hash;if(Vn.startsWith("#/game/")&&Vn.includes(sn)){const Dt=sessionStorage.getItem("postGameRedirect");Dt?(console.log("[WebSocket] Single player game deleted, routing to postGameRedirect:",Dt),sessionStorage.removeItem("postGameRedirect"),setTimeout(()=>{window.location.hash=Dt},100)):(console.log("[WebSocket] Single player game deleted, routing to singleplayer lobby"),setTimeout(()=>{window.location.hash="#/singleplayer"},100))}}return}case"CHALLENGE_DECLINED":{((lt=Ne.payload)==null?void 0:lt.challengerId)===(o==null?void 0:o.id)&&((Qe=Ne.payload)!=null&&Qe.declinedMessage)&&jl(Ne.payload.declinedMessage.message);return}case"NEGOTIATION_UPDATE":{if((Mn=Ne.payload)!=null&&Mn.negotiations){const sn=JSON.parse(JSON.stringify(Ne.payload.negotiations));ne(sn)}(Et=Ne.payload)!=null&&Et.userStatuses&&V(sn=>{const hn=Ne.payload.userStatuses;return sn.map(Fn=>{const Vn=hn[Fn.id];return Vn?{...Fn,...Vn}:Fn})});return}case"ANNOUNCEMENT_UPDATE":{const{announcements:sn,globalOverrideAnnouncement:hn}=Ne.payload||{};Array.isArray(sn)&&de(sn),hn!==void 0&&ve(hn);return}case"GAME_MODE_AVAILABILITY_UPDATE":{const{gameModeAvailability:sn}=Ne.payload||{};sn&&Pe(sn);return}case"TOURNAMENT_STATE_UPDATE":{const{tournamentState:sn,tournamentType:hn}=Ne.payload||{};f.current&&sn&&R(Fn=>({...Fn,[f.current.id]:{...Fn[f.current.id],[`last${hn.charAt(0).toUpperCase()+hn.slice(1)}Tournament`]:sn}}));return}case"ERROR":{console.error("[WebSocket] Error message:",((zt=Ne.payload)==null?void 0:zt.message)||"Unknown error");return}default:console.warn("[WebSocket] Unhandled message type:",Ne.type)}};re&&re.readyState!==WebSocket.CLOSED&&(console.log("[WebSocket] Closing existing connection before reconnecting"),$e=!0,re.close(),re=null);let ut;const Bo=window.location.protocol==="https:"?"wss:":"ws:",Ri=window.location.port==="5173",T=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";Ri&&T?ut=`${Bo}//${window.location.host}/ws`:ut=`${Bo}//${window.location.hostname}:4000/ws`,console.log("[WebSocket] Connecting to:",ut),console.log("[WebSocket] Current location:",{protocol:window.location.protocol,hostname:window.location.hostname,port:window.location.port,href:window.location.href});try{re=new WebSocket(ut)}catch(Ne){console.error("[WebSocket] Failed to create WebSocket:",Ne),On=!1,!$e&&Le&&o&&(He=setTimeout(()=>{Le&&o&&!On&&(console.log("[WebSocket] Retrying connection after creation error..."),$e=!1,ho())},3e3));return}let ee=setTimeout(()=>{re&&re.readyState===WebSocket.CONNECTING&&(console.warn("[WebSocket] Connection timeout, closing..."),re.close()),ee=null},3e4);re.onopen=()=>{console.log("[WebSocket] Connected successfully"),$e=!1,On=!1,ee&&(clearTimeout(ee),ee=null)};const xe=()=>{Vt&&clearTimeout(Vt),Vt=setTimeout(()=>{if(!Wn){console.warn("[WebSocket] Initial state chunks timeout, forcing completion.");const Ne=window.__chunkedStateBuffer,xn=(Ne==null?void 0:Ne.users)||{},fn=(Ne==null?void 0:Ne.otherData)||{};window.__chunkedStateBuffer=null,Co(xn,fn),Ae()}},1e4)},Ae=()=>{if(Vt&&(clearTimeout(Vt),Vt=null),!Wn&&(Wn=!0,ct.length>0)){const Ne=ct;ct=[],Ne.forEach(xn=>Mt(xn,!0))}};re.onmessage=Ne=>{try{const xn=JSON.parse(Ne.data);Mt(xn)}catch(xn){console.error("[WebSocket] Error parsing message:",xn)}},re.onerror=Ne=>{const xn=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168"),fn=re?re.readyState:-1;if(fn===WebSocket.CONNECTING||fn===WebSocket.CLOSING?xn&&console.debug("[WebSocket] Connection error during state transition (will reconnect automatically)"):xn&&console.debug("[WebSocket] Connection error detected (will attempt to reconnect)"),On=!1,ee&&(clearTimeout(ee),ee=null),re&&re.readyState===WebSocket.CONNECTING)try{re.close()}catch{xn&&console.debug("[WebSocket] Error closing failed connection")}!$e&&Le&&o&&(xn&&console.debug("[WebSocket] Will attempt to reconnect in 3 seconds..."),He&&clearTimeout(He),He=setTimeout(()=>{Le&&o&&!On&&(xn&&console.debug("[WebSocket] Attempting to reconnect after error..."),$e=!1,ho())},3e3))},re.onclose=Ne=>{On=!1,ee&&(clearTimeout(ee),ee=null),Vt&&(clearTimeout(Vt),Vt=null),ct=[],Wn=!0,console.log("[WebSocket] Disconnected",{code:Ne.code,reason:Ne.reason,wasClean:Ne.wasClean,codeMeaning:_o(Ne.code),wasIntentional:$e}),!$e&&Le&&o?(console.log("[WebSocket] Will attempt to reconnect in 3 seconds..."),He=setTimeout(()=>{Le&&o&&!On&&(console.log("[WebSocket] Attempting to reconnect..."),$e=!1,ho())},3e3)):console.log("[WebSocket] Not reconnecting:",{isIntentionalClose:$e,shouldReconnect:Le,hasCurrentUser:!!o,isConnecting:On})}}catch(Mt){On=!1,console.error("[WebSocket] Failed to create connection:",Mt),Le&&o&&(He=setTimeout(()=>{Le&&o&&!On&&ho()},3e3))}}};return ho(),()=>{Le=!1,$e=!0,He&&(clearTimeout(He),He=null),Vt&&(clearTimeout(Vt),Vt=null),ct=[],Wn=!0,re&&((re.readyState===WebSocket.OPEN||re.readyState===WebSocket.CONNECTING)&&re.close(),re=null)}},[o==null?void 0:o.id]);const Ml=b.useRef(!1);b.useEffect(()=>{u.current=c},[c]),b.useEffect(()=>{const re=()=>{const He=u.current,$e=Iy(window.location.hash);if(He.view==="profile"&&$e.view==="login"&&window.location.hash===""&&o)if(nt)oa();else{un(!0),qn.current=window.setTimeout(()=>un(!1),2e3),window.history.pushState(null,"","#/profile");return}else qn.current&&clearTimeout(qn.current),nt&&un(!1);m($e)};return window.addEventListener("hashchange",re),()=>window.removeEventListener("hashchange",re)},[o,oa,nt]),b.useEffect(()=>{var $e;if(!o){Ml.current=!1,window.location.hash&&window.location.hash!=="#/register"&&(window.location.hash="");return}const re=window.location.hash;if(!Ml.current&&(Ml.current=!0,re===""||re==="#/")){if(qo){window.location.hash=`#/game/${qo.id}`;return}window.location.hash="#/profile";return}const He=re.startsWith("#/game/");if(qo&&!He)console.log("[useApp] Routing to game:",qo.id),window.location.hash=`#/game/${qo.id}`;else if(!qo&&He&&!(re.startsWith("#/game/")&&(($e=$[re.replace("#/game/","")])==null?void 0:$e.isAiGame))){let On="#/profile";(Nt==null?void 0:Nt.status)==="waiting"&&(Nt!=null&&Nt.mode)&&(On=`#/waiting/${encodeURIComponent(Nt.mode)}`),re!==On&&(window.location.hash=On)}},[o,qo,Nt,$]),b.useEffect(()=>{const re=()=>document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`);return re(),window.addEventListener("resize",re),window.addEventListener("orientationchange",re),()=>{window.removeEventListener("resize",re),window.removeEventListener("orientationchange",re)}},[]),b.useEffect(()=>{if(mt){const re=setTimeout(()=>{Bt(null)},5e3);return()=>clearTimeout(re)}},[mt]);const jt=re=>{Ci({type:"ENTER_WAITING_ROOM",payload:{mode:re}}),window.location.hash=`#/waiting/${encodeURIComponent(re)}`},_s=b.useCallback(re=>{if(!Array.isArray(O)||!Array.isArray(ti))return;const He=O.find($e=>$e&&$e.id===re)||ti.find($e=>$e&&$e.id===re);if(He){const $e=O.find(Le=>Le&&Le.id===re);Xe({...He,...$e||{status:Nl.Online}})}},[O,ti]),Bi=b.useCallback(re=>{if(!Array.isArray(O)||!Array.isArray(ti))return;const He=O.find($e=>$e&&$e.id===re)||ti.find($e=>$e&&$e.id===re);if(He){const $e=O.find(Le=>Le&&Le.id===re);Lt({...He,...$e||{status:Nl.Online}})}},[O,ti]),Qn=b.useCallback(()=>Lt(null),[]),Oa=b.useCallback(re=>{var $e;const He=S(re,"setCurrentUserAndRoute");console.log("[setCurrentUserAndRoute] User set:",{id:He.id,inventoryLength:($e=He.inventory)==null?void 0:$e.length,equipmentSlots:Object.keys(He.equipment||{}).length,hasInventory:!!He.inventory,hasEquipment:!!He.equipment}),window.location.hash="#/profile"},[S]),jo=b.useCallback(re=>{_i(re),Dl("enhance"),Io(!0)},[]),Cl=b.useCallback(re=>{_i(re),Dl("enhance"),Io(!0)},[]),tl=b.useCallback((re,He)=>{En({item:re,isOwnedByCurrentUser:He})},[]),Bs=b.useCallback(()=>{if(It!=null&&It.success){const re=It.itemAfter;En($e=>$e&&re&&$e.item.id===re.id?{...$e,item:re}:$e);const He=f.current;if(He&&Array.isArray(He.inventory)){const $e=He.inventory.map(Le=>Le.id===re.id?re:Le);bm.flushSync(()=>{S({inventory:$e},"clearEnhancementOutcome")})}}Xt(null)},[It,S]),oo=b.useCallback(()=>{na(!1),Xt(null)},[]),Gt=b.useCallback(()=>{yn(!1),Bn(null)},[]),Ar=b.useCallback(re=>{Ci({type:"APPLY_PRESET",payload:{presetName:re.name,equipment:re.equipment}})},[Ci]),oi=b.useMemo(()=>(o==null?void 0:o.equipmentPresets)||[],[o==null?void 0:o.equipmentPresets]),{mainOptionBonuses:Mo,combatSubOptionBonuses:pi,specialStatBonuses:Ls,aggregatedMythicStats:Ga}=b.useMemo(()=>{const re={mainOptionBonuses:{},combatSubOptionBonuses:{},specialStatBonuses:{},aggregatedMythicStats:{}};return!Nt||!Nt.equipment||!Nt.inventory||!Array.isArray(Nt.inventory)?re:Nt.inventory.filter(Le=>Le&&Nt.equipment&&Object.values(Nt.equipment).includes(Le.id)).reduce((Le,On)=>{if(!On.options)return Le;if(On.options.main){const Wn=On.options.main.type;Le.mainOptionBonuses[Wn]||(Le.mainOptionBonuses[Wn]={value:0,isPercentage:On.options.main.isPercentage}),Le.mainOptionBonuses[Wn].value+=On.options.main.value}return On.options.combatSubs.forEach(Wn=>{const ct=Wn.type;Le.combatSubOptionBonuses[ct]||(Le.combatSubOptionBonuses[ct]={value:0,isPercentage:Wn.isPercentage}),Le.combatSubOptionBonuses[ct].value+=Wn.value}),On.options.specialSubs.forEach(Wn=>{const ct=Wn.type;Le.specialStatBonuses[ct]||(Le.specialStatBonuses[ct]={flat:0,percent:0}),Wn.isPercentage?Le.specialStatBonuses[ct].percent+=Wn.value:Le.specialStatBonuses[ct].flat+=Wn.value}),On.options.mythicSubs.forEach(Wn=>{const ct=Wn.type;Le.aggregatedMythicStats[ct]||(Le.aggregatedMythicStats[ct]={count:0,totalValue:0}),Le.aggregatedMythicStats[ct].count++,Le.aggregatedMythicStats[ct].totalValue+=Wn.value}),Le},re)},[Nt]);return{currentUser:o,presets:oi,setCurrentUserAndRoute:Oa,currentUserWithStatus:Nt,updateTrigger:v,currentRoute:c,error:p,allUsers:ti,onlineUsers:O,liveGames:$,negotiations:Z,waitingRoomChats:le,gameChats:ue,adminLogs:ie,gameModeAvailability:W,announcements:me,globalOverrideAnnouncement:Ge,announcementInterval:an,activeGame:qo,activeNegotiation:La,showExitToast:nt,enhancementResult:mt,enhancementOutcome:It,unreadMailCount:Er,hasClaimableQuest:$a,settings:M,updateTheme:Cr,updateSoundSetting:Sl,updateFeatureSetting:nl,updatePanelColor:Rr,updateTextColor:ta,updatePanelEdgeStyle:Ba,resetGraphicsToDefault:Mi,mainOptionBonuses:Mo,combatSubOptionBonuses:pi,specialStatBonuses:Ls,aggregatedMythicStats:Ga,modals:{isSettingsModalOpen:De,isInventoryOpen:Ie,isMailboxOpen:K,isQuestsOpen:ke,isShopOpen:be,shopInitialTab:Re,lastUsedItemResult:Se,disassemblyResult:Dn,craftResult:Be,rewardSummary:Ee,viewingUser:zn,isInfoModalOpen:nn,isEncyclopediaOpen:Nn,isStatAllocationModalOpen:on,enhancementAnimationTarget:Ft,pastRankingsInfo:Fo,viewingItem:rn,isProfileEditModalOpen:An,moderatingUser:$t,isClaimAllSummaryOpen:ln,claimAllSummary:Ln,isMbtiInfoModalOpen:go,isEquipmentEffectsModalOpen:fi,isBlacksmithModalOpen:yl,blacksmithSelectedItemForEnhancement:it,blacksmithActiveTab:Mr,combinationResult:el,isBlacksmithHelpOpen:Ia,enhancingItem:te,isEnhancementResultModalOpen:_a,tournamentScoreChange:tn},handlers:{handleAction:Ci,handleLogout:oa,handleEnterWaitingRoom:jt,applyPreset:Ar,openSettingsModal:()=>We(!0),closeSettingsModal:()=>We(!1),openInventory:()=>Je(!0),closeInventory:()=>Je(!1),openMailbox:()=>J(!0),closeMailbox:()=>J(!1),openQuests:()=>Te(!0),closeQuests:()=>Te(!1),openShop:re=>{Ze(re),Ce(!0)},closeShop:()=>{Ce(!1),Ze(void 0)},closeItemObtained:()=>{Fe(null),Rn(null)},closeDisassemblyResult:()=>Ue(null),closeCraftResult:()=>qe(null),closeCombinationResult:()=>Zl(null),closeRewardSummary:()=>ze(null),closeClaimAllSummary:Gt,openViewingUser:_s,closeViewingUser:()=>Xe(null),openInfoModal:()=>Sn(!0),closeInfoModal:()=>Sn(!1),openEncyclopedia:()=>wn(!0),closeEncyclopedia:()=>wn(!1),openStatAllocationModal:()=>$n(!0),closeStatAllocationModal:()=>$n(!1),openProfileEditModal:()=>Qt(!0),closeProfileEditModal:()=>Qt(!1),openPastRankings:re=>ji(re),closePastRankings:()=>ji(null),openViewingItem:tl,closeViewingItem:()=>En(null),openEnhancingItem:jo,openEnhancementFromDetail:Cl,clearEnhancementOutcome:Bs,clearEnhancementAnimation:()=>Zt(null),openModerationModal:Bi,closeModerationModal:Qn,openMbtiInfoModal:()=>di(!0),closeMbtiInfoModal:()=>di(!1),openEquipmentEffectsModal:()=>Yt(!0),closeEquipmentEffectsModal:()=>Yt(!1),openBlacksmithModal:()=>Io(!0),closeBlacksmithModal:()=>{Io(!1),_i(null),Dl("enhance")},openBlacksmithHelp:()=>ea(!0),closeBlacksmithHelp:()=>ea(!1),setBlacksmithActiveTab:Dl,closeEnhancementModal:oo}}},aS=b.createContext(void 0),gw=({children:o})=>{const a=xw();return e.jsxDEV(aS.Provider,{value:a,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/contexts/AppContext.tsx",lineNumber:14,columnNumber:9},void 0)},ot=()=>{const o=b.useContext(aS);if(o===void 0)throw new Error("useAppContext must be used within an AppProvider");return o},tx={gold:new URL("/images/icon/Gold.png",import.meta.url).href,diamonds:new URL("/images/icon/Zem.png",import.meta.url).href,actionPlus:new URL("/images/icon/applus.png",import.meta.url).href},Jd={gold:tx.gold,diamonds:tx.diamonds,actionPlus:tx.actionPlus},hw={gold:"",diamonds:""},Nx=b.memo(({icon:o,value:a,className:c})=>{const m=b.useMemo(()=>a.toLocaleString(),[a]);return e.jsxDEV("div",{className:`flex items-center gap-1 sm:gap-2 bg-tertiary/50 rounded-full py-1 pl-1 pr-2 sm:pr-3 shadow-inner flex-shrink-0 ${c??""}`,children:[e.jsxDEV("div",{className:"bg-primary w-7 h-7 flex items-center justify-center rounded-full text-lg flex-shrink-0",children:e.jsxDEV("img",{src:Jd[o],alt:hw[o],className:"w-5 h-5 object-contain",loading:"lazy",decoding:"async"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:21,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:20,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-bold text-[9px] sm:text-sm text-primary whitespace-nowrap",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:23,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:19,columnNumber:9},void 0)});Nx.displayName="ResourceDisplay";const rS=({user:o})=>{const{actionPoints:a,lastActionPointUpdate:c}=o,[m,u]=b.useState("");if(!a)return null;const p=b.useMemo(()=>iS(o).actionPointRegenInterval,[o]);return b.useEffect(()=>{if(!a||a.current>=a.max){u("");return}const s=()=>{const v=c+p,g=Math.max(0,v-Date.now()),f=Math.floor(g/1e3),h=Math.floor(f/60),N=f%60;u(`${String(h).padStart(2,"0")}:${String(N).padStart(2,"0")}`)};s();const x=setInterval(s,1e3);return()=>clearInterval(x)},[a.current,a.max,c,p]),m?e.jsxDEV("span",{className:"text-[8px] sm:text-xs text-tertiary font-mono text-center whitespace-nowrap",children:["(",m,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:60,columnNumber:12},void 0):null},vw=()=>{const{currentUserWithStatus:o,handlers:a,unreadMailCount:c}=ot();if(!o)return null;const{handleLogout:m,openShop:u,openSettingsModal:p,openProfileEditModal:s,openMailbox:x}=a,{actionPoints:v,gold:g,diamonds:f,isAdmin:h,avatarId:N,borderId:y,mbti:E}=o,j=v||{current:0,max:30},U=g??0,S=f??0,M=b.useMemo(()=>{var w;return(w=Jn.find(R=>R.id===N))==null?void 0:w.url},[N]),C=b.useMemo(()=>{var w;return(w=Zn.find(R=>R.id===y))==null?void 0:w.url},[y]);return e.jsxDEV("header",{className:"flex-shrink-0 bg-primary/80 backdrop-blur-sm shadow-lg",children:e.jsxDEV("div",{className:"p-2.5 sm:p-3 flex flex-wrap sm:flex-nowrap items-start sm:items-center gap-2 sm:gap-3 min-h-[70px] sm:min-h-[75px]",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0 min-w-0 cursor-pointer relative",onClick:s,children:[e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:M,borderUrl:C,size:40},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:85,columnNumber:22},void 0),e.jsxDEV("div",{className:"hidden sm:block min-w-0",children:[e.jsxDEV("h1",{className:"font-bold text-primary truncate whitespace-nowrap",children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:87,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-tertiary truncate whitespace-nowrap",children:[" Lv.",o.strategyLevel," /  Lv.",o.playfulLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:88,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:86,columnNumber:22},void 0),!E&&e.jsxDEV("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:91,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:84,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 w-full sm:w-auto flex flex-wrap sm:flex-nowrap items-center justify-end gap-1 sm:gap-2",children:[e.jsxDEV("div",{className:"flex items-center flex-shrink-0 gap-1 bg-tertiary/60 rounded-full pl-2 pr-1 py-1 border border-tertiary/40 shadow-inner",children:[e.jsxDEV("span",{className:"flex items-center gap-1 font-bold text-[9px] sm:text-xs text-primary whitespace-nowrap",children:[e.jsxDEV("span",{className:"text-base leading-none",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:98,columnNumber:29},void 0),`${j.current}/${j.max}`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:97,columnNumber:25},void 0),e.jsxDEV(rS,{user:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:101,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>u("misc"),className:"flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-primary/70 hover:bg-primary transition-colors border border-primary/60 flex items-center justify-center",title:"  ()",children:e.jsxDEV("img",{src:Jd.actionPlus,alt:" ",className:"w-4 h-4 sm:w-5 sm:h-5 object-contain",loading:"lazy",decoding:"async"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:107,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:102,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:96,columnNumber:21},void 0),e.jsxDEV(Nx,{icon:"gold",value:U,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:110,columnNumber:21},void 0),e.jsxDEV(Nx,{icon:"diamonds",value:S,className:"flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:111,columnNumber:21},void 0),e.jsxDEV("div",{className:"h-9 w-px bg-border-color mx-1 sm:mx-2 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:113,columnNumber:21},void 0),h&&e.jsxDEV(ae,{onClick:()=>window.location.hash="#/admin",colorScheme:"none",className:"flex-shrink-0 whitespace-nowrap !px-3 !py-1.5 text-[9px] sm:text-xs rounded-lg border border-indigo-300/50 bg-gradient-to-r from-indigo-500/85 via-sky-500/80 to-cyan-400/80 text-white shadow-[0_10px_24px_-18px_rgba(59,130,246,0.55)] hover:-translate-y-0.5 hover:shadow-[0_16px_32px_-18px_rgba(96,165,250,0.6)]",style:{letterSpacing:"0.08em"},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:116,columnNumber:25},void 0),e.jsxDEV("button",{onClick:x,className:"relative p-2 rounded-lg text-xl hover:bg-secondary transition-colors",title:"",children:[e.jsxDEV("img",{src:"/images/icon/mail.png",alt:"",className:"w-6 h-6"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:130,columnNumber:25},void 0),c>0&&e.jsxDEV("span",{className:"absolute top-1 right-1 bg-red-500 rounded-full w-2.5 h-2.5 border-2 border-primary"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:132,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:125,columnNumber:21},void 0),e.jsxDEV("button",{onClick:p,className:"p-2 rounded-lg text-xl hover:bg-secondary transition-colors",title:"",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:135,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:m,colorScheme:"none",className:"whitespace-nowrap !px-3 !py-1.5 text-[9px] sm:text-xs rounded-lg border border-rose-300/55 bg-gradient-to-r from-rose-500/85 via-red-500/80 to-orange-400/80 text-white shadow-[0_10px_22px_-18px_rgba(248,113,113,0.55)] hover:-translate-y-0.5 hover:shadow-[0_16px_30px_-16px_rgba(248,113,113,0.6)]",style:{letterSpacing:"0.08em"},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:142,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Header.tsx",lineNumber:82,columnNumber:9},void 0)},yw=()=>{const{setCurrentUserAndRoute:o}=ot(),[a,c]=b.useState(""),[m,u]=b.useState(""),[p,s]=b.useState(null),[x,v]=b.useState(!1),g=async f=>{if(f.preventDefault(),!a.trim()||!m.trim()){s("   .");return}v(!0),s(null);try{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:m})});if(!h.ok){let y=`  (${h.statusText})`;try{const E=await h.json();E&&E.message&&(y=E.message)}catch(E){console.error("Login failed with a non-JSON response body.",E)}throw new Error(y)}const N=await h.json();o(N.user)}catch(h){s(h.message)}finally{v(!1)}};return e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV("div",{className:"w-full max-w-sm p-6 space-y-6 bg-gray-800 rounded-lg shadow-2xl border border-color",children:[e.jsxDEV("div",{children:e.jsxDEV("p",{className:"mt-2 text-center text-gray-400",children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV("form",{className:"mt-8 space-y-6",onSubmit:g,children:[e.jsxDEV("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username-login",className:"sr-only",children:"Username"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:59,columnNumber:15},void 0),e.jsxDEV("input",{id:"username-login",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"",value:a,onChange:f=>c(f.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:60,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:58,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password-login",className:"sr-only",children:"Password"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:73,columnNumber:15},void 0),e.jsxDEV("input",{id:"password-login",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"",value:m,onChange:f=>u(f.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:74,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:72,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:57,columnNumber:11},void 0),p&&e.jsxDEV("p",{className:"text-sm text-red-400 text-center",children:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:88,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full flex justify-center",children:e.jsxDEV(ae,{type:"submit",disabled:x,className:"w-full py-3 text-lg",children:x?" ...":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:91,columnNumber:14},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:90,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:56,columnNumber:9},void 0),e.jsxDEV("div",{className:"text-sm text-center",children:e.jsxDEV("a",{href:"#/register",onClick:f=>{f.preventDefault(),window.location.hash="#/register"},className:"font-medium text-blue-400 hover:text-blue-300",children:" ? "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:100,columnNumber:10},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:e.jsxDEV("div",{className:"w-full border-t border-gray-600"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:108,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:107,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative flex justify-center text-sm",children:e.jsxDEV("span",{className:"px-2 bg-gray-800 text-gray-400",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:111,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:110,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:106,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-center gap-3",children:[e.jsxDEV(ae,{disabled:!0,colorScheme:"yellow",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:116,columnNumber:14},void 0),e.jsxDEV(ae,{disabled:!0,colorScheme:"gray",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:117,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:115,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:52,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Login.tsx",lineNumber:51,columnNumber:5},void 0)},Dw=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Am=o=>{if(!o)return!1;const a=o.toLowerCase().replace(/\s/g,"");return Dw.some(c=>a.includes(c))},Sw=()=>{const{setCurrentUserAndRoute:o}=ot(),[a,c]=b.useState(""),[m,u]=b.useState(""),[p,s]=b.useState(""),[x,v]=b.useState(""),[g,f]=b.useState(null),[h,N]=b.useState(!1),y=async E=>{if(E.preventDefault(),f(null),!a.trim()||!m.trim()||!p.trim()){f("  .");return}if(a.trim().length<2){f(" 2  .");return}if(p.trim().length<4){f(" 4  .");return}if(p!==x){f("  .");return}if(Am(a)||Am(m)){f("      .");return}N(!0);try{const j=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,nickname:m,password:p})});if(!j.ok){let S=`  (${j.statusText})`;try{S=(await j.json()).message||S}catch(M){console.error("Could not parse error response as JSON",M)}throw new Error(S)}const U=await j.json();o(U.user)}catch(j){f(j.message)}finally{N(!1)}};return e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-2xl border border-color",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-center text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:75,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-center text-gray-400",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:76,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:74,columnNumber:17},void 0),e.jsxDEV("form",{className:"mt-8 space-y-4",onSubmit:y,children:[e.jsxDEV("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username-register",className:"sr-only",children:"Username"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:81,columnNumber:29},void 0),e.jsxDEV("input",{id:"username-register",name:"username",type:"text",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"",value:a,onChange:E=>c(E.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:80,columnNumber:26},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"nickname-register",className:"sr-only",children:"Nickname"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:94,columnNumber:29},void 0),e.jsxDEV("input",{id:"nickname-register",name:"nickname",type:"text",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"",value:m,onChange:E=>u(E.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:95,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:93,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password-register",className:"sr-only",children:"Password"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:107,columnNumber:29},void 0),e.jsxDEV("input",{id:"password-register",name:"password",type:"password",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"",value:p,onChange:E=>s(E.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:108,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:106,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password-confirm",className:"sr-only",children:"Confirm Password"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:120,columnNumber:29},void 0),e.jsxDEV("input",{id:"password-confirm",name:"passwordConfirm",type:"password",required:!0,className:"appearance-none rounded-md relative block w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:" ",value:x,onChange:E=>v(E.target.value)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:121,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:119,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:79,columnNumber:21},void 0),g&&e.jsxDEV("p",{className:"text-sm text-red-400 text-center",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:134,columnNumber:31},void 0),e.jsxDEV("div",{className:"w-full flex justify-center",children:e.jsxDEV(ae,{type:"submit",disabled:h,className:"w-full py-3 text-lg",children:h?" ...":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:137,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:136,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:78,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-sm text-center",children:e.jsxDEV("a",{href:"#",onClick:E=>{E.preventDefault(),window.location.hash=""},className:"font-medium text-blue-400 hover:text-blue-300",children:"  ? "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:147,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:146,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:73,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Register.tsx",lineNumber:72,columnNumber:9},void 0)},Xd="/images/Base.png",Zd="/images/Base.png",Sx="/images/Hidden.png",jx="/images/Hidden.png",sS="/images/RatingArena.png",cS="/images/PlayingArena.png",mS="/images/Championship.png",uS="/images/single/Map.png",dS="/images/tower/Tower.png",ox="draggableWindowSettings",mn=({title:o,windowId:a,onClose:c,children:m,initialWidth:u=500,initialHeight:p,modal:s=!0,closeOnOutsideClick:x=!0,isTopmost:v=!0,headerContent:g,zIndex:f=50})=>{const[h,N]=b.useState({x:0,y:0}),[y,E]=b.useState(!1),j=b.useRef({x:0,y:0}),U=b.useRef({x:0,y:0}),[S,M]=b.useState(!1),C=b.useRef(h),[w,R]=b.useState(window.innerWidth<768),[O,V]=b.useState(!0),[$,z]=b.useState(1),P=b.useRef(null),G=b.useCallback(de=>{c&&x&&v&&P.current&&!P.current.contains(de.target)&&c()},[c,x,v]);b.useEffect(()=>{if(s&&c)return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[s,c,G]),b.useEffect(()=>{const de=()=>{const ve=window.innerWidth<768;if(R(ve),ve){N({x:0,y:0});try{const an=JSON.parse(localStorage.getItem("draggableWindowPositions")||"{}");delete an[a],localStorage.setItem("draggableWindowPositions",JSON.stringify(an))}catch(an){console.error("Failed to clear mobile position",an)}}},Ge=()=>{B(window.innerWidth),H(window.innerHeight),de()};return window.addEventListener("resize",Ge),de(),()=>window.removeEventListener("resize",Ge)},[a]);const[q,B]=b.useState(window.innerWidth),[X,H]=b.useState(window.innerHeight),Q=b.useMemo(()=>{if(!u)return;const de=u,Ge=q/1920;return Math.max(400,Math.min(de,de*Ge))},[u,q]),Z=b.useMemo(()=>{if(!p)return;const de=p,Ge=X/1080;return Math.max(300,Math.min(de,de*Ge))},[p,X]);b.useEffect(()=>{const de=()=>{if(w){z(1);return}z(1)};return window.addEventListener("resize",de),de(),()=>window.removeEventListener("resize",de)},[w]),b.useEffect(()=>{C.current=h},[h]),b.useEffect(()=>{try{const Ge=JSON.parse(localStorage.getItem(ox)||"{}").rememberPosition??!0;if(V(Ge),Ge&&!w){const ve=JSON.parse(localStorage.getItem("draggableWindowPositions")||"{}");ve[a]?N(ve[a]):N({x:0,y:0})}else N({x:0,y:0})}catch(de){console.error("Failed to load window settings from localStorage",de),N({x:0,y:0})}M(!0)},[a,w]);const ne=b.useCallback((de,Ge)=>{E(!0),j.current={x:de,y:Ge},U.current=C.current},[]),le=b.useCallback(de=>{!v||de.button!==0||ne(de.clientX,de.clientY)},[ne,v]),L=b.useCallback(de=>{if(!v)return;const Ge=de.touches[0];ne(Ge.clientX,Ge.clientY)},[ne,v]),ue=b.useCallback((de,Ge)=>{if(!y||!P.current)return;const ve=de-j.current.x,an=Ge-j.current.y;let ye=U.current.x+ve,De=U.current.y+an;const{offsetWidth:We,offsetHeight:Ie}=P.current,{innerWidth:Je,innerHeight:K}=window,J=We/2,ke=Ie/2,Te=-(Je/2)+J,be=Je/2-J,Ce=50;let Re,Ze;Ie<=K?(Re=-(K/2)+ke,Ze=K/2-ke):(Re=-(K/2)-ke+Ce,Ze=K/2+ke-Ce),ye=Math.max(Te,Math.min(ye,be)),De=Math.max(Re,Math.min(De,Ze)),N({x:ye,y:De})},[y]),pe=b.useCallback(de=>{ue(de.clientX,de.clientY)},[ue]),ie=b.useCallback(de=>{if(y){const Ge=de.touches[0];ue(Ge.clientX,Ge.clientY)}},[y,ue]),fe=b.useCallback(()=>{if(y&&(E(!1),O&&!w))try{const de=JSON.parse(localStorage.getItem("draggableWindowPositions")||"{}");de[a]=C.current,localStorage.setItem("draggableWindowPositions",JSON.stringify(de))}catch(de){console.error("Failed to save window position to localStorage",de)}},[y,a,O,w]);b.useEffect(()=>(y&&(window.addEventListener("mousemove",pe),window.addEventListener("mouseup",fe),window.addEventListener("touchmove",ie),window.addEventListener("touchend",fe)),()=>{window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",fe),window.removeEventListener("touchmove",ie),window.removeEventListener("touchend",fe)}),[y,pe,ie,fe]);const W=de=>{const Ge=de.target.checked;V(Ge);try{const ve=JSON.parse(localStorage.getItem(ox)||"{}");if(ve.rememberPosition=Ge,localStorage.setItem(ox,JSON.stringify(ve)),!Ge){N({x:0,y:0});const an=JSON.parse(localStorage.getItem("draggableWindowPositions")||"{}");delete an[a],localStorage.setItem("draggableWindowPositions",JSON.stringify(an))}}catch(ve){console.error("Failed to save remember position setting",ve)}},Pe=`translate(calc(-50% + ${h.x}px), calc(-50% + ${h.y}px)) scale(${y?$*1.02:$})`;if(!S)return null;const me=v?"cursor-move":"";return e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV("div",{className:`fixed inset-0 z-40 bg-black/50 ${v?"":"backdrop-blur-sm"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:483,columnNumber:18},void 0),e.jsxDEV("div",{ref:P,className:"fixed top-1/2 left-1/2 bg-primary rounded-xl shadow-2xl border border-color flex flex-col text-on-panel",style:{width:w?"95vw":Q?`${Q}px`:u?`${u}px`:void 0,minWidth:w?"95vw":Q?`${Q}px`:u?`${Math.max(400,u)}px`:"400px",maxWidth:w?"95vw":"calc(100vw - 40px)",height:w?void 0:Z?`${Z}px`:p?`${p}px`:void 0,maxHeight:w?"85vh":"90vh",transform:Pe,transformOrigin:"center",boxShadow:y?"0 25px 50px -12px rgba(0, 0, 0, 0.5)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",zIndex:f},children:["                ",!v&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/30 z-20 rounded-xl cursor-not-allowed"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:517,columnNumber:21},void 0),e.jsxDEV("div",{className:`bg-secondary p-3 rounded-t-xl flex justify-between items-center ${me}`,style:{touchAction:"none"},onMouseDown:le,onTouchStart:L,children:[e.jsxDEV("h2",{className:"text-lg font-bold text-secondary select-none",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:532,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[g,c&&e.jsxDEV("button",{onClick:de=>{de.stopPropagation(),c()},className:"w-10 h-10 flex items-center justify-center rounded-full bg-tertiary hover:bg-danger transition-colors z-30",style:{pointerEvents:"auto",cursor:"pointer"},children:e.jsxDEV("span",{className:"text-white font-bold text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:549,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:540,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:534,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:521,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow h-full overflow-hidden flex flex-col p-4",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:559,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 p-2 border-t border-color flex justify-end items-center bg-secondary rounded-b-xl",children:e.jsxDEV("label",{className:"flex items-center text-xs text-tertiary gap-2 cursor-pointer select-none",children:[e.jsxDEV("input",{type:"checkbox",checked:O,onChange:W,className:"w-4 h-4 bg-tertiary border-color rounded focus:ring-accent"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:569,columnNumber:25},void 0),"  "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:567,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:565,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:487,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DraggableWindow.tsx",lineNumber:479,columnNumber:9},void 0)},jw=({currentUser:o,statsType:a,onClose:c,onAction:m})=>{const u=a==="strategic",p=u?"   ":"   ",s=u?st:dt,{stats:x,diamonds:v}=o,g=300,f=500,h=v>=g,N=v>=f,y=j=>{h&&window.confirm(` ${g}  '${j}'   ?`)&&m({type:"RESET_SINGLE_STAT",payload:{mode:j}})},E=()=>{if(!N)return;const j=u?"":"";window.confirm(` ${f}   '${j}'   ?`)&&m({type:"RESET_STATS_CATEGORY",payload:{category:a}})};return e.jsxDEV(mn,{title:p,onClose:c,windowId:"detailed-stats",initialWidth:600,children:[e.jsxDEV("div",{className:"max-h-[calc(var(--vh,1vh)*60)] overflow-y-auto pr-2",children:e.jsxDEV("ul",{className:"space-y-3",children:s.map(({mode:j})=>{const U=x==null?void 0:x[j];if(!U||U.wins===0&&U.losses===0)return null;const S=U.wins+U.losses,M=S>0?Math.round(U.wins/S*100):0;return e.jsxDEV("li",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-yellow-300 mb-2",children:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:56,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>y(j),disabled:!h,className:"!text-xs !py-1",colorScheme:"orange",title:`:  ${g}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:57,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:55,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-center",children:[e.jsxDEV("div",{className:"bg-gray-800 p-2 rounded-md",children:[e.jsxDEV("p",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:61,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:[U.wins," ",U.losses,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:62,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:60,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-gray-800 p-2 rounded-md",children:[e.jsxDEV("p",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:65,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:[M,"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:66,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:64,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-gray-800 p-2 rounded-md",children:[e.jsxDEV("p",{className:"text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:69,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:[U.rankingScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:70,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:68,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:59,columnNumber:33},void 0)]},j,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:54,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:45,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:44,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-700 text-center",children:[e.jsxDEV("p",{className:"text-sm mb-2 text-gray-300",children:[" :",e.jsxDEV("span",{className:"font-bold text-cyan-300 ml-2 flex items-center justify-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:81,columnNumber:107},void 0)," ",v.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:81,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:79,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:E,colorScheme:"red",disabled:!N,title:`:  ${f}`,children:[u?"":"","   "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:83,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DetailedStatsModal.tsx",lineNumber:43,columnNumber:9},void 0)},By=[{name:"",min:0,max:0},{name:" ",min:1,max:49},{name:"",min:50,max:99},{name:"",min:100,max:199},{name:"",min:200,max:399},{name:"",min:400,max:799},{name:" ",min:800,max:1199},{name:"",min:1200,max:1599},{name:"",min:1600,max:1999},{name:"",min:2e3,max:1/0}],fS=o=>o.mannerScore??200,Mw={:"text-red-700"," ":"text-red-500",:"text-orange-400",:"text-yellow-400",:"text-gray-300",:"text-green-400"," ":"text-teal-400",:"text-cyan-400",:"text-blue-400",:"text-purple-400"},Mx=o=>{const a=[...By].reverse().find(c=>o>=c.min)??By[0];return{rank:a.name,color:Mw[a.name]??"text-gray-300"}},pS=o=>{const a=Math.max(0,Math.min(100,o/2e3*100));let c="bg-red-700";return o>=2e3?c="bg-purple-400":o>=1600?c="bg-blue-400":o>=1200?c="bg-cyan-400":o>=800?c="bg-teal-400":o>=400?c="bg-green-400":o>=200?c="bg-gray-300":o>=100?c="bg-yellow-400":o>=50?c="bg-orange-400":o>=1&&(c="bg-red-500"),{percentage:a,colorClass:c}},Is=({mobile:o=!1,compact:a=!1,showOnlyWhenQuestCompleted:c=!1,fillHeight:m=!0})=>{const{handlers:u,unreadMailCount:p,hasClaimableQuest:s,currentUserWithStatus:x}=ot();if(c&&!s)return null;const v=(x==null?void 0:x.blacksmithLevel)??1,g=[{label:"",iconUrl:"/images/quickmenu/quest.png",handler:u.openQuests,disabled:!1,notification:s},{label:"",iconUrl:"/images/quickmenu/gibo.png",handler:()=>alert("   ."),disabled:!0,notification:!1},{label:` Lv.${v}`,iconUrl:"/images/quickmenu/enhance.png",handler:u.openBlacksmithModal,disabled:!1,notification:!1},{label:"",iconUrl:"/images/quickmenu/store.png",handler:u.openShop,disabled:!1,notification:!1},{label:"",iconUrl:"/images/quickmenu/bag.png",handler:u.openInventory,disabled:!1,notification:!1}],f=o?"flex justify-around items-center gap-2":`bg-panel rounded-lg p-${a?1:2} flex flex-col justify-around gap-${a?1:2} ${m?"h-full":""}`,h=o?"flex flex-col items-center justify-center p-1 rounded-md w-14 h-14 bg-gray-700/50 hover:bg-gray-600/50":"flex flex-col items-center justify-center p-1 rounded-lg w-full bg-gray-700/50 hover:bg-gray-600/50",N=o?"w-6 h-6 object-contain":a?"w-7 h-7 object-contain":"w-8 h-8 object-contain",y=o||a?"text-[10px] mt-1":"text-xs mt-1",E=o?"absolute top-1 right-1 bg-red-500 rounded-full w-2.5 h-2.5 border-2 border-gray-800":`absolute top-1 right-1 bg-red-500 rounded-full w-2.5 h-2.5 border-2 ${a?"border-gray-800":"border-gray-800/50"}`,j=o?"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center border-2 border-gray-800":`absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold rounded-full ${a?"w-4 h-4":"w-5 h-5"} flex items-center justify-center border-2 ${a?"border-gray-800":"border-gray-800/50"}`,U=S=>e.jsxDEV("button",{onClick:M=>{M.preventDefault(),S.handler()},disabled:S.disabled,className:`relative flex-1 ${h} disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,title:S.label,children:[e.jsxDEV("img",{src:S.iconUrl,alt:S.label,className:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:57,columnNumber:13},void 0),e.jsxDEV("span",{className:y,children:S.label},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:58,columnNumber:13},void 0),S.notification&&(S.count&&S.count>0?e.jsxDEV("span",{className:j,children:S.count>9?"9+":S.count},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:61,columnNumber:21},void 0):e.jsxDEV("span",{className:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:65,columnNumber:21},void 0))]},S.label,!0,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:50,columnNumber:9},void 0);return e.jsxDEV("div",{className:f,children:g.map(U)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuickAccessSidebar.tsx",lineNumber:72,columnNumber:9},void 0)},Um=({messages:o,onAction:a,mode:c,onViewUser:m,locationPrefix:u})=>{const p=b.useRef(null),s=b.useRef(null),[x,v]=b.useState(""),[g,f]=b.useState(!1),[h,N]=b.useState(0),{currentUserWithStatus:y,handlers:E,allUsers:j}=ot();b.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[o]),b.useEffect(()=>{if(h>0){const $=setTimeout(()=>{N(z=>Math.max(0,z-1))},1e3);return()=>clearTimeout($)}},[h]),b.useEffect(()=>{const $=z=>{s.current&&!s.current.contains(z.target)&&f(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const U=()=>{if(u&&u.trim().length>0)return u;switch(c){case"strategic":return"[]";case"playful":return"[]";case"global":return"[]";default:return`[${c}]`}},S=$=>{if(h>0)return;const P={channel:c==="strategic"||c==="playful"?c:"global",...$,location:U()};a({type:"SEND_CHAT_MESSAGE",payload:P}),f(!1),v(""),N(5)},M=$=>{if($.preventDefault(),!!x.trim()){if(Am(x)){alert("       ."),v("");return}S({text:x})}};if(!y)return null;const C=$=>{y.isAdmin&&$!==y.id?E.openModerationModal($):$!==y.id&&(m||E.openViewingUser)($)},w=(y.chatBanUntil??0)>Date.now(),R=w?Math.ceil((y.chatBanUntil-Date.now())/1e3/60):0,O=w||h>0,V=w?`   (${R} )`:O?`(${h})`:"[ ]";return e.jsxDEV("div",{className:"p-4 flex flex-col h-full min-h-0 text-on-panel",children:[e.jsxDEV("h2",{className:"text-lg font-semibold border-b border-color pb-1 flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:112,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-[10px] text-center text-yellow-400 bg-tertiary/50 rounded-sm p-0.5",children:"AI      . "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV("div",{ref:p,className:"flex-grow space-y-0.5 overflow-y-auto pr-1 bg-tertiary/40 p-1 rounded-md min-h-0",children:[o.map($=>{const z=$.system&&!$.actionInfo&&$.user.nickname==="AI ";return e.jsxDEV("div",{className:"text-xs",children:[$.location&&e.jsxDEV("span",{className:"font-semibold text-tertiary pr-1",children:$.location},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:119,columnNumber:46},void 0),e.jsxDEV("span",{className:`font-semibold pr-2 ${$.system?"text-highlight":"text-tertiary cursor-pointer hover:underline"}`,onClick:()=>!$.system&&C($.user.id),title:$.system?"":`${$.user.nickname}   / `,children:[$.system?z?"AI ":"":$.user.nickname,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:120,columnNumber:29},void 0),$.text&&(()=>{if($.itemLink){const P=$.text.split($.itemLink.itemName);if(P.length===2)return e.jsxDEV("span",{className:z?"text-highlight":"",children:[P[0],e.jsxDEV("span",{className:"text-blue-400 cursor-pointer hover:underline font-semibold",onClick:()=>{var q;const G=j.find(B=>B.id===$.itemLink.userId);if(G){const B=(q=G.inventory)==null?void 0:q.find(X=>X.id===$.itemLink.itemId);B&&E.openViewingItem(B,G.id===(y==null?void 0:y.id))}},title:`${$.itemLink.itemName}    `,children:$.itemLink.itemName},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:135,columnNumber:49},void 0),P[1],z&&" "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:133,columnNumber:45},void 0)}return e.jsxDEV("span",{className:z?"text-highlight":"",children:[$.text,z&&" "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:156,columnNumber:40},void 0)})(),$.emoji&&e.jsxDEV("span",{className:"text-xl",children:$.emoji},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:158,columnNumber:43},void 0)]},$.id,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:118,columnNumber:25},void 0)}),o.length===0&&e.jsxDEV("div",{className:"h-full flex items-center justify-center text-tertiary text-sm",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:162,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative flex-shrink-0",children:[g&&e.jsxDEV("div",{ref:s,className:"absolute bottom-full mb-2 w-full bg-secondary rounded-lg shadow-xl p-1 z-10 max-h-64 overflow-y-auto",children:[e.jsxDEV("div",{className:"grid grid-cols-5 gap-1 text-xl mb-1 border-b border-color pb-1",children:tS.map($=>e.jsxDEV("button",{onClick:()=>S({emoji:$}),className:"w-full p-1 rounded-md hover:bg-accent transition-colors text-center",children:[" ",$," "]},$,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:168,columnNumber:60},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:167,columnNumber:24},void 0),e.jsxDEV("ul",{className:"space-y-0.5",children:nS.map($=>e.jsxDEV("li",{children:[" ",e.jsxDEV("button",{onClick:()=>S({text:$}),className:"w-full text-left text-xs p-1 rounded-md hover:bg-accent transition-colors",children:[" ",$," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:171,columnNumber:75},void 0)," "]},$,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:171,columnNumber:60},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:170,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:166,columnNumber:20},void 0),e.jsxDEV("form",{onSubmit:M,className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>f($=>!$),className:"bg-secondary hover:bg-tertiary text-primary font-bold px-2.5 rounded-md transition-colors text-lg flex items-center justify-center",title:" ",disabled:O,children:e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:177,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:176,columnNumber:21},void 0),e.jsxDEV("input",{type:"text",value:x,onChange:$=>v($.target.value),placeholder:V,className:"flex-grow bg-tertiary border border-color rounded-md p-1 focus:ring-accent focus:border-accent text-xs disabled:bg-secondary disabled:text-tertiary",maxLength:30,disabled:O},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:179,columnNumber:20},void 0),e.jsxDEV(ae,{type:"submit",disabled:!x.trim()||O,className:"!px-2 !py-1",title:"",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:188,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:175,columnNumber:16},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/ChatWindow.tsx",lineNumber:111,columnNumber:9},void 0)},Pa=o=>{var p,s;const a={},c={};for(const x of Object.values(_))c[x]=(((p=o.baseStats)==null?void 0:p[x])||0)+(((s=o.spentStatPoints)==null?void 0:s[x])||0);const u=Kd(o).coreStatBonuses;for(const x of Object.values(_)){const v=c[x],g=Math.floor((v+u[x].flat)*(1+u[x].percent/100));a[x]=g}return a},Ly=({user:o,rank:a,value:c,isCurrentUser:m,onViewUser:u})=>{const p=b.useMemo(()=>{var v;return(v=Jn.find(g=>g.id===o.avatarId))==null?void 0:v.url},[o.avatarId]),s=b.useMemo(()=>{var v;return(v=Zn.find(g=>g.id===o.borderId))==null?void 0:v.url},[o.borderId]),x=()=>{!m&&u&&u(o.id)};return e.jsxDEV("div",{className:`flex items-center p-2 rounded-md ${m?"bg-blue-500/30":u?"cursor-pointer hover:bg-secondary/50":""}`,onClick:x,title:!m&&u?`${o.nickname}  `:"",children:[e.jsxDEV("span",{className:"w-10 text-center font-bold text-sm",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:30,columnNumber:13},void 0),e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:p,borderUrl:s,size:32},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:31,columnNumber:13},void 0),e.jsxDEV("span",{className:"flex-1 truncate font-semibold ml-2 text-sm",children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:32,columnNumber:13},void 0),e.jsxDEV("span",{className:"w-20 text-right font-mono text-sm",children:c.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:33,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:25,columnNumber:9},void 0)},$y=({isTopmost:o})=>{const{allUsers:a,currentUserWithStatus:c,handlers:m}=ot(),[u,p]=b.useState("combat"),s=b.useMemo(()=>{if(!a||a.length===0)return[];if(u==="combat"){const v=a.filter(g=>g&&g.id).map(g=>{const f=Pa(g),h=Object.values(f).reduce((N,y)=>N+y,0);return{user:g,value:h}}).sort((g,f)=>f.value-g.value).slice(0,50);return console.debug("[GameRankingBoard] Combat rankings:",v.length,"users"),v}else{const v=a.filter(g=>g&&g.id).map(g=>({user:g,value:g.mannerScore||0})).sort((g,f)=>f.value-g.value).slice(0,50);return console.debug("[GameRankingBoard] Manner rankings:",v.length,"users"),v}},[a,u]),x=b.useMemo(()=>{if(!c)return null;const v=s.findIndex(f=>f.user&&f.user.id===c.id);if(v!==-1)return{...s[v],rank:v+1};let g;if(u==="combat"){const f=Pa(c);g=Object.values(f).reduce((h,N)=>h+N,0)}else g=c.mannerScore;return{user:c,value:g,rank:"N/A"}},[s,c,u]);return e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel rounded-lg p-2 flex flex-col gap-2 h-full",children:[e.jsxDEV("h3",{className:"text-center font-semibold text-secondary text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:94,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>p("combat"),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${u==="combat"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:96,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>p("manner"),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${u==="manner"?"bg-yellow-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:102,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:95,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-1 text-xs flex flex-col gap-1 min-h-0 h-48",children:s.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-xs",children:a.length===0?"  ...":"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:111,columnNumber:21},void 0):e.jsxDEV(e.Fragment,{children:[x&&e.jsxDEV("div",{className:"sticky top-0 bg-panel z-10",children:e.jsxDEV(Ly,{user:x.user,rank:x.rank,value:x.value,isCurrentUser:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:118,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:117,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1",children:s.filter(v=>v&&v.user&&v.user.id).map((v,g)=>e.jsxDEV(Ly,{user:v.user,rank:g+1,value:v.value,isCurrentUser:!1,onViewUser:m.openViewingUser},v.user.id,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:123,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:121,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:115,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:109,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRankingBoard.tsx",lineNumber:93,columnNumber:9},void 0)},Oy=({user:o,rank:a,value:c,isCurrentUser:m,onViewUser:u})=>{const p=b.useMemo(()=>{var v;return(v=Jn.find(g=>g.id===o.avatarId))==null?void 0:v.url},[o.avatarId]),s=b.useMemo(()=>{var v;return(v=Zn.find(g=>g.id===o.borderId))==null?void 0:v.url},[o.borderId]),x=()=>{!m&&u&&u(o.id)};return e.jsxDEV("div",{className:`flex items-center p-2 rounded-md ${m?"bg-blue-500/30":u?"cursor-pointer hover:bg-secondary/50":""}`,onClick:x,title:!m&&u?`${o.nickname}  `:"",children:[e.jsxDEV("span",{className:"w-10 text-center font-bold text-sm",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:29,columnNumber:13},void 0),e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:p,borderUrl:s,size:32},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:30,columnNumber:13},void 0),e.jsxDEV("span",{className:"flex-1 truncate font-semibold ml-2 text-sm",children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:31,columnNumber:13},void 0),e.jsxDEV("span",{className:"w-20 text-right font-mono text-sm",children:c.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:32,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:24,columnNumber:9},void 0)},Gy=({isTopmost:o})=>{const{allUsers:a,currentUserWithStatus:c,handlers:m}=ot(),[u,p]=b.useState("strategic"),s=b.useMemo(()=>{if(!a||a.length===0)return[];if(u==="championship"){const v=a.filter(g=>g&&g.id).map(g=>({user:g,value:g.cumulativeTournamentScore||0})).sort((g,f)=>f.value-g.value).slice(0,50).map((g,f)=>({...g,rank:f+1}));return console.debug("[BadukRankingBoard] Championship rankings (cumulative):",v.length,"users"),v}else{const v=u==="strategic"?"strategic":"playful";if(a.some(f=>{var h;return(h=f.dailyRankings)==null?void 0:h[v]})){const f=a.filter(h=>{var N;return h&&h.id&&((N=h.dailyRankings)==null?void 0:N[v])}).map(h=>({user:h,value:h.dailyRankings[v].score,rank:h.dailyRankings[v].rank})).sort((h,N)=>h.rank-N.rank).slice(0,50);return console.debug("[BadukRankingBoard]",v,"rankings (daily):",f.length,"users"),f}else{const f=v==="strategic"?st:dt,h=a.filter(N=>{var E;if(!N||!N.id)return!1;let y=0;if(N.stats)for(const j of f){const U=N.stats[j.mode];U&&(y+=(U.wins||0)+(U.losses||0))}return y>=10&&((E=N.cumulativeRankingScore)==null?void 0:E[v])!==void 0}).map(N=>{var y;return{user:N,value:((y=N.cumulativeRankingScore)==null?void 0:y[v])||0}}).sort((N,y)=>y.value-N.value).slice(0,50).map((N,y)=>({...N,rank:y+1}));return console.debug("[BadukRankingBoard]",v,"rankings (realtime):",h.length,"users"),h}}},[a,u]),x=b.useMemo(()=>{var g,f;if(!c)return null;const v=s.findIndex(h=>h.user&&h.user.id===c.id);if(v!==-1)return{user:c,value:s[v].value,rank:s[v].rank};if(u==="championship"){const h=c.cumulativeTournamentScore||0,y=a.filter(E=>E&&E.id).map(E=>E.cumulativeTournamentScore||0).sort((E,j)=>j-E).findIndex(E=>E<=h)+1;return{user:c,value:h,rank:y||"N/A"}}else{const h=u==="strategic"?"strategic":"playful",N=(g=c.dailyRankings)==null?void 0:g[h];return N?{user:c,value:N.score,rank:N.rank}:{user:c,value:((f=c.cumulativeRankingScore)==null?void 0:f[h])||0,rank:"N/A"}}},[c,u,s]);return e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel rounded-lg p-2 flex flex-col gap-2 h-full",children:[e.jsxDEV("h3",{className:"text-center font-semibold text-secondary text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:153,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>p("strategic"),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${u==="strategic"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:155,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>p("playful"),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${u==="playful"?"bg-yellow-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>p("championship"),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${u==="championship"?"bg-purple-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:154,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-1 text-xs flex flex-col gap-1 min-h-0 h-48",children:s.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-xs",children:a.length===0?"  ...":"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:176,columnNumber:21},void 0):e.jsxDEV(e.Fragment,{children:[x&&e.jsxDEV("div",{className:"sticky top-0 bg-panel z-10",children:e.jsxDEV(Oy,{user:x.user,rank:x.rank,value:x.value,isCurrentUser:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:183,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:182,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1",children:s.filter(v=>v&&v.user&&v.user.id).map((v,g)=>e.jsxDEV(Oy,{user:v.user,rank:g+1,value:v.value,isCurrentUser:!1,onViewUser:m.openViewingUser},v.user.id,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:188,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:186,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:180,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BadukRankingBoard.tsx",lineNumber:152,columnNumber:9},void 0)};function Cw(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const Rw=o=>{if(o<1)return 0;if(o>100)return 1/0;if(o<=10)return 200+o*100;if(o<=20)return 300+o*150;let a=300+20*150;for(let c=21;c<=o;c++)c<=50?a=Math.round(a*1.2):a=Math.round(a*1.3);return a},zy=({level:o,currentXp:a,label:c,colorClass:m})=>{const u=Rw(o),p=Math.min(a/u*100,100);return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-baseline mb-0.5 text-xs whitespace-nowrap",children:[e.jsxDEV("span",{className:"font-semibold whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:[c," ",e.jsxDEV("span",{className:"text-base font-bold",children:["Lv.",o]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:66,columnNumber:147},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:66,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-mono text-tertiary whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:[a," / ",u]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:65,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full bg-tertiary/50 rounded-full h-3 border border-color",children:e.jsxDEV("div",{className:`${m} h-full rounded-full transition-width duration-500`,style:{width:`${p}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:70,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:69,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:64,columnNumber:9},void 0)},Ew={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},Aw=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-purple-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},Hy=({slot:o,item:a,onClick:c})=>{const m=a&&c?"cursor-pointer hover:scale-105 transition-transform":"";if(a){const u=hl[a.grade],p=`${a.name} (  : ${u}) -  `,s=Aw(a.stars);return e.jsxDEV("div",{className:`relative w-full aspect-square rounded-lg border-2 border-color/50 bg-tertiary/50 ${m}`,title:p,onClick:c,children:[e.jsxDEV("img",{src:Ew[a.grade],alt:a.grade,className:"absolute inset-0 w-full h-full object-cover rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:112,columnNumber:17},void 0),a.stars>0&&e.jsxDEV("div",{className:`absolute top-1 right-1.5 text-sm font-bold z-10 ${s.colorClass}`,style:{textShadow:"1px 1px 2px black"},children:["",a.stars]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:114,columnNumber:21},void 0),a.image&&e.jsxDEV("img",{src:a.image,alt:a.name,className:"relative w-full h-full object-contain p-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:118,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:107,columnNumber:13},void 0)}else return e.jsxDEV("img",{src:wm[o],alt:`${o} empty slot`,className:"w-full aspect-square rounded-lg bg-tertiary/50 border-2 border-color/50"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:123,columnNumber:14},void 0)},Wy=({type:o,stats:a,onEnter:c,onViewStats:m,level:u,title:p,imageUrl:s,tier:x})=>{const g=o==="strategic"?"hover:shadow-blue-500/30":"hover:shadow-yellow-500/30",f=a.wins+a.losses,h=f>0?Math.round(a.wins/f*100):0;return e.jsxDEV("div",{onClick:c,className:`bg-panel border border-color rounded-lg p-1 lg:p-2 flex flex-col text-center transition-all transform hover:-translate-y-1 shadow-lg ${g} cursor-pointer h-full text-on-panel`,children:[e.jsxDEV("h2",{className:"text-xs lg:text-base font-bold flex items-center justify-center gap-0.5 lg:gap-1 h-4 lg:h-6 mb-0.5 lg:mb-1",children:[p,x&&e.jsxDEV("img",{src:x.icon,alt:x.name,className:"w-3 h-3 lg:w-5 lg:h-5",title:x.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:151,columnNumber:26},void 0),e.jsxDEV("span",{className:"text-[10px] lg:text-sm text-highlight font-normal",children:["Lv.",u]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:149,columnNumber:14},void 0),e.jsxDEV("div",{className:"w-full flex-1 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden min-h-0",children:e.jsxDEV("img",{src:s,alt:p,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:155,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:154,columnNumber:13},void 0),e.jsxDEV("div",{onClick:N=>{N.stopPropagation(),m()},className:"w-full bg-tertiary/50 rounded-md p-0.5 lg:p-1 text-[10px] lg:text-xs flex justify-between items-center cursor-pointer hover:bg-tertiary transition-colors mt-1 lg:mt-2",title:"  ",children:[e.jsxDEV("span",{children:[" : ",a.wins," ",a.losses," (",h,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-accent font-semibold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:145,columnNumber:9},void 0)},Uw=({title:o,imageUrl:a,layout:c,footerContent:m})=>{const u=c==="tall";return e.jsxDEV("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-purple-500/50 rounded-lg p-1 lg:p-2 flex flex-col text-center shadow-lg shadow-purple-500/20 h-full text-on-panel relative overflow-hidden cursor-not-allowed group",children:[e.jsxDEV("div",{className:"absolute top-1 lg:top-2 -right-8 lg:-right-10 transform rotate-45 bg-purple-600 text-white text-[8px] lg:text-[10px] font-bold px-8 lg:px-10 py-0.5 z-10",children:"Coming Soon"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:173,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-xs lg:text-base font-bold text-purple-300 mt-0.5 lg:mt-1 h-4 lg:h-6 mb-0.5 lg:mb-1",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:176,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full flex-1 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden transition-transform duration-300 group-hover:scale-105 bg-black/20 min-h-0",children:e.jsxDEV("img",{src:a,alt:o,className:`w-full h-full object-contain p-1 lg:p-2 ${u?"object-contain":"object-cover"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:178,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:177,columnNumber:13},void 0),m&&e.jsxDEV("div",{className:"w-full bg-tertiary/50 rounded-md p-0.5 lg:p-1 text-[10px] lg:text-xs mt-1 lg:mt-2",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:181,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:172,columnNumber:9},void 0)},Fy=(o,a,c)=>{if(c===0)return mi[mi.length-1];for(const m of mi)if(m.threshold(o,a,c))return m;return mi[mi.length-1]},ww=()=>{const{currentUserWithStatus:o,allUsers:a,handlers:c,waitingRoomChats:m,hasClaimableQuest:u,presets:p}=ot(),[s,x]=b.useState(null),[v,g]=b.useState(!1),[f,h]=b.useState(!1),[N,y]=b.useState(""),[E,j]=b.useState(0);if(b.useEffect(()=>{const ye=()=>{const We=new Date,Ie=We.getFullYear(),Je=We.getMonth(),J=new Date(Ie,Je+1,1).getTime()-We.getTime(),ke=Math.floor(J/(1e3*60*60*24)),Te=Math.floor(J%(1e3*60*60*24)/(1e3*60*60));y(`${ke} ${Te} `)};ye();const De=setInterval(ye,60*60*1e3);return()=>clearInterval(De)},[]),!o)return null;const{inventory:U,stats:S,nickname:M,avatarId:C,borderId:w}=o,R=b.useMemo(()=>m.global||[],[m]),O=Cw(R.length),V=f||u;b.useEffect(()=>{!v&&O!==void 0&&R.length>O&&h(!0)},[R.length,O,v]);const $=b.useMemo(()=>{var ye;return(ye=Jn.find(De=>De.id===C))==null?void 0:ye.url},[C]),z=b.useMemo(()=>{var ye;return(ye=Zn.find(De=>De.id===w))==null?void 0:ye.url},[w]),P=b.useMemo(()=>(U||[]).filter(ye=>ye.isEquipped),[U]),G=ye=>P.find(De=>De.slot===ye),q=b.useMemo(()=>{const ye={wins:0,losses:0},De={wins:0,losses:0};if(S){for(const We of st){const Ie=S[We.mode];Ie&&(ye.wins+=Ie.wins,ye.losses+=Ie.losses)}for(const We of dt){const Ie=S[We.mode];Ie&&(De.wins+=Ie.wins,De.losses+=Ie.losses)}}return{strategic:ye,playful:De}},[S]),B=fS(o),X=Mx(B),H=pS(B),{coreStatBonuses:Q,specialStatBonuses:Z,mythicStatBonuses:ne}=b.useMemo(()=>Kd(o),[o]);b.useMemo(()=>Object.values(Z).some(ye=>ye.flat>0||ye.percent>0),[Z]),b.useMemo(()=>Object.values(ne).some(ye=>ye.flat>0),[ne]),b.useMemo(()=>{const ye={};for(const De of Object.values(ro))ye[De]={count:0,totalValue:0};return P.forEach(De=>{var We;(We=De.options)==null||We.mythicSubs.forEach(Ie=>{const Je=Ie.type;ye[Je]&&(ye[Je].count++,ye[Je].totalValue+=Ie.value)})}),ye},[P]);const le=(o.strategyLevel-1)*2+(o.playfulLevel-1)*2,L=o.bonusStatPoints||0,ue=le+L,pe=b.useMemo(()=>Object.values(o.spentStatPoints||{}).reduce((ye,De)=>ye+De,0),[o.spentStatPoints]),ie=ue-pe,fe=ye=>window.location.hash=`#/waiting/${ye}`,W=()=>window.location.hash="#/tournament",Pe=()=>window.location.hash="#/singleplayer",me=b.useMemo(()=>{const ye=o.singlePlayerMissions||{},De=o.clearedSinglePlayerStages||[],We=Date.now();return oS.some(Ie=>{const Je=ye[Ie.id];if(!Je)return!1;const K=De.includes(Ie.unlockStageId),J=Je.isStarted;if(!K||!J)return!1;const ke=Je.level||0;if(ke===0||ke>Ie.levels.length)return!1;const Te=Ie.levels[ke-1],be=Je.accumulatedAmount||0,Ce=Te.productionRateMinutes*60*1e3,Re=Je.lastCollectionTime||We,Ze=We-Re,Se=Math.floor(Ze/Ce);let Fe=be;if(Se>0){const tn=Se*Te.rewardAmount;Fe=Math.min(Te.maxCapacity,be+tn)}return Fe>=Te.maxCapacity})},[o]),de=ye=>{const De=Number(ye.target.value);j(De);const We=p[De];c.applyPreset(We||{name:` ${De+1}`,equipment:{}})},Ge=b.useMemo(()=>{var be,Ce;const ye=(Re,Ze)=>{var tn;let Se=0,Fe=0;for(const Rn of Ze){const Dn=(tn=Re.stats)==null?void 0:tn[Rn.mode];Dn&&(Se+=Dn.rankingScore,Fe++)}return Fe>0?Se/Fe:1200},De=a.map(Re=>({id:Re.id,score:ye(Re,st)})).sort((Re,Ze)=>Ze.score-Re.score),We=a.map(Re=>({id:Re.id,score:ye(Re,dt)})).sort((Re,Ze)=>Ze.score-Re.score),Ie=De.findIndex(Re=>Re.id===o.id)+1,Je=We.findIndex(Re=>Re.id===o.id)+1,K=((be=De.find(Re=>Re.id===o.id))==null?void 0:be.score)||0,J=((Ce=We.find(Re=>Re.id===o.id))==null?void 0:Ce.score)||0,ke=Fy(K,Ie,De.length),Te=Fy(J,Je,We.length);return{strategicTier:ke,playfulTier:Te}},[o,a]);_.Concentration+"",_.ThinkingSpeed+"",_.Judgment+"",_.Calculation+"",_.CombatPower+"",_.Stability+"",_t.ActionPointMax+"",_t.ActionPointRegen+"",_t.StrategyXpBonus+"",_t.PlayfulXpBonus+"",_t.GoldBonus+"",_t.ItemDropRate+"",_t.MaterialDropRate+"",b.useMemo(()=>{const ye={};return P.forEach(De=>{var We;if((We=De.options)!=null&&We.main){const Ie=De.options.main,Je=Ie.type;ye[Je]||(ye[Je]={value:0,isPercentage:Ie.isPercentage}),ye[Je].value+=Ie.value}}),ye},[P]),b.useMemo(()=>{const ye={};return P.forEach(De=>{var We;(We=De.options)!=null&&We.combatSubs&&De.options.combatSubs.forEach(Ie=>{const Je=Ie.type;ye[Je]||(ye[Je]={value:0,isPercentage:Ie.isPercentage}),ye[Je].value+=Ie.value})}),ye},[P]);const ve=b.useMemo(()=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row gap-2 items-center",children:[e.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center gap-1 w-24",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(_n,{userId:o.id,userName:M,size:80,avatarUrl:$,borderUrl:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:480,columnNumber:25},void 0),e.jsxDEV("button",{onClick:c.openProfileEditModal,className:"absolute bottom-0 right-0 w-6 h-6 flex items-center justify-center bg-secondary hover:bg-tertiary rounded-full p-1 border-2 border-primary transition-transform hover:scale-110 active:scale-95",title:" ",children:[e.jsxDEV("span",{className:"text-sm",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:486,columnNumber:29},void 0),!o.mbti&&e.jsxDEV("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:488,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:481,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:479,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center w-full",children:[e.jsxDEV("div",{className:"flex items-center gap-1 w-full justify-center",children:e.jsxDEV("h2",{className:"text-sm font-bold truncate whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},title:M,children:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:494,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:493,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-[10px] text-tertiary mt-0.5 truncate whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.625rem)"},children:["MBTI: ",o.mbti?o.mbti:""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:496,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:492,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow space-y-1 bg-tertiary/30 p-2 rounded-md flex flex-col justify-center",children:[e.jsxDEV(zy,{level:o.strategyLevel,currentXp:o.strategyXp,label:"",colorClass:"bg-gradient-to-r from-blue-500 to-cyan-400"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:503,columnNumber:21},void 0),e.jsxDEV(zy,{level:o.playfulLevel,currentXp:o.playfulXp,label:"",colorClass:"bg-gradient-to-r from-yellow-500 to-orange-400"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:504,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-baseline mb-0.5 text-xs whitespace-nowrap",children:[e.jsxDEV("span",{className:"font-semibold whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:507,columnNumber:29},void 0),e.jsxDEV("span",{className:`font-semibold text-xs whitespace-nowrap overflow-hidden ${X.color}`,style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:[B," (",X.rank,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:508,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:506,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full bg-tertiary/50 rounded-full h-2 border border-color",children:e.jsxDEV("div",{className:`${H.colorClass} h-full rounded-full`,style:{width:`${H.percentage}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:511,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:510,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:505,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:477,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow flex flex-col min-h-0 border-t border-color mt-2 pt-2",children:[e.jsxDEV("div",{className:"bg-tertiary/30 p-2 rounded-md text-center mb-2",children:o.guildId?e.jsxDEV(ae,{onClick:()=>window.location.hash="#/guild",colorScheme:"green",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:520,columnNumber:25},void 0):e.jsxDEV(ae,{onClick:()=>window.location.hash="#/guild",colorScheme:"blue",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:522,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:518,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-1 flex-shrink-0 whitespace-nowrap",children:[e.jsxDEV("h3",{className:"font-semibold text-secondary text-sm whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:526,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs flex items-center gap-2 whitespace-nowrap overflow-hidden",children:[e.jsxDEV("span",{className:"whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:[": ",e.jsxDEV("span",{className:"font-bold text-green-400",children:ie},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:528,columnNumber:138},void 0),"P"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:528,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:c.openStatAllocationModal,colorScheme:"yellow",className:"!text-[10px] !py-0.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:529,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:527,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:525,columnNumber:18},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.values(_).map(ye=>{const De=o.baseStats||{},We=o.spentStatPoints||{},Ie=(De[ye]||0)+(We[ye]||0),Je=Q[ye]||{percent:0,flat:0},K=Math.floor((Ie+Je.flat)*(1+Je.percent/100)),J=K-Ie;return e.jsxDEV("div",{className:"bg-tertiary/40 p-1 rounded-md flex items-center justify-between text-xs whitespace-nowrap overflow-hidden",children:[e.jsxDEV("span",{className:"font-semibold text-secondary whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:ye},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:549,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-mono font-bold whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},title:`: ${Ie}, : ${J}`,children:[isNaN(K)?0:K,J>0&&e.jsxDEV("span",{className:"text-green-400 text-xs ml-0.5",children:["(+",J,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:552,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:550,columnNumber:33},void 0)]},ye,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:548,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:538,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:476,columnNumber:9},void 0),[o,c,X,H,B,ie,Q]),an=e.jsxDEV("div",{className:"grid grid-cols-10 grid-rows-2 lg:grid-rows-7 gap-2 lg:gap-4 h-full",children:[e.jsxDEV("div",{className:"col-span-5 row-span-1 lg:col-span-5 lg:row-span-3",children:e.jsxDEV(Wy,{type:"strategic",stats:q.strategic,onEnter:()=>fe("strategic"),onViewStats:()=>x("strategic"),level:o.strategyLevel,title:" ",imageUrl:sS,tier:Ge.strategicTier},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:565,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:564,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-span-5 row-span-1 lg:col-span-5 lg:row-span-3",children:e.jsxDEV(Wy,{type:"playful",stats:q.playful,onEnter:()=>fe("playful"),onViewStats:()=>x("playful"),level:o.playfulLevel,title:" ",imageUrl:cS,tier:Ge.playfulTier},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:569,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:568,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-span-4 row-span-1 lg:col-span-4 lg:row-span-4",children:e.jsxDEV("div",{onClick:W,className:"bg-panel border border-color rounded-lg p-1 lg:p-2 flex flex-col text-center transition-all transform hover:-translate-y-1 shadow-lg hover:shadow-purple-500/30 cursor-pointer h-full text-on-panel",children:[e.jsxDEV("h2",{className:"text-xs lg:text-base font-bold h-5 lg:h-6 mb-0.5 lg:mb-1 whitespace-nowrap overflow-hidden",style:{fontSize:"clamp(0.625rem, 1.5vw, 1rem)"},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:574,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full flex-1 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden min-h-0",children:e.jsxDEV("img",{src:mS,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:576,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:575,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full bg-tertiary/50 rounded-md p-0.5 lg:p-1 text-[10px] lg:text-xs mt-1 lg:mt-2 whitespace-nowrap overflow-hidden",title:" ",style:{fontSize:"clamp(0.5rem, 1.2vw, 0.75rem)"},children:e.jsxDEV("span",{className:"whitespace-nowrap overflow-hidden",children:[": ",(o.tournamentScore??0).toLocaleString()," / : ",o.league||""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:579,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:578,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:573,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:572,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-span-4 row-span-1 lg:col-span-4 lg:row-span-4",children:e.jsxDEV("div",{onClick:Pe,className:"bg-panel border border-color rounded-lg p-1 lg:p-2 flex flex-col text-center transition-all transform hover:-translate-y-1 shadow-lg hover:shadow-green-500/30 cursor-pointer h-full text-on-panel relative",children:[me&&e.jsxDEV("div",{className:"absolute top-1 right-1 w-3 h-3 bg-red-500 rounded-full z-10 border-2 border-gray-900"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:587,columnNumber:29},void 0),e.jsxDEV("h2",{className:"text-xs lg:text-base font-bold h-5 lg:h-6 mb-0.5 lg:mb-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:589,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full flex-1 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden min-h-0",children:e.jsxDEV("img",{src:uS,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:591,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:590,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full bg-tertiary/50 rounded-md p-0.5 lg:p-1 text-[10px] lg:text-xs mt-1 lg:mt-2",title:" ",children:e.jsxDEV("span",{children:[": ",o.singlePlayerProgress??0," / ",gl.length]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:594,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:593,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:585,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:584,columnNumber:17},void 0),e.jsxDEV("div",{className:"col-span-2 row-span-1 lg:col-span-2 lg:row-span-4",children:e.jsxDEV(Uw,{title:" ",imageUrl:dS,layout:"tall",footerContent:e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("span",{children:" : 1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:606,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-tertiary",children:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:607,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:605,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:600,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:599,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:563,columnNumber:9},void 0);return e.jsxDEV("div",{className:"bg-primary text-primary p-2 sm:p-4 lg:p-2 w-full h-full flex flex-col",children:[e.jsxDEV("header",{className:"flex justify-between items-center mb-2 px-2 flex-shrink-0",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-primary",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:617,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:c.openEncyclopedia,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center transition-transform hover:scale-110",title:"",children:e.jsxDEV("img",{src:"/images/button/itembook.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:624,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:619,columnNumber:21},void 0),e.jsxDEV("button",{onClick:c.openInfoModal,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center transition-transform hover:scale-110",title:"",children:e.jsxDEV("img",{src:"/images/button/help.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:631,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:626,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:618,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:616,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxDEV("div",{className:"hidden lg:flex flex-col h-full gap-2",children:[e.jsxDEV("div",{className:"flex flex-row gap-2",children:[e.jsxDEV("div",{className:"w-[25%] bg-panel border border-color text-on-panel rounded-lg p-2 flex flex-col gap-1",children:ve},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:639,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-row gap-2 min-w-0",children:[e.jsxDEV("div",{className:"w-[280px] bg-panel border border-color text-on-panel rounded-lg p-2 flex flex-col",children:[e.jsxDEV("h3",{className:"text-center font-semibold text-secondary text-sm flex-shrink-0 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:643,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["fan","top","bottom","board","bowl","stones"].map(ye=>{const De=G(ye);return e.jsxDEV("div",{className:"w-full aspect-square",children:e.jsxDEV(Hy,{slot:ye,item:De,onClick:()=>De&&c.openViewingItem(De,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:649,columnNumber:49},void 0)},ye,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:648,columnNumber:45},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:644,columnNumber:33},void 0),e.jsxDEV(ae,{onClick:c.openEquipmentEffectsModal,colorScheme:"blue",className:"mt-2 !text-xs",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:658,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("select",{value:E,onChange:de,className:"bg-secondary border border-color text-xs rounded-md p-1 focus:ring-accent focus:border-accent w-full",children:p&&p.map((ye,De)=>e.jsxDEV("option",{value:De,children:ye.name},De,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:672,columnNumber:45},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:666,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:665,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:642,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-row gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV($y,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:679,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:678,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(Gy,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:682,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:681,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:677,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-24 flex-shrink-0",children:e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:686,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:685,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:641,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:638,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 grid grid-cols-12 gap-2 min-h-0",children:[e.jsxDEV("div",{className:"col-span-5 bg-panel border border-color text-on-panel rounded-lg min-h-0 flex flex-col",children:e.jsxDEV(Um,{messages:R,mode:"global",onAction:c.handleAction,onViewUser:c.openViewingUser,locationPrefix:"[]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:692,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:691,columnNumber:25},void 0),e.jsxDEV("div",{className:"col-span-7 min-h-0 flex flex-col justify-end",children:an},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:694,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:690,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:637,columnNumber:17},void 0),e.jsxDEV("div",{className:"lg:hidden flex flex-col h-full gap-1.5 relative",children:[e.jsxDEV("div",{className:"flex flex-row gap-1.5 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex-1 bg-panel border border-color text-on-panel rounded-lg p-1.5 flex flex-col gap-1",children:ve},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:703,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 bg-panel border border-color text-on-panel rounded-lg p-1.5 flex flex-col",children:[e.jsxDEV("h3",{className:"text-center font-semibold text-secondary text-xs flex-shrink-0 mb-1",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:705,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-1",children:["fan","top","bottom","board","bowl","stones"].map(ye=>{const De=G(ye);return e.jsxDEV("div",{className:"w-full",children:e.jsxDEV(Hy,{slot:ye,item:De,onClick:()=>De&&c.openViewingItem(De,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:711,columnNumber:45},void 0)},ye,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:710,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:706,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:c.openEquipmentEffectsModal,colorScheme:"blue",className:"mt-1 !text-[10px] !py-0.5",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:720,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-1",children:e.jsxDEV("select",{value:E,onChange:de,className:"bg-secondary border border-color text-[10px] rounded-md p-0.5 focus:ring-accent focus:border-accent w-full",children:p&&p.map((ye,De)=>e.jsxDEV("option",{value:De,children:ye.name},De,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:734,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:728,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:727,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:704,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:702,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:an},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:741,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",children:e.jsxDEV("button",{onClick:()=>{g(!0),h(!1)},className:"w-8 h-12 bg-secondary/80 backdrop-blur-sm rounded-l-lg flex items-center justify-center text-primary shadow-lg","aria-label":"/ ",children:e.jsxDEV("span",{className:"relative font-bold text-lg",children:["<",V&&e.jsxDEV("div",{className:"absolute -top-1 -right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-secondary"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:754,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:752,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:747,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:746,columnNumber:21},void 0),e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[360px] bg-primary shadow-2xl z-50 transition-transform duration-300 ease-in-out ${v?"translate-x-0":"translate-x-full"} flex flex-col`,children:[e.jsxDEV("div",{className:"flex justify-between items-center p-2 border-b border-color flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold",children:" / "},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:762,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>g(!1),className:"text-2xl font-bold text-tertiary hover:text-primary",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:763,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:761,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 p-2 flex-grow min-h-0 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex-shrink-0 p-1 bg-panel rounded-lg border border-color",children:e.jsxDEV(Is,{mobile:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:767,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:766,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-shrink-0 border-b border-color pb-2",children:[e.jsxDEV("div",{className:"bg-panel border border-color rounded-lg",children:e.jsxDEV($y,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:771,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:770,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-panel border border-color rounded-lg mt-2",children:e.jsxDEV(Gy,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:774,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:773,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:769,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 min-h-[400px] bg-panel border border-color rounded-lg shadow-lg flex flex-col",children:e.jsxDEV(Um,{messages:R,mode:"global",onAction:c.handleAction,onViewUser:c.openViewingUser,locationPrefix:"[]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:778,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:777,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:765,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:760,columnNumber:21},void 0),v&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>g(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:784,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:701,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:635,columnNumber:13},void 0),s&&e.jsxDEV(jw,{currentUser:o,statsType:s,onClose:()=>x(null),onAction:c.handleAction},void 0,!1,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:788,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Profile.tsx",lineNumber:615,columnNumber:9},void 0)},Vw=({mode:o,description:a,image:c,available:m,onSelect:u,hoverColorClass:p})=>{const[s,x]=b.useState(!1);return e.jsxDEV("div",{className:`bg-panel text-on-panel rounded-lg p-5 flex flex-col text-center transition-all transform hover:-translate-y-1 shadow-lg ${p} ${m?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:m?u:void 0,children:[e.jsxDEV("div",{className:"w-[200px] h-[150px] mx-auto bg-tertiary rounded-md mb-4 flex items-center justify-center text-tertiary overflow-hidden shadow-inner",children:s?e.jsxDEV("span",{className:"text-xs",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:29,columnNumber:21},void 0):e.jsxDEV("img",{src:c,alt:o,className:"w-full h-full object-cover",onError:()=>x(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:22,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:20,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow flex flex-col",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-primary mb-2",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:33,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-tertiary text-sm flex-grow",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:34,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:32,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:16,columnNumber:9},void 0)},kw=({lobbyType:o})=>{const{gameModeAvailability:a,handlers:c}=ot(),m=o==="strategic",u=m?" ":" ",p=m?st:dt,s=m?" ":" ",x=m?"border-blue-400":"border-yellow-400",v=m?"hover:shadow-blue-500/20":"hover:shadow-yellow-500/20",g=()=>window.location.hash="#/profile";return e.jsxDEV("div",{className:"bg-primary text-primary p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[e.jsxDEV("header",{className:"flex flex-wrap justify-between items-center mb-8 gap-4",children:[e.jsxDEV("button",{onClick:g,className:"p-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:56,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:55,columnNumber:9},void 0),e.jsxDEV("div",{className:"text-center flex-grow",children:[e.jsxDEV("h1",{className:"text-4xl font-bold",children:[u," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:59,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-secondary mt-2",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:58,columnNumber:9},void 0),e.jsxDEV("div",{className:"w-24"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:62,columnNumber:9},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:54,columnNumber:7},void 0),e.jsxDEV("main",{children:e.jsxDEV("section",{children:[e.jsxDEV("h2",{className:`text-2xl font-semibold mb-5 border-l-4 ${x} pl-4`,children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:67,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(f=>e.jsxDEV(Vw,{...f,available:a[f.mode]??f.available,onSelect:()=>c.handleEnterWaitingRoom(f.mode),hoverColorClass:v},f.mode,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:70,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:66,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Lobby.tsx",lineNumber:53,columnNumber:5},void 0)},ix={[I.Standard]:{title:" ",sections:[{subtitle:" ",content:["   ()    .","            ."]},{subtitle:" ",content:["    .","       .","          ()  .","   ()   ."]},{subtitle:" ",content:["  ,    .","     ( 6.5)   .","     ."]}]},[I.Capture]:{title:" ",sections:[{subtitle:" ",content:["          ."]},{subtitle:" : ",content:["  (: 20)       .","     () ,      .","   ,       ."]},{subtitle:" ",content:["   ,         ."]},{subtitle:" ",content:["         ,   .","   ."]}]},[I.Speed]:{title:" ",sections:[{subtitle:" ",content:["         ."]},{subtitle:" :   ",content:["      .","     ,   (: 5)    .","   ."]},{subtitle:" ",content:["  ,      .","      . (: 5 1)","       ."]}]},[I.Base]:{title:" ",sections:[{subtitle:" ",content:["         ."]},{subtitle:" ",content:["1.  :         .","2.  :   ,    ()  () ,      ( ) .","3.  :       ,     ."]},{subtitle:" ",content:["  ,   1    (5) .","       ."]}]},[I.Hidden]:{title:" ",sections:[{subtitle:" ",content:["         ."]},{subtitle:" ",content:["     ( , )    ."," :     .     .",":           .      ."]},{subtitle:" ",content:["     (4) .","   ,        ."]}]},[I.Missile]:{title:" ",sections:[{subtitle:" ",content:["         ."]},{subtitle:" ",content:["          . (   )"]},{subtitle:" : ",content:["     , , ,      .","       .","       ."]}]},[I.Mix]:{title:" ",sections:[{subtitle:" ",content:["       ."]},{subtitle:" ",content:[", , , ,    2    ."," , + , +     .","        ."]}]},[I.Omok]:{title:"",sections:[{subtitle:" ",content:["  , ,        ."]},{subtitle:"",content:["    .","       .","    3-3 , (6 )     ."]}]},[I.Ttamok]:{title:"",sections:[{subtitle:" ",content:["        .","1.       ()","2.    (: 10) "]},{subtitle:"  ",content:["       ,             .","   ."]},{subtitle:" ",content:["  (3-3 ,   )    ."]}]},[I.Dice]:{title:" ",sections:[{subtitle:" ",content:[" 3 ,    ()  .","        ."]},{subtitle:" ",content:["1.    . (/   )","2.      ( )   .","3.       ."]},{subtitle:" ",content:["   1 1 .","        .","3        .    ."]}]},[I.Thief]:{title:" ",sections:[{subtitle:" ",content:[" 2      ,      ."]},{subtitle:"",content:[" ():         . 1  1 ."," ():     . 1  2 ."]},{subtitle:" ",content:["       .","      ,       .","   5 ."]},{subtitle:" ",content:[":       1 1 ",":      1 1 ","2         .    ."]}]},[I.Alkkagi]:{title:"",sections:[{subtitle:" ",content:["      ."]},{subtitle:" ",content:["1.  :       .","2. :            .","3.       ,           .","       ."]},{subtitle:" ",content:["      .","  ,          .","        ."]},{subtitle:" ",content:[",         .","    ,       ."]}]},[I.Curling]:{title:" ",sections:[{subtitle:" ",content:[" 3       ."]},{subtitle:" ",content:["     ()   .","        .","       ."]},{subtitle:" ",content:[" :   , ()      .  5, 3, 2, 1,      ."," :        1   ."]},{subtitle:"",content:["     ,     1     .    ."]},{subtitle:" ",content:[",         .","    ,       ."]}]}},qy={title:"",sections:[{subtitle:" ",content:["         .","           ."]},{subtitle:"  ",content:[" :   ,     ."," :      ."," :    ,     ."," :       ."," :       ."," :       ."," :      ."]},{subtitle:"  ",content:["    , AI    .","       .","      .","        ."]},{subtitle:"  ",content:["       .","   .","AI    ."]}]},Qy={title:"",sections:[{subtitle:" ",content:["         .","     ."]},{subtitle:"  ",content:[" :          ."," :        .",":       ."," :        ."]},{subtitle:"  ",content:["    , AI    .","       .","      .","        ."]},{subtitle:"  ",content:["       .","   .","AI    ."]}]},Tw=({mode:o,onClose:a})=>{var u,p;if(o==="strategic")return e.jsxDEV(mn,{title:`${qy.title}  `,onClose:a,windowId:`help-${o}`,initialWidth:700,children:e.jsxDEV("div",{className:"max-h-[70vh] overflow-y-auto pr-2 text-gray-300",children:e.jsxDEV("div",{className:"space-y-4",children:[qy.sections.map((s,x)=>e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[x===0&&e.jsxDEV("img",{src:"/images/bg/strategicbg.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:102,columnNumber:49},void 0),x===1&&e.jsxDEV("div",{className:"flex flex-wrap gap-2 flex-shrink-0 w-32",children:st.slice(0,4).map(v=>e.jsxDEV("img",{src:v.image,alt:v.name,className:"w-16 h-16 object-cover rounded-lg"},v.mode,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:105,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:103,columnNumber:49},void 0),x===2&&e.jsxDEV("img",{src:"/images/PlayingArena.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:108,columnNumber:49},void 0),x===3&&e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:110,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:109,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:s.subtitle},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:113,columnNumber:37},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs",children:s.content.map((v,g)=>e.jsxDEV("li",{children:v},g,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:116,columnNumber:45},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:114,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:112,columnNumber:33},void 0)]},x,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:101,columnNumber:29},void 0)),st.map(s=>{const x=ix[s.mode];return x?e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[e.jsxDEV("img",{src:s.image,alt:x.title,className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:128,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-blue-300 mb-2",children:x.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:130,columnNumber:41},void 0),x.sections.map((v,g)=>e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("h4",{className:"font-semibold text-cyan-300 text-sm mb-1",children:v.subtitle},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:133,columnNumber:49},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-400 ml-2",children:v.content.map((f,h)=>e.jsxDEV("li",{children:f},h,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:136,columnNumber:57},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:134,columnNumber:49},void 0)]},g,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:132,columnNumber:45},void 0))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:129,columnNumber:37},void 0)]},s.mode,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:127,columnNumber:33},void 0):null})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:99,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:98,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:97,columnNumber:13},void 0);if(o==="playful")return e.jsxDEV(mn,{title:`${Qy.title}  `,onClose:a,windowId:`help-${o}`,initialWidth:700,children:e.jsxDEV("div",{className:"max-h-[70vh] overflow-y-auto pr-2 text-gray-300",children:e.jsxDEV("div",{className:"space-y-4",children:[Qy.sections.map((s,x)=>e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[x===0&&e.jsxDEV("img",{src:"/images/bg/playfulbg.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:158,columnNumber:49},void 0),x===1&&e.jsxDEV("div",{className:"flex flex-wrap gap-2 flex-shrink-0 w-32",children:dt.slice(0,4).map(v=>e.jsxDEV("img",{src:v.image,alt:v.name,className:"w-16 h-16 object-cover rounded-lg"},v.mode,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:161,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:159,columnNumber:49},void 0),x===2&&e.jsxDEV("img",{src:"/images/PlayingArena.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:164,columnNumber:49},void 0),x===3&&e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-pink-600 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:166,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:165,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:s.subtitle},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:169,columnNumber:37},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs",children:s.content.map((v,g)=>e.jsxDEV("li",{children:v},g,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:172,columnNumber:45},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:170,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:168,columnNumber:33},void 0)]},x,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:157,columnNumber:29},void 0)),dt.map(s=>{const x=ix[s.mode];return x?e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[e.jsxDEV("img",{src:s.image,alt:x.title,className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:184,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-purple-300 mb-2",children:x.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:186,columnNumber:41},void 0),x.sections.map((v,g)=>e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("h4",{className:"font-semibold text-pink-300 text-sm mb-1",children:v.subtitle},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:189,columnNumber:49},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-400 ml-2",children:v.content.map((f,h)=>e.jsxDEV("li",{children:f},h,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:192,columnNumber:57},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:190,columnNumber:49},void 0)]},g,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:188,columnNumber:45},void 0))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:185,columnNumber:37},void 0)]},s.mode,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:183,columnNumber:33},void 0):null})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:155,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:154,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:153,columnNumber:13},void 0);const c=ix[o];if(!c)return e.jsxDEV(mn,{title:"",onClose:a,windowId:`help-${o}`,initialWidth:500,children:e.jsxDEV("p",{className:"text-center text-gray-400",children:"       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:213,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:212,columnNumber:13},void 0);const m=((u=st.find(s=>s.mode===o))==null?void 0:u.image)||((p=dt.find(s=>s.mode===o))==null?void 0:p.image)||"/images/simbols/simbol1.png";return e.jsxDEV(mn,{title:`${c.title}  `,onClose:a,windowId:`help-${o}`,initialWidth:650,children:e.jsxDEV("div",{className:"max-h-[70vh] overflow-y-auto pr-2 text-gray-300",children:e.jsxDEV("div",{className:"space-y-4",children:c.sections.map((s,x)=>e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[x===0&&e.jsxDEV("img",{src:m,alt:c.title,className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:229,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:s.subtitle},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:231,columnNumber:33},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs",children:s.content.map((v,g)=>e.jsxDEV("li",{children:v},g,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:234,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:232,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:230,columnNumber:29},void 0)]},x,!0,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:228,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:226,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:225,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/HelpModal.tsx",lineNumber:224,columnNumber:9},void 0)},Pw=({mode:o,image:a,onSelect:c,isSelected:m,isRejected:u,scaleFactor:p=1})=>{const[s,x]=b.useState(!1),v=Math.max(3,Math.round(6*p)),g=Math.max(70,Math.round(100*p)),f=Math.max(8,Math.round(10*p)),h=Math.max(9,Math.round(11*p));return e.jsxDEV("div",{className:`bg-panel text-on-panel rounded-lg flex flex-col items-center text-center transition-all transform ${u?"opacity-50 cursor-not-allowed grayscale pointer-events-none":m?"ring-2 ring-primary hover:-translate-y-1 shadow-lg cursor-pointer":"hover:-translate-y-1 shadow-lg cursor-pointer"}`,style:{padding:`${v}px`,gap:`${Math.max(4,Math.round(8*p))}px`},onClick:()=>{u||c(o)},children:[e.jsxDEV("div",{className:"w-full flex-shrink-0 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden shadow-inner relative",style:{height:`${g}px`,marginBottom:`${Math.max(4,Math.round(8*p))}px`,padding:`${Math.max(4,Math.round(8*p))}px`},children:s?e.jsxDEV("span",{style:{fontSize:`${f}px`},children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:88,columnNumber:21},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("img",{src:a,alt:o,className:`w-full h-full object-contain ${u?"grayscale":""}`,onError:()=>x(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:70,columnNumber:25},void 0),u&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold text-center",style:{fontSize:`${f}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:78,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:77,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:69,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:60,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow flex flex-col w-full",children:e.jsxDEV("h3",{className:`font-bold leading-tight ${u?"text-gray-400":"text-primary"}`,style:{fontSize:`${h}px`,marginBottom:`${Math.max(2,Math.round(4*p))}px`},children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:92,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:91,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:45,columnNumber:9},void 0)},Iw=({opponent:o,onChallenge:a,onClose:c,lobbyType:m,negotiations:u,currentUser:p})=>{const{currentUserWithStatus:s,handlers:x,onlineUsers:v}=ot(),g=p||s,[f,h]=b.useState(null),[N,y]=b.useState(xl),[E,j]=b.useState(window.innerWidth),[U,S]=b.useState(window.innerHeight);b.useEffect(()=>{const ie=()=>{j(window.innerWidth),S(window.innerHeight)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const M=Math.max(550,Math.min(950,E*.8)),C=Math.max(550,Math.min(850,U*.75)),R=Math.max(.7,Math.min(1.2,M/900)),O={"--scale-factor":R},V=b.useMemo(()=>!g||!u?null:(Array.isArray(u)?u:Object.values(u)).find(fe=>{const W=fe;return W.challenger.id===g.id&&W.opponent.id===o.id})||null,[g,o.id,u]);V&&(V.status==="pending"||V.status);const $=(V==null?void 0:V.status)==="pending"&&(V==null?void 0:V.proposerId)===o.id,z=m==="strategic"?st:dt;b.useEffect(()=>{const ie=v.find(fe=>fe.id===o.id);(!ie||ie.status!=="waiting"&&ie.status!=="online"&&ie.status!=="resting")&&c()},[v,o.id,c]),b.useEffect(()=>{if(!V&&$){const ie=setTimeout(()=>{!(Array.isArray(u)?u:Object.values(u||{})).find(Pe=>Pe.challenger.id===(g==null?void 0:g.id)&&Pe.opponent.id===o.id&&(Pe.status==="pending"||Pe.status==="draft"))&&(console.log("[ChallengeSelectionModal] Negotiation disappeared, closing modal"),c())},500);return()=>clearTimeout(ie)}},[V,$,c,u,g,o.id]),b.useEffect(()=>{V&&V.status==="pending"&&((!f||f!==V.mode)&&h(V.mode),JSON.stringify(N)!==JSON.stringify(V.settings)&&y(V.settings))},[V,f,N]);const P=b.useMemo(()=>{var ie;return(ie=Jn.find(fe=>fe.id===o.avatarId))==null?void 0:ie.url},[o.avatarId]),G=b.useMemo(()=>{var ie;return(ie=Zn.find(fe=>fe.id===o.borderId))==null?void 0:ie.url},[o.borderId]),q=b.useMemo(()=>{if(!f)return null;const fe=(o.stats||{})[f];return fe||{wins:0,losses:0,rankingScore:1200}},[f,o.stats]),B=b.useMemo(()=>m==="strategic"?Math.floor(o.strategyXp/100)+1:Math.floor(o.playfulXp/100)+1,[o,m]),X=b.useMemo(()=>f&&z.find(ie=>ie.mode===f)||null,[f,z]),H=V==null?void 0:V.deadline,[Q,Z]=b.useState(30);b.useEffect(()=>{if(H){const ie=Math.max(0,Math.ceil((H-Date.now())/1e3)),fe=Math.min(ie,30);Z(fe)}else Z(30)},[H]),b.useEffect(()=>{if(!H&&!$)return;const ie=H||Date.now()+3e4,fe=setInterval(()=>{const W=Math.max(0,Math.ceil((ie-Date.now())/1e3)),Pe=Math.min(W,30);Z(Pe),Pe<=0&&(console.log("[ChallengeSelectionModal] Time expired, closing modal"),c())},100);return()=>clearInterval(fe)},[H,$,c]);const ne=Q/30*100,le=ie=>{h(ie);try{const fe=`preferredGameSettings_${ie}`,W=localStorage.getItem(fe);if(W){const Pe=JSON.parse(W);y({...xl,...Pe})}else y({...xl})}catch{y({...xl})}},L=(ie,fe)=>{y(W=>({...W,[ie]:fe}))},ue=async()=>{var ie;if(f&&!((ie=o.rejectedGameModes)!=null&&ie.includes(f)))if(g&&g.status!=="waiting"&&g.status!=="resting")try{await x.handleAction({type:"ENTER_WAITING_ROOM",payload:{mode:m==="strategic"?"strategic":"playful"}}),await new Promise(fe=>setTimeout(fe,200)),a(f,N)}catch(fe){console.error("Failed to enter waiting room:",fe),a(f,N)}else a(f,N)},pe=()=>{if(!f)return e.jsxDEV("div",{className:"text-center text-gray-400",style:{paddingTop:`${Math.max(32,Math.round(32*R))}px`,paddingBottom:`${Math.max(32,Math.round(32*R))}px`,fontSize:`${Math.max(11,Math.round(14*R))}px`},children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:320,columnNumber:9},void 0);const ie=![I.Alkkagi,I.Curling,I.Dice].includes(f),fe=![I.Capture,I.Omok,I.Ttamok,I.Alkkagi,I.Curling,I.Dice,I.Thief,I.Base].includes(f),W=![I.Alkkagi,I.Curling,I.Dice,I.Thief].includes(f),Pe=f===I.Capture,me=f===I.Ttamok,de=f===I.Omok||f===I.Ttamok,Ge=f===I.Base,ve=f===I.Hidden,an=f===I.Missile,ye=f===I.Dice,De=f===I.Alkkagi,We=f===I.Curling,Ie={gap:`${Math.max(3,Math.round(6*R))}px`,marginBottom:`${Math.max(4,Math.round(6*R))}px`},Je={fontSize:`${Math.max(9,Math.round(11*R))}px`},K={fontSize:`${Math.max(9,Math.round(11*R))}px`,padding:`${Math.max(4,Math.round(6*R))}px`};return e.jsxDEV("div",{className:"h-full",style:{gap:`${Math.max(4,Math.round(6*R))}px`,paddingRight:`${Math.max(4,Math.round(6*R))}px`},children:[ie&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 items-center",style:Ie,children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:Je,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:372,columnNumber:13},void 0),e.jsxDEV("select",{value:N.boardSize,onChange:J=>L("boardSize",parseInt(J.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500",style:K,children:(f===I.Omok||f===I.Ttamok?gm:f===I.Capture?hm:f===I.Speed?vm:f===I.Hidden?ym:f===I.Thief?[9,13,19]:f===I.Missile?Dm:xm).map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:391,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:378,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:368,columnNumber:11},void 0),fe&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 items-center",style:Ie,children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:Je,children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:402,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center",style:{gap:`${Math.max(8,Math.round(8*R))}px`},children:[e.jsxDEV("input",{type:"number",step:"1",value:Math.floor(N.komi),onChange:J=>L("komi",parseInt(J.target.value,10)+.5),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500",style:K},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:409,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-bold text-gray-300 whitespace-nowrap",style:Je,children:".5 "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:417,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:408,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:398,columnNumber:11},void 0),W&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:430,columnNumber:15},void 0),e.jsxDEV("select",{value:N.timeLimit,onChange:J=>L("timeLimit",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Wd.map(J=>e.jsxDEV("option",{value:J.value,children:J.label},J.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:436,columnNumber:39},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:431,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:429,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:440,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:N.byoyomiTime,onChange:J=>L("byoyomiTime",parseInt(J.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2",children:qd.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:447,columnNumber:43},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:442,columnNumber:17},void 0),e.jsxDEV("select",{value:N.byoyomiCount,onChange:J=>L("byoyomiCount",parseInt(J.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2",children:Fd.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:454,columnNumber:44},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:449,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:441,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:439,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:428,columnNumber:11},void 0),Pe&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:463,columnNumber:13},void 0),e.jsxDEV("select",{value:N.captureTarget,onChange:J=>L("captureTarget",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Sm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:469,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:464,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:462,columnNumber:11},void 0),Ge&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:476,columnNumber:13},void 0),e.jsxDEV("select",{value:N.baseStones,onChange:J=>L("baseStones",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Us.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:482,columnNumber:43},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:477,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:475,columnNumber:11},void 0),ve&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:490,columnNumber:15},void 0),e.jsxDEV("select",{value:N.hiddenStoneCount,onChange:J=>L("hiddenStoneCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:jm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:496,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:491,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:489,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:500,columnNumber:15},void 0),e.jsxDEV("select",{value:N.scanCount||5,onChange:J=>L("scanCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Mm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:506,columnNumber:39},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:501,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:499,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:488,columnNumber:11},void 0),an&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:514,columnNumber:13},void 0),e.jsxDEV("select",{value:N.missileCount,onChange:J=>L("missileCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Cm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:520,columnNumber:40},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:515,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:513,columnNumber:11},void 0),De&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:528,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiStoneCount,onChange:J=>L("alkkagiStoneCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:ks.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:534,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:529,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:527,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:538,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiRounds,onChange:J=>L("alkkagiRounds",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Rm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:544,columnNumber:42},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:539,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:537,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:526,columnNumber:11},void 0),ye&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:553,columnNumber:15},void 0),e.jsxDEV("select",{value:N.diceGoRounds??3,onChange:J=>L("diceGoRounds",parseInt(J.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:[1,2,3].map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:559,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:554,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:552,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:563,columnNumber:15},void 0),e.jsxDEV("select",{value:N.oddDiceCount??1,onChange:J=>L("oddDiceCount",parseInt(J.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Dr.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:569,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:564,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:562,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:573,columnNumber:15},void 0),e.jsxDEV("select",{value:N.evenDiceCount??1,onChange:J=>L("evenDiceCount",parseInt(J.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Dr.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:579,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:574,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:572,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:551,columnNumber:11},void 0),me&&e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:587,columnNumber:13},void 0),e.jsxDEV("select",{value:N.captureTarget??20,onChange:J=>L("captureTarget",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Hd.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:593,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:588,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:586,columnNumber:11},void 0),de&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:601,columnNumber:15},void 0),e.jsxDEV("input",{type:"checkbox",checked:N.has33Forbidden??!0,onChange:J=>L("has33Forbidden",J.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:602,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:600,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:610,columnNumber:15},void 0),e.jsxDEV("input",{type:"checkbox",checked:N.hasOverlineForbidden??!0,onChange:J=>L("hasOverlineForbidden",J.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:611,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:609,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:599,columnNumber:11},void 0),De&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:624,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiStoneCount??5,onChange:J=>L("alkkagiStoneCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:ks.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:630,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:625,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:623,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:634,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiRounds??1,onChange:J=>L("alkkagiRounds",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Rm.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:640,columnNumber:42},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:635,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:633,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiPlacementType??Jl.TurnByTurn,onChange:J=>L("alkkagiPlacementType",J.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Object.values(Jl).map(J=>e.jsxDEV("option",{value:J,children:J},J,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:650,columnNumber:66},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:645,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:643,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:654,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiLayout??Xl.Normal,onChange:J=>L("alkkagiLayout",J.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Object.values(Xl).map(J=>e.jsxDEV("option",{value:J,children:J},J,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:660,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:655,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:653,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:664,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiGaugeSpeed??700,onChange:J=>L("alkkagiGaugeSpeed",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Ts.map(J=>e.jsxDEV("option",{value:J.value,children:J.label},J.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:670,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:665,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:663,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:674,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiSlowItemCount??2,onChange:J=>L("alkkagiSlowItemCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Sr.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:680,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:675,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:673,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:684,columnNumber:15},void 0),e.jsxDEV("select",{value:N.alkkagiAimingLineItemCount??2,onChange:J=>L("alkkagiAimingLineItemCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Sr.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:690,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:685,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:683,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:622,columnNumber:11},void 0),We&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:699,columnNumber:15},void 0),e.jsxDEV("select",{value:N.curlingStoneCount??5,onChange:J=>L("curlingStoneCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Em.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:705,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:700,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:698,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:709,columnNumber:15},void 0),e.jsxDEV("select",{value:N.curlingRounds??3,onChange:J=>L("curlingRounds",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Qd.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:715,columnNumber:42},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:710,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:708,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:719,columnNumber:15},void 0),e.jsxDEV("select",{value:N.curlingGaugeSpeed??700,onChange:J=>L("curlingGaugeSpeed",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Ps.map(J=>e.jsxDEV("option",{value:J.value,children:J.label},J.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:725,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:718,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:729,columnNumber:15},void 0),e.jsxDEV("select",{value:N.curlingSlowItemCount??2,onChange:J=>L("curlingSlowItemCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Ta.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:735,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:730,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:728,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-row lg:grid lg:grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 text-xs lg:text-sm flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:739,columnNumber:15},void 0),e.jsxDEV("select",{value:N.curlingAimingLineItemCount??2,onChange:J=>L("curlingAimingLineItemCount",parseInt(J.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white text-xs lg:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",children:Ta.map(J=>e.jsxDEV("option",{value:J,children:[J,""]},J,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:745,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:740,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:738,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:697,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:360,columnNumber:7},void 0)};return e.jsxDEV(mn,{title:" ",windowId:"challenge-selection",onClose:c,initialWidth:M,initialHeight:C,children:e.jsxDEV("div",{onMouseDown:ie=>ie.stopPropagation(),className:"h-full flex flex-col overflow-hidden",style:O,children:e.jsxDEV("div",{className:"flex flex-row flex-1 min-h-0 overflow-hidden",style:{gap:`${Math.max(8,Math.round(16*R))}px`},children:[e.jsxDEV("div",{className:"w-1/3 border-r border-gray-700 flex flex-col min-h-0 overflow-hidden",style:{paddingRight:`${Math.max(8,Math.round(16*R))}px`},children:[e.jsxDEV("p",{className:"text-center text-yellow-300 flex-shrink-0",style:{marginBottom:`${Math.max(6,Math.round(10*R))}px`,fontSize:`${Math.max(9,Math.round(11*R))}px`},children:$?`${o.nickname}   ...`:`${o.nickname}  .`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:767,columnNumber:13},void 0),$&&X?e.jsxDEV(e.Fragment,{children:[H&&e.jsxDEV("div",{className:"flex-shrink-0",style:{marginBottom:`${Math.max(8,Math.round(10*R))}px`},children:e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700",style:{padding:`${Math.max(8,Math.round(10*R))}px`},children:[e.jsxDEV("div",{className:"flex items-center justify-between",style:{marginBottom:`${Math.max(6,Math.round(6*R))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",style:{fontSize:`${Math.max(9,Math.round(11*R))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:789,columnNumber:25},void 0),e.jsxDEV("span",{className:`font-bold ${Q<=5?"text-red-400":Q<=10?"text-yellow-400":"text-green-400"}`,style:{fontSize:`${Math.max(12,Math.round(16*R))}px`},children:[Q,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:792,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:788,columnNumber:23},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full overflow-hidden",style:{height:`${Math.max(8,Math.round(12*R))}px`},children:e.jsxDEV("div",{className:`h-full transition-all duration-100 ${Q<=5?"bg-red-500":Q<=10?"bg-yellow-500":"bg-green-500"}`,style:{width:`${ne}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:800,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:799,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:784,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:783,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-shrink-0",style:{marginBottom:`${Math.max(10,Math.round(14*R))}px`},children:[e.jsxDEV("div",{className:"w-full bg-tertiary rounded-lg flex items-center justify-center overflow-hidden shadow-inner relative",style:{height:`${Math.max(120,Math.round(160*R))}px`},children:e.jsxDEV("img",{src:X.image,alt:f||"",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:815,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:811,columnNumber:19},void 0),e.jsxDEV("h3",{className:"text-center font-bold text-primary mt-2",style:{fontSize:`${Math.max(14,Math.round(18*R))}px`},children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:821,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:810,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto",style:{paddingRight:`${Math.max(4,Math.round(8*R))}px`},children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300",style:{marginBottom:`${Math.max(8,Math.round(12*R))}px`,fontSize:`${Math.max(11,Math.round(14*R))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:831,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-tertiary leading-relaxed",style:{fontSize:`${Math.max(10,Math.round(12*R))}px`},children:X.description||"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:840,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:830,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:780,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex-1 grid grid-cols-2 overflow-y-auto min-h-0",style:{gap:`${Math.max(6,Math.round(12*R))}px`,paddingRight:`${Math.max(4,Math.round(8*R))}px`},children:z.map(ie=>{var W;const fe=((W=o.rejectedGameModes)==null?void 0:W.includes(ie.mode))||!1;return e.jsxDEV(Pw,{mode:ie.mode,image:ie.image,onSelect:le,isSelected:f===ie.mode,isRejected:fe,scaleFactor:R},ie.mode,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:859,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:849,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:763,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-2/3 flex flex-col min-h-0 overflow-hidden",style:{paddingLeft:`${Math.max(8,Math.round(16*R))}px`},children:[e.jsxDEV("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700 flex-shrink-0",style:{padding:`${Math.max(8,Math.round(12*R))}px`,marginBottom:`${Math.max(8,Math.round(12*R))}px`},children:[e.jsxDEV("div",{className:"flex items-center",style:{gap:`${Math.max(8,Math.round(12*R))}px`,marginBottom:`${Math.max(8,Math.round(12*R))}px`},children:[e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:P,borderUrl:G,size:Math.max(32,Math.round(40*R))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:894,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("h3",{className:"font-bold",style:{fontSize:`${Math.max(14,Math.round(18*R))}px`},children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:902,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:`${Math.max(10,Math.round(12*R))}px`},children:[m==="strategic"?"":""," Lv.",B]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:908,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:901,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:887,columnNumber:15},void 0),f&&q&&e.jsxDEV("div",{className:"border-t border-gray-700",style:{paddingTop:`${Math.max(12,Math.round(16*R))}px`,marginTop:`${Math.max(12,Math.round(16*R))}px`},children:[e.jsxDEV("p",{className:"font-semibold text-gray-300",style:{marginBottom:`${Math.max(8,Math.round(8*R))}px`,fontSize:`${Math.max(10,Math.round(12*R))}px`},children:[f," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:925,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",style:{fontSize:`${Math.max(10,Math.round(12*R))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:938,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold",children:[q.wins," ",q.losses," (",q.wins+q.losses>0?Math.round(q.wins/(q.wins+q.losses)*100):0,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:939,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:934,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",style:{marginTop:`${Math.max(4,Math.round(4*R))}px`,fontSize:`${Math.max(10,Math.round(12*R))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:953,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-mono text-yellow-300",children:[q.rankingScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:954,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:946,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:918,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:880,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 flex-shrink-0",style:{marginBottom:`${Math.max(6,Math.round(8*R))}px`,fontSize:`${Math.max(10,Math.round(12*R))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:962,columnNumber:15},void 0),$?e.jsxDEV("div",{className:"overflow-y-auto",style:{gap:`${Math.max(8,Math.round(12*R))}px`,paddingRight:`${Math.max(8,Math.round(8*R))}px`},children:pe()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:972,columnNumber:17},void 0):pe()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:961,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-t border-gray-700 flex justify-end flex-shrink-0",style:{marginTop:`${Math.max(6,Math.round(8*R))}px`,paddingTop:`${Math.max(6,Math.round(8*R))}px`,gap:`${Math.max(8,Math.round(12*R))}px`},children:[e.jsxDEV(ae,{onClick:c,className:"!text-sm",style:{fontSize:`${Math.max(11,Math.round(14*R))}px`,padding:`${Math.max(6,Math.round(8*R))}px ${Math.max(12,Math.round(16*R))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:995,columnNumber:15},void 0),$?e.jsxDEV(ae,{disabled:!0,className:"!text-sm",style:{fontSize:`${Math.max(11,Math.round(14*R))}px`,padding:`${Math.max(6,Math.round(8*R))}px ${Math.max(12,Math.round(16*R))}px`},children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:1006,columnNumber:17},void 0):e.jsxDEV(ae,{onClick:ue,disabled:!f,className:"!text-sm",style:{fontSize:`${Math.max(11,Math.round(14*R))}px`,padding:`${Math.max(6,Math.round(8*R))}px ${Math.max(12,Math.round(16*R))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:1017,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:987,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:875,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:761,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:756,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeSelectionModal.tsx",lineNumber:755,columnNumber:5},void 0)},_w=({onClose:o,lobbyType:a})=>{const{currentUserWithStatus:c,handlers:m}=ot(),[u,p]=b.useState([]);b.useEffect(()=>{c!=null&&c.rejectedGameModes&&p(c.rejectedGameModes)},[c]);const s=b.useMemo(()=>a==="strategic"?st.map(g=>({mode:g.mode,name:g.name})):a==="playful"?dt.map(g=>({mode:g.mode,name:g.name})):[...st.map(g=>({mode:g.mode,name:g.name})),...dt.map(g=>({mode:g.mode,name:g.name}))],[a]),x=g=>{p(f=>f.includes(g)?f.filter(h=>h!==g):[...f,g])},v=()=>{m.handleAction({type:"UPDATE_REJECTION_SETTINGS",payload:{rejectedGameModes:u}}),o()};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-panel rounded-xl shadow-2xl w-full max-w-md p-6 border border-gray-700 flex flex-col",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-4 text-white",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:64,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-4",children:"      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:65,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 mb-6",children:s.length>0?s.map((g,f)=>e.jsxDEV("label",{className:"flex items-center text-white cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:u.includes(g.mode),onChange:()=>x(g.mode),className:"form-checkbox h-5 w-5 text-accent rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("span",{className:"ml-2",children:g.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:76,columnNumber:17},void 0)]},`${g.mode}-${f}`,!0,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:69,columnNumber:15},void 0)):e.jsxDEV("p",{className:"text-gray-400 text-sm",children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:66,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-end gap-3",children:[e.jsxDEV(ae,{onClick:o,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:84,columnNumber:11},void 0),e.jsxDEV(ae,{onClick:v,colorScheme:"green",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:85,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:83,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:63,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameRejectionSettingsModal.tsx",lineNumber:62,columnNumber:5},void 0)},Yy={online:{text:"",color:"text-green-500"},waiting:{text:" ",color:"text-green-400"},resting:{text:" ",color:"text-gray-400"},negotiating:{text:" ",color:"text-yellow-400"},"in-game":{text:" ",color:"text-blue-400"},spectating:{text:" ",color:"text-purple-400"}},Ky=({users:o,onAction:a,currentUser:c,mode:m,negotiations:u,onViewUser:p,lobbyType:s,userCount:x})=>{const[v,g]=b.useState(!1),[f,h]=b.useState(null),[N,y]=b.useState(!1),E=o.find(M=>M.id===c.id),j=o.filter(M=>M.id!==c.id).sort((M,C)=>M.nickname.localeCompare(C.nickname)),U=M=>c.status!=="waiting"?!1:M.status==="waiting"||M.status==="online",S=(M,C)=>{var P,G;const w=!C&&U(M),R=Yy[M.status],O=m===I.Dice,V=C?null:u.find(q=>q.challenger.id===c.id&&q.opponent.id===M.id&&(q.status==="pending"||q.status==="draft")),$=(P=Jn.find(q=>q.id===M.avatarId))==null?void 0:P.url,z=(G=Zn.find(q=>q.id===M.borderId))==null?void 0:G.url;return e.jsxDEV("li",{className:`flex items-center justify-between p-1.5 rounded-lg ${C?"bg-blue-900/40 border border-blue-700":"bg-tertiary/50"}`,children:[e.jsxDEV("div",{className:`flex items-center gap-2 lg:gap-3 overflow-hidden ${C?"":"cursor-pointer"}`,onClick:()=>!C&&p(M.id),title:C?"":`${M.nickname}  `,children:[e.jsxDEV(_n,{userId:M.id,userName:M.nickname,size:36,className:"border-2 border-color",avatarUrl:$,borderUrl:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:67,columnNumber:21},void 0),O&&e.jsxDEV("div",{className:"w-5 h-5 rounded-full bg-black border border-gray-300 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:68,columnNumber:34},void 0),e.jsxDEV("div",{className:"overflow-hidden",children:[e.jsxDEV("h3",{className:"font-bold text-sm lg:text-base truncate",children:M.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("span",{className:`text-xs ${R.color}`,children:[" ",R.text]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:71,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:69,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:62,columnNumber:17},void 0),C?e.jsxDEV("select",{value:c.status,onChange:q=>a({type:"SET_USER_STATUS",payload:{status:q.target.value}}),disabled:!["waiting","resting"].includes(c.status),className:"px-2 py-1 lg:px-3 lg:py-1.5 bg-secondary border border-color rounded-lg text-xs lg:text-sm transition-colors w-20 lg:w-24 text-center focus:ring-accent focus:border-accent disabled:opacity-50",children:[e.jsxDEV("option",{value:"waiting",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:81,columnNumber:25},void 0),e.jsxDEV("option",{value:"resting",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:82,columnNumber:25},void 0),!["waiting","resting"].includes(c.status)&&e.jsxDEV("option",{value:c.status,disabled:!0,children:Yy[c.status].text},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:84,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:75,columnNumber:21},void 0):e.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.isAdmin&&!M.isAdmin&&e.jsxDEV(ae,{onClick:()=>{window.confirm(`[${M.nickname}]   ?`)&&a({type:"ADMIN_FORCE_LOGOUT",payload:{targetUserId:M.id}})},colorScheme:"red",className:"!text-xs !py-1 !px-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:90,columnNumber:29},void 0),V?e.jsxDEV(ae,{onClick:()=>a({type:"DECLINE_NEGOTIATION",payload:{negotiationId:V.id}}),colorScheme:"red",className:"!text-xs !py-1 !px-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:103,columnNumber:30},void 0):e.jsxDEV(ae,{onClick:()=>{h(M),g(!0)},disabled:!w,className:"!text-xs !py-1 !px-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:111,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:88,columnNumber:21},void 0)]},M.id,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:61,columnNumber:13},void 0)};return e.jsxDEV("div",{className:"p-3 flex flex-col min-h-0 text-on-panel",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-2 border-b border-color pb-2 flex-shrink-0 flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-2",children:[" ",x!==void 0&&e.jsxDEV("span",{className:"text-sm text-secondary font-normal",children:["(",x,"  )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:134,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:131,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>y(!0),colorScheme:"none",className:"!text-xs !py-1 !px-2 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-bold rounded-lg shadow-lg transition-all duration-200",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:137,columnNumber:33},void 0),"            "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:130,columnNumber:14},void 0),E&&e.jsxDEV("div",{className:"flex-shrink-0 mb-2",children:S(E,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:145,columnNumber:15},void 0),e.jsxDEV("ul",{className:"space-y-2 overflow-y-auto pr-2 max-h-[calc(var(--vh,1vh)*25)] min-h-[96px]",children:j.length>0?j.map(M=>S(M,!1)):e.jsxDEV("p",{className:"text-center text-tertiary pt-8",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:151,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:149,columnNumber:13},void 0),N&&e.jsxDEV(_w,{onClose:()=>y(!1),lobbyType:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:155,columnNumber:17},void 0),v&&f&&e.jsxDEV(Iw,{opponent:f,onClose:()=>g(!1),negotiations:u,currentUser:c,onChallenge:async(M,C)=>{var R;const w={type:"CHALLENGE_USER",payload:{opponentId:f.id,mode:M,settings:C}};try{const V=await(await fetch("/api/action",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...w,userId:c.id})})).json();if(V.error){alert(V.error);return}const $=V.negotiationId||((R=V.clientResponse)==null?void 0:R.negotiationId);$?a({type:"SEND_CHALLENGE",payload:{negotiationId:$,settings:C}}):setTimeout(()=>{const P=Object.values(u||{}).find(G=>G.challenger.id===c.id&&G.opponent.id===f.id&&G.status==="draft");P&&a({type:"SEND_CHALLENGE",payload:{negotiationId:P.id,settings:C}})},300)}catch(O){console.error("Failed to send challenge:",O),alert("   .")}},lobbyType:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:161,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/PlayerList.tsx",lineNumber:129,columnNumber:9},void 0)},Bw=(o,a,c)=>{for(const m of mi)if(m.threshold(o,a,c))return m;return mi[mi.length-1]},Lw=()=>{const o=new Date,a=o.getFullYear().toString().slice(-2),c=o.getMonth();let m;return c<3?m=1:c<6?m=2:c<9?m=3:m=4,`${a}-${m}`},Jy=({currentUser:o,mode:a,onViewUser:c,onShowTierInfo:m,onShowPastRankings:u,lobbyType:p})=>{const{allUsers:s}=ot(),x=b.useMemo(()=>{const U=p==="strategic"?st:dt;return[...s].map(S=>{var R;let M=0,C=0;for(const O of U){const V=(R=S.stats)==null?void 0:R[O.mode];V&&(M+=V.rankingScore||0,C++)}const w=C>0?M/C:0;return{...S,avgScore:w}}).filter(S=>S.avgScore>0).sort((S,M)=>M.avgScore-S.avgScore)},[s,p]),v=b.useMemo(()=>{const U=p==="strategic"?st:dt;return x.filter(S=>{var C;let M=0;for(const w of U){const R=(C=S.stats)==null?void 0:C[w.mode];R&&(M+=(R.wins||0)+(R.losses||0))}return M>=20})},[x,p]);v.length;const g=mi[mi.length-1],f=x.findIndex(U=>U.id===o.id),h=f!==-1?{user:x[f],rank:f+1,score:x[f].avgScore}:null,N=x.slice(0,100),y=b.useCallback(U=>{var w;const S=v.findIndex(R=>R.id===U.id)+1;if(S===0)return g;const M=p==="strategic"?st:dt;let C=0;for(const R of M){const O=(w=U.stats)==null?void 0:w[R.mode];O&&(C+=(O.wins||0)+(O.losses||0))}return Bw(U.avgScore,S,C)},[p,v,g]),E=b.useCallback((U,S,M)=>{var ne,le,L;const C=p==="strategic"?st:dt;let w=0,R=0;for(const ue of C){const pe=(ne=U.stats)==null?void 0:ne[ue.mode];pe&&(w+=pe.wins||0,R+=pe.losses||0)}const O=w+R>0?Math.round(w/(w+R)*100):0,V=U.avgScore,$=y(U),z=!M&&U.id===o.id,P="flex items-center gap-2 rounded-lg",G="bg-yellow-900/40 border border-yellow-700",q="bg-blue-900/60 border border-blue-600",B="bg-tertiary/50",X=!M&&U.id!==o.id,H=`${P} ${M?G:z?q:B} p-1.5 ${X?"cursor-pointer hover:bg-secondary/50":""}`,Q=(le=Jn.find(ue=>ue.id===U.avatarId))==null?void 0:le.url,Z=(L=Zn.find(ue=>ue.id===U.borderId))==null?void 0:L.url;return e.jsxDEV("li",{className:H,onClick:X?()=>c(U.id):void 0,title:X?`${U.nickname}  `:"",children:[e.jsxDEV("span",{className:"w-8 text-center font-mono text-sm",children:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:137,columnNumber:17},void 0),e.jsxDEV("img",{src:$.icon,alt:$.name,className:"w-8 h-8 flex-shrink-0",title:$.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:138,columnNumber:17},void 0),e.jsxDEV(_n,{userId:U.id,userName:U.nickname,size:32,avatarUrl:Q,borderUrl:Z},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-hidden",children:[e.jsxDEV("p",{className:"font-semibold text-sm truncate",children:U.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:141,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-highlight font-mono",children:[Math.round(V),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:142,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:140,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-right text-[10px] lg:text-xs flex-shrink-0 w-20 text-tertiary",children:[e.jsxDEV("p",{children:[w," ",R,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:145,columnNumber:21},void 0),e.jsxDEV("p",{className:"font-semibold",children:[O,"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:146,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:144,columnNumber:17},void 0)]},U.id,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:131,columnNumber:13},void 0)},[p,o.id,y,c]),j=p==="strategic"?" ":p==="playful"?" ":`${a} `;return e.jsxDEV("div",{className:"p-4 flex flex-col text-on-panel",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3 border-b border-color pb-2 flex-shrink-0 flex-wrap gap-2",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:[j," (",Lw(),")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:157,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ae,{onClick:()=>u({user:o,mode:a}),colorScheme:"none",className:"!text-xs !py-1 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-bold rounded-lg shadow-lg transition-all duration-200",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:159,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:m,colorScheme:"none",className:"!text-xs !py-1 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-bold rounded-lg shadow-lg transition-all duration-200",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:166,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:158,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:156,columnNumber:13},void 0),h&&e.jsxDEV("div",{className:"flex-shrink-0 mb-3",children:E(h.user,h.rank,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV("ul",{className:"space-y-2 overflow-y-auto pr-2 h-72",children:N.length>0?N.map((U,S)=>E(U,S+1,!1)):e.jsxDEV("p",{className:"text-center text-tertiary pt-8",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:184,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:182,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/RankingList.tsx",lineNumber:155,columnNumber:9},void 0)},Xy=({games:o,onAction:a,currentUser:c})=>{const[m,u]=b.useState(""),[p,s]=b.useState(null),x=b.useRef(null);b.useEffect(()=>{const N=y=>{x.current&&!x.current.contains(y.target)&&s(null)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const v=()=>{const N=parseInt(m,10);if(isNaN(N)||N<1||N>o.length){alert("   .");return}const y=o[N-1];y&&a({type:"SPECTATE_GAME",payload:{gameId:y.id}}),u("")},g=N=>{s(y=>y===N?null:N)},f=N=>{const y=prompt("   (50 ):",N.description||"");if(y!==null){if(y.length>50){alert("  50   .");return}a({type:"ADMIN_SET_GAME_DESCRIPTION",payload:{gameId:N.id,description:y}})}s(null)},h=N=>{window.confirm(`[${N.player1.nickname} vs ${N.player2.nickname}]   ?`)&&a({type:"ADMIN_FORCE_DELETE_GAME",payload:{gameId:N.id}}),s(null)};return e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel rounded-lg shadow-lg p-4 flex flex-col min-h-0 h-full",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3 border-b border-color pb-2 flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:67,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",min:"1",placeholder:" ",value:m,onChange:N=>{const y=N.target.value;(y===""||parseInt(y,10)>0)&&u(y)},onKeyDown:N=>{N.key==="Enter"&&v()},className:"w-24 bg-tertiary border border-color rounded-md p-2 focus:ring-accent focus:border-accent text-sm text-center"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:69,columnNumber:17},void 0),e.jsxDEV("button",{onClick:v,className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-lg text-sm transition-colors shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:83,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:66,columnNumber:9},void 0),e.jsxDEV("ul",{className:"space-y-3 overflow-y-auto pr-2 flex-grow",children:o.length>0?o.map((N,y)=>!N||!N.player1||!N.player2?null:e.jsxDEV("li",{className:"relative",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2.5 bg-tertiary/50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-3 flex-1 overflow-hidden",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-8 h-8 flex items-center justify-center bg-secondary rounded-full font-bold text-sm ${c.isAdmin?"cursor-pointer hover:bg-tertiary transition-colors":""}`,onClick:c.isAdmin?()=>g(N.id):void 0,title:c.isAdmin?"  ":` : ${y+1}`,children:y+1},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:97,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsxDEV("div",{className:"text-center truncate",children:[e.jsxDEV(_n,{userId:N.player1.id,userName:N.player1.nickname,size:36,className:"border-2 border-color mx-auto"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:106,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs font-semibold block truncate",children:N.player1.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:107,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:105,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-tertiary font-bold",children:"vs"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:109,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-center truncate",children:[e.jsxDEV(_n,{userId:N.player2.id,userName:N.player2.nickname,size:36,className:"border-2 border-color mx-auto"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:111,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs font-semibold block truncate",children:N.player2.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:112,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:110,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:104,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:96,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[N.description&&e.jsxDEV("div",{className:"text-sm text-highlight truncate max-w-xs hidden md:block",title:N.description,children:N.description},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:118,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SPECTATE_GAME",payload:{gameId:N.id}}),className:"ml-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-lg text-sm transition-colors shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:116,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:95,columnNumber:17},void 0),c.isAdmin&&p===N.id&&e.jsxDEV("div",{ref:x,className:"absolute top-12 left-2 z-10 bg-secondary rounded-md shadow-lg p-2 space-y-2 w-48 border border-color",children:[e.jsxDEV("button",{onClick:()=>f(N),className:"w-full text-left px-3 py-1.5 text-sm rounded hover:bg-accent transition-colors",children:"  /"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:129,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>h(N),className:"w-full text-left px-3 py-1.5 text-sm rounded hover:bg-danger text-red-300 transition-colors",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:132,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:128,columnNumber:21},void 0)]},N.id,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:94,columnNumber:15},void 0)):e.jsxDEV("p",{className:"text-center text-tertiary pt-8",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:140,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/GameList.tsx",lineNumber:65,columnNumber:7},void 0)},$w=({onClose:o})=>{const a={:" 0.1%",:" 3%",:" 5%",:" 10%",:" 25%",:" 40%",:" 60%",:" 80%",:" "},c=u=>{if(u.includes(""))return"/images/icon/Zem.png";const p=vl.find(s=>s.name===u);return(p==null?void 0:p.image)||null},m=u=>{const p=uw[u];if(!p)return e.jsxDEV("span",{className:"text-gray-500",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:31,columnNumber:29},void 0);const s=[];return p.diamonds&&s.push({name:`${p.diamonds.toLocaleString()}`,image:"/images/icon/Zem.png"}),p.items&&p.items.forEach(x=>{const v="itemId"in x?x.itemId:x.name,g=c(v);s.push({name:`${v} x${x.quantity}`,image:g})}),e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:s.map((x,v)=>x.image&&e.jsxDEV("div",{className:"flex items-center gap-1.5 bg-gray-700/50 px-2 py-1 rounded-md",title:x.name,children:[e.jsxDEV("img",{src:x.image,alt:x.name,className:"w-5 h-5 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:50,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-300 whitespace-nowrap text-xs",children:x.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:51,columnNumber:29},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:49,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:46,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:"   ",onClose:o,windowId:"ranking-tier-info-modal",initialWidth:600,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-300",children:"        .        ,  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:62,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[e.jsxDEV("h4",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:67,columnNumber:21},void 0),e.jsxDEV("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"font-semibold",children:" 1:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:69,columnNumber:29},void 0)," 1 1 ~ 3 31"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:69,columnNumber:25},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"font-semibold",children:" 2:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:70,columnNumber:29},void 0)," 4 1 ~ 6 30"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"font-semibold",children:" 3:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:71,columnNumber:29},void 0)," 7 1 ~ 9 30"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:71,columnNumber:25},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"font-semibold",children:" 4:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:72,columnNumber:29},void 0)," 10 1 ~ 12 31"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:72,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:68,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-2",children:"       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:74,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:66,columnNumber:17},void 0),e.jsxDEV("ul",{className:"space-y-2 max-h-[40vh] overflow-y-auto pr-2",children:mi.map(u=>e.jsxDEV("li",{className:"p-3 bg-gray-900/50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("img",{src:u.icon,alt:u.name,className:"w-12 h-12 mr-4 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:83,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("p",{className:`font-bold text-lg ${u.color}`,children:u.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:85,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:a[u.name]||"N/A"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:86,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:84,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:82,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-gray-700/50",children:[e.jsxDEV("h5",{className:"text-xs font-semibold text-gray-400 mb-1.5",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:90,columnNumber:33},void 0),m(u.name)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:89,columnNumber:29},void 0)]},u.name,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:81,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:79,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:61,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TierInfoModal.tsx",lineNumber:60,columnNumber:9},void 0)},Ow=({mode:o,image:a,onSelect:c,isSelected:m})=>{const[u,p]=b.useState(!1);return e.jsxDEV("div",{className:`bg-panel text-on-panel rounded-lg flex flex-col items-center text-center transition-all transform ${m?"ring-2 ring-purple-500 hover:-translate-y-1 shadow-lg cursor-pointer":"hover:-translate-y-1 shadow-lg cursor-pointer"}`,style:{padding:"8px",gap:"4px"},onClick:()=>c(o),children:[e.jsxDEV("div",{className:"w-full flex-shrink-0 bg-tertiary rounded-md flex items-center justify-center text-tertiary overflow-hidden shadow-inner relative",style:{height:"100px",marginBottom:"4px",padding:"4px"},children:u?e.jsxDEV("span",{style:{fontSize:"10px"},children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:52,columnNumber:21},void 0):e.jsxDEV("img",{src:a,alt:o,className:"w-full h-full object-contain",onError:()=>p(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:45,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow flex flex-col w-full",children:e.jsxDEV("h3",{className:"font-bold leading-tight text-primary",style:{fontSize:"11px",marginBottom:"2px"},children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:56,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:31,columnNumber:9},void 0)},Gw=({lobbyType:o,onClose:a,onAction:c})=>{var w;const m=o==="strategic"?st:dt,[u,p]=b.useState(((w=m[0])==null?void 0:w.mode)||null),[s,x]=b.useState(xl),[v,g]=b.useState(window.innerWidth),[f,h]=b.useState(window.innerHeight);b.useEffect(()=>{const R=()=>{g(window.innerWidth),h(window.innerHeight)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const N=v<768,y=Math.max(550,Math.min(950,v*.8)),E=Math.max(500,Math.min(800,f*.75)),j=N?.85:1,U=b.useMemo(()=>m.find(R=>R.mode===u),[m,u]);b.useEffect(()=>{if(u){const R=localStorage.getItem(`preferredGameSettings_${u}`);if(R)try{const O=JSON.parse(R);x({...xl,...O})}catch{x({...xl})}else x({...xl})}},[u]);const S=(R,O)=>{x(V=>{const $={...V,[R]:O};return u&&localStorage.setItem(`preferredGameSettings_${u}`,JSON.stringify($)),$})},M=()=>{u&&(c({type:"START_AI_GAME",payload:{mode:u,settings:s}}),a())},C=()=>{if(!u)return e.jsxDEV("div",{className:"text-center text-gray-400 py-8",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:138,columnNumber:17},void 0);const R=![I.Alkkagi,I.Curling,I.Dice].includes(u),O=![I.Capture,I.Omok,I.Ttamok,I.Alkkagi,I.Curling,I.Dice,I.Thief,I.Base].includes(u),V=![I.Alkkagi,I.Curling,I.Dice,I.Thief].includes(u),$=u===I.Capture,z=u===I.Ttamok,P=u===I.Base,G=u===I.Hidden,q=u===I.Missile,B=u===I.Dice,X=u===I.Alkkagi,H=u===I.Curling,Q=u===I.Thief,Z=[I.Dice,I.Alkkagi,I.Curling].includes(u),ne=u===I.Omok,le=u===I.Ttamok;return e.jsxDEV("div",{className:"h-full flex flex-col gap-2 overflow-y-auto pr-2",children:[R&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:165,columnNumber:25},void 0),e.jsxDEV("select",{value:s.boardSize,onChange:L=>S("boardSize",parseInt(L.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:(u===I.Omok||u===I.Ttamok?gm:u===I.Capture?hm:u===I.Speed?vm:u===I.Hidden?ym:u===I.Thief?[9,13,19]:u===I.Missile?Dm:xm).map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:179,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:166,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:164,columnNumber:21},void 0),O&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:187,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",step:"1",value:Math.floor(s.komi),onChange:L=>S("komi",parseInt(L.target.value,10)+.5),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:189,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-gray-300 whitespace-nowrap",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:".5 "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:197,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:188,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:186,columnNumber:21},void 0),V&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:205,columnNumber:29},void 0),e.jsxDEV("select",{value:s.timeLimit,onChange:L=>S("timeLimit",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Wd.map(L=>e.jsxDEV("option",{value:L.value,children:L.label},L.value,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:212,columnNumber:55},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:206,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:204,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:216,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:s.byoyomiTime,onChange:L=>S("byoyomiTime",parseInt(L.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:qd.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:224,columnNumber:61},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:218,columnNumber:33},void 0),e.jsxDEV("select",{value:s.byoyomiCount,onChange:L=>S("byoyomiCount",parseInt(L.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Fd.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:232,columnNumber:62},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:226,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:217,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:215,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:203,columnNumber:21},void 0),$&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:241,columnNumber:25},void 0),e.jsxDEV("select",{value:s.captureTarget,onChange:L=>S("captureTarget",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Sm.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:248,columnNumber:55},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:242,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:240,columnNumber:21},void 0),z&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:255,columnNumber:25},void 0),e.jsxDEV("select",{value:s.captureTarget||5,onChange:L=>S("captureTarget",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Hd.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:262,columnNumber:62},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:256,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:254,columnNumber:21},void 0),ne&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:270,columnNumber:29},void 0),e.jsxDEV("input",{type:"checkbox",checked:s.has33Forbidden??!0,onChange:L=>S("has33Forbidden",L.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:271,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:269,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:279,columnNumber:29},void 0),e.jsxDEV("input",{type:"checkbox",checked:s.hasOverlineForbidden??!0,onChange:L=>S("hasOverlineForbidden",L.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:280,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:278,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:268,columnNumber:21},void 0),le&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:293,columnNumber:29},void 0),e.jsxDEV("input",{type:"checkbox",checked:s.has33Forbidden??!0,onChange:L=>S("has33Forbidden",L.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:294,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:292,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:302,columnNumber:29},void 0),e.jsxDEV("input",{type:"checkbox",checked:s.hasOverlineForbidden??!0,onChange:L=>S("hasOverlineForbidden",L.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:303,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:301,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:291,columnNumber:21},void 0),Z&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:315,columnNumber:25},void 0),e.jsxDEV("select",{value:s.player1Color===oe.Black?"black":s.player1Color===oe.White?"white":"random",onChange:L=>{L.target.value==="black"?S("player1Color",oe.Black):L.target.value==="white"?S("player1Color",oe.White):S("player1Color",void 0)},className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:[e.jsxDEV("option",{value:"random",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:330,columnNumber:29},void 0),e.jsxDEV("option",{value:"black",children:u===I.Dice?"":" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:331,columnNumber:29},void 0),e.jsxDEV("option",{value:"white",children:u===I.Dice?"":" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:332,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:316,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:314,columnNumber:21},void 0),Q&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:339,columnNumber:25},void 0),e.jsxDEV("select",{value:s.player1Color===oe.Black?"thief":s.player1Color===oe.White?"police":"random",onChange:L=>{L.target.value==="thief"?S("player1Color",oe.Black):L.target.value==="police"?S("player1Color",oe.White):S("player1Color",void 0)},className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:[e.jsxDEV("option",{value:"random",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:354,columnNumber:29},void 0),e.jsxDEV("option",{value:"thief",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:355,columnNumber:29},void 0),e.jsxDEV("option",{value:"police",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:356,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:340,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:338,columnNumber:21},void 0),P&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:363,columnNumber:25},void 0),e.jsxDEV("select",{value:s.baseStones,onChange:L=>S("baseStones",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Us.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:370,columnNumber:57},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:364,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:362,columnNumber:21},void 0),G&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:378,columnNumber:29},void 0),e.jsxDEV("select",{value:s.hiddenStoneCount,onChange:L=>S("hiddenStoneCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:jm.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:385,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:379,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:377,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:389,columnNumber:29},void 0),e.jsxDEV("select",{value:s.scanCount||5,onChange:L=>S("scanCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Mm.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:396,columnNumber:55},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:390,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:388,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:376,columnNumber:21},void 0),q&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:404,columnNumber:25},void 0),e.jsxDEV("select",{value:s.missileCount||3,onChange:L=>S("missileCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Cm.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:411,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:405,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:403,columnNumber:21},void 0),B&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:419,columnNumber:29},void 0),e.jsxDEV("select",{value:s.diceGoRounds??3,onChange:L=>S("diceGoRounds",parseInt(L.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:[1,2,3].map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:426,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:420,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:418,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV("select",{value:s.diceGoItemCount||2,onChange:L=>S("diceGoItemCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Dr.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:437,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:431,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:429,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:417,columnNumber:21},void 0),X&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:446,columnNumber:29},void 0),e.jsxDEV("select",{value:s.alkkagiStoneCount??5,onChange:L=>S("alkkagiStoneCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:ks.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:453,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:447,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:445,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:457,columnNumber:29},void 0),e.jsxDEV("select",{value:s.alkkagiRounds??3,onChange:L=>S("alkkagiRounds",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Rm.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:464,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:458,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:456,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:468,columnNumber:29},void 0),e.jsxDEV("select",{value:s.alkkagiPlacementType??Jl.TurnByTurn,onChange:L=>S("alkkagiPlacementType",L.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Object.values(Jl).map(L=>e.jsxDEV("option",{value:L,children:L},L,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:475,columnNumber:82},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:469,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:467,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:479,columnNumber:29},void 0),e.jsxDEV("select",{value:s.alkkagiGaugeSpeed??700,onChange:L=>S("alkkagiGaugeSpeed",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Ts.map(L=>e.jsxDEV("option",{value:L.value,children:L.label},L.value,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:486,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:480,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:478,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:490,columnNumber:29},void 0),e.jsxDEV("select",{value:s.alkkagiItemCount??2,onChange:L=>S("alkkagiItemCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Sr.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:497,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:491,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:489,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:444,columnNumber:21},void 0),H&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:506,columnNumber:29},void 0),e.jsxDEV("select",{value:s.curlingStoneCount??5,onChange:L=>S("curlingStoneCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Em.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:513,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:505,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:517,columnNumber:29},void 0),e.jsxDEV("select",{value:s.curlingRounds??3,onChange:L=>S("curlingRounds",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Qd.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:524,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:518,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:516,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:528,columnNumber:29},void 0),e.jsxDEV("select",{value:s.curlingGaugeSpeed??700,onChange:L=>S("curlingGaugeSpeed",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Ps.map(L=>e.jsxDEV("option",{value:L.value,children:L.label},L.value,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:535,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:529,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:527,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:539,columnNumber:29},void 0),e.jsxDEV("select",{value:s.curlingSlowItemCount??2,onChange:L=>S("curlingSlowItemCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Ta.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:546,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:540,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:538,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:550,columnNumber:29},void 0),e.jsxDEV("select",{value:s.curlingAimingLineItemCount??2,onChange:L=>S("curlingAimingLineItemCount",parseInt(L.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:Ta.map(L=>e.jsxDEV("option",{value:L,children:[L,""]},L,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:557,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:551,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:504,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:162,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:"AI ",onClose:a,windowId:"ai-challenge",initialWidth:y,initialHeight:E,isTopmost:!0,children:e.jsxDEV("div",{className:"flex h-full",children:[e.jsxDEV("div",{className:`w-1/3 bg-tertiary/30 ${N?"p-2":"p-4"} flex flex-col text-on-panel rounded-l-lg border-r border-gray-700`,children:[e.jsxDEV("h3",{className:"font-bold text-purple-300 mb-3",style:{fontSize:`${Math.max(12,Math.round(16*j))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:571,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 grid grid-cols-2 gap-2 overflow-y-auto pr-2",children:m.map(R=>e.jsxDEV(Ow,{mode:R.mode,image:R.image,onSelect:p,isSelected:u===R.mode},R.mode,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:574,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:572,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:570,columnNumber:17},void 0),e.jsxDEV("div",{className:`w-2/3 bg-primary ${N?"p-2":"p-4"} flex flex-col rounded-r-lg`,children:[e.jsxDEV("div",{className:`bg-gray-900/50 rounded-lg border border-gray-700 ${N?"p-2":"p-3"} mb-4 flex-shrink-0`,children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV(_n,{userId:Vs,userName:"AI",size:N?Math.max(32,Math.round(48*j)):48,className:"border-2 border-purple-500"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:590,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-purple-300",style:{fontSize:`${Math.max(12,Math.round(16*j))}px`},children:"AI"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:592,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:`${Math.max(10,Math.round(12*j))}px`},children:U?`${U.name}${o==="strategic"?"()":""}`:"AI "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:593,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:591,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:589,columnNumber:25},void 0),U&&e.jsxDEV("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 mb-2",style:{fontSize:`${Math.max(10,Math.round(12*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:600,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-tertiary leading-relaxed",style:{fontSize:`${Math.max(9,Math.round(11*j))}px`},children:U.description||"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:601,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:599,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:588,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 mb-2 flex-shrink-0",style:{fontSize:`${Math.max(10,Math.round(12*j))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:610,columnNumber:25},void 0),C()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:609,columnNumber:21},void 0),e.jsxDEV("div",{className:"border-t border-gray-700 flex justify-end gap-2 mt-4 pt-4 flex-shrink-0",children:[e.jsxDEV(ae,{onClick:a,colorScheme:"gray",style:{fontSize:`${Math.max(10,Math.round(12*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:616,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:M,colorScheme:"purple",disabled:!u,style:{fontSize:`${Math.max(10,Math.round(12*j))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:617,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:615,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:586,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:568,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/AiChallengeModal.tsx",lineNumber:567,columnNumber:9},void 0)},zw=[I.Dice,I.Omok,I.Ttamok,I.Thief,I.Alkkagi,I.Curling];function Hw(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const Zy=({mode:o,onOpenModal:a})=>{const c=o==="strategic"||st.some(u=>u.mode===o),m=o==="playful"||zw.includes(o);return!c&&!m?null:e.jsxDEV("div",{className:"bg-panel rounded-lg shadow-lg p-3 flex items-center justify-between flex-shrink-0 text-on-panel",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(_n,{userId:Vs,userName:"AI",size:40,className:"border-2 border-purple-500"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:44,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-base font-bold text-purple-300",children:"AI "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:46,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-tertiary",children:"AI   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:47,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:45,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:43,columnNumber:13},void 0),e.jsxDEV(ae,{onClick:a,colorScheme:"purple",className:"!text-sm !py-1.5",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:42,columnNumber:9},void 0)},eD=({mode:o})=>{const{announcements:a,globalOverrideAnnouncement:c,announcementInterval:m}=ot(),[u,p]=b.useState(0),s=b.useMemo(()=>a.map(f=>f.id).join(","),[a]),x=b.useMemo(()=>st.map(f=>f.mode),[]),v=b.useMemo(()=>dt.map(f=>f.mode),[]);return b.useEffect(()=>{if(!a||a.length<=1){p(0);return}const f=setInterval(()=>{p(h=>(h+1)%a.length)},m*1e3);return()=>clearInterval(f)},[s,a.length,m]),c&&(c.modes==="all"||Array.isArray(c.modes)&&c.modes.some(f=>o==="strategic"?x.includes(f):o==="playful"?v.includes(f):f===o))?e.jsxDEV("div",{className:"bg-yellow-800/50 border border-yellow-600 rounded-lg shadow-lg p-2 flex items-center justify-center flex-shrink-0 h-10",children:e.jsxDEV("span",{className:"font-bold text-yellow-300 animate-pulse text-center",children:c.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:85,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:84,columnNumber:13},void 0):!a||a.length===0?e.jsxDEV("div",{className:"bg-panel rounded-lg shadow-lg p-2 flex items-center justify-center flex-shrink-0 h-10 text-on-panel",children:e.jsxDEV("span",{className:"font-bold text-tertiary text-center",children:"[   .]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:92,columnNumber:13},void 0):e.jsxDEV("div",{className:"bg-panel rounded-lg shadow-lg px-4 relative overflow-hidden flex-shrink-0 h-10",children:e.jsxDEV("div",{className:"w-full absolute top-0 left-0 transition-transform duration-1000 ease-in-out",style:{transform:`translateY(-${u*2.5}rem)`},children:a.map(f=>e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center",children:e.jsxDEV("span",{className:"font-bold",children:[e.jsxDEV("span",{className:"text-red-500 mr-2",children:"[]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:107,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-highlight",children:f.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:108,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:106,columnNumber:25},void 0)},f.id,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:105,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:100,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:99,columnNumber:9},void 0)},Ww=({mode:o})=>{const{currentUserWithStatus:a,onlineUsers:c,allUsers:m,liveGames:u,waitingRoomChats:p,negotiations:s,handlers:x}=ot(),[v,g]=b.useState(window.innerWidth<1024),[f,h]=b.useState(!1),[N,y]=b.useState(!1),[E,j]=b.useState(!1),[U,S]=b.useState(!1),[M,C]=b.useState(!1),w=b.useRef(null),R=o==="strategic"?"strategic":o==="playful"?"playful":"global",O=p[R]||[],V=Hw(O.length);b.useEffect(()=>{if(a&&o){const B=a.status===Nl.Waiting||a.status===Nl.Resting,X=o==="strategic"||o==="playful"?!a.mode||o==="strategic"&&st.some(H=>H.mode===a.mode)||o==="playful"&&dt.some(H=>H.mode===a.mode):a.mode===o;(!B||!X)&&x.handleAction({type:"ENTER_WAITING_ROOM",payload:{mode:o}})}},[o,a==null?void 0:a.id,a==null?void 0:a.status,a==null?void 0:a.mode,x]),b.useEffect(()=>{!f&&V!==void 0&&O.length>V&&y(!0)},[O.length,V,f]);const $=()=>{x.handleAction({type:"LEAVE_WAITING_ROOM"}),window.location.hash="#/profile"};if(b.useEffect(()=>{const B=()=>g(window.innerWidth<1024);return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),!a)return null;const z=b.useMemo(()=>{const B=Object.values(u);return o==="strategic"?B.filter(X=>st.some(H=>H.mode===X.mode)):o==="playful"?B.filter(X=>dt.some(H=>H.mode===X.mode)):B.filter(X=>X.mode===o)},[u,o]),P=b.useMemo(()=>{const B=o==="strategic",X=o==="playful",H=c.filter(Z=>B||X?(!Z.mode||B&&st.some(ne=>ne.mode===Z.mode)||X&&dt.some(ne=>ne.mode===Z.mode))&&(Z.status===Nl.Waiting||Z.status===Nl.Resting):Z.mode===o),Q=H.find(Z=>Z.id===a.id);return Q?[Q,...H.filter(Z=>Z.id!==a.id)]:[{...a,status:Nl.Waiting,mode:B||X?void 0:o},...H]},[c,o,a]),G=b.useMemo(()=>o==="strategic"?!0:o==="playful"?!1:st.some(B=>B.mode===o),[o]),q=o==="strategic"?"[]":o==="playful"?"[]":`[${o}]`;return e.jsxDEV("div",{className:"bg-primary text-primary flex flex-col h-full max-w-full",children:[e.jsxDEV("header",{className:"flex justify-between items-center mb-4 flex-shrink-0 px-2 sm:px-4 lg:px-6 pt-2 sm:pt-4 lg:pt-6",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("button",{onClick:$,className:"p-0 flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-lg transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:235,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:234,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:233,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 text-center flex items-center justify-center",children:e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxDEV("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:o==="strategic"?" ":o==="playful"?" ":`${o} `},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:240,columnNumber:13},void 0),(o==="strategic"||o==="playful")&&e.jsxDEV("div",{className:"flex items-center gap-1 bg-secondary/40 border border-secondary/30 rounded-full px-1.5 py-0.5",children:[e.jsxDEV("button",{type:"button",disabled:o==="strategic",onClick:()=>{o!=="strategic"&&(window.location.hash="#/waiting/strategic")},className:`px-2 py-0.5 rounded-full text-[10px] sm:text-xs transition-all ${o==="strategic"?"bg-primary/80 text-primary font-semibold shadow-sm cursor-default":"text-tertiary hover:bg-primary/40"}`,"aria-label":"  ",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:245,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",disabled:o==="playful",onClick:()=>{o!=="playful"&&(window.location.hash="#/waiting/playful")},className:`px-2 py-0.5 rounded-full text-[10px] sm:text-xs transition-all ${o==="playful"?"bg-primary/80 text-primary font-semibold shadow-sm cursor-default":"text-tertiary hover:bg-primary/40"}`,"aria-label":"  ",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:258,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:244,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:239,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:238,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 flex justify-end items-center",children:(o==="strategic"||o==="playful")&&e.jsxDEV("button",{onClick:()=>S(!0),className:"w-8 h-8 flex items-center justify-center transition-transform hover:scale-110","aria-label":"  ",title:"  ",children:e.jsxDEV("img",{src:"/images/button/help.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:277,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:275,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:232,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 relative px-2 sm:px-4 lg:px-6 pb-2 sm:pb-4 lg:pb-6",children:v?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-col h-full gap-2",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(eD,{mode:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:292,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:292,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(Zy,{mode:o,onOpenModal:()=>C(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:293,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:293,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-[350px] min-h-0",children:e.jsxDEV(Xy,{games:z,onAction:x.handleAction,currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:295,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:294,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 bg-panel border border-color rounded-lg shadow-lg flex flex-col",children:e.jsxDEV(Ky,{users:P,mode:o,onAction:x.handleAction,currentUser:a,negotiations:Object.values(s),onViewUser:x.openViewingUser,lobbyType:G?"strategic":"playful",userCount:P.length},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:298,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:297,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:291,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",children:e.jsxDEV("button",{onClick:()=>{h(!0),y(!1)},className:"w-8 h-12 bg-secondary/80 backdrop-blur-sm rounded-l-lg flex items-center justify-center text-primary shadow-lg","aria-label":"    ",children:e.jsxDEV("span",{className:"relative font-bold text-lg",children:["<",N&&e.jsxDEV("div",{className:"absolute -top-1 -right-1.5 w-2.5 h-2.5 bg-danger rounded-full border-2 border-secondary"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:310,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:308,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:303,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[360px] bg-primary shadow-2xl z-50 transition-transform duration-300 ease-in-out ${f?"translate-x-0":"translate-x-full"} flex flex-col`,children:[e.jsxDEV("div",{className:"flex justify-between items-center p-2 border-b border-color flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:316,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>h(!1),className:"text-2xl font-bold text-tertiary hover:text-primary",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:317,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:315,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 p-2 flex-grow min-h-0 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex-shrink-0 p-1 bg-panel rounded-lg border border-color",children:e.jsxDEV(Is,{mobile:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:321,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-shrink-0 border-b border-color pb-2",children:e.jsxDEV("div",{className:"bg-panel border border-color rounded-lg",children:e.jsxDEV(Jy,{mode:o,onShowTierInfo:()=>j(!0),currentUser:a,onViewUser:x.openViewingUser,onShowPastRankings:B=>x.openPastRankings(B),lobbyType:G?"strategic":"playful"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:325,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:324,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:323,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 bg-panel border border-color rounded-lg shadow-lg flex flex-col",children:e.jsxDEV(Um,{messages:O,mode:R,onAction:x.handleAction,locationPrefix:q,onViewUser:x.openViewingUser},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:329,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:328,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:319,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:314,columnNumber:13},void 0),f&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>h(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:333,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:290,columnNumber:11},void 0):e.jsxDEV("div",{ref:w,className:"grid grid-cols-1 lg:grid-cols-5 h-full gap-4",children:[e.jsxDEV("div",{className:"lg:col-span-3 flex flex-col gap-4 min-h-0",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(eD,{mode:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:340,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:339,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(Zy,{mode:o,onOpenModal:()=>C(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:343,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:342,columnNumber:24},void 0),e.jsxDEV("div",{className:"h-[350px] min-h-0",children:e.jsxDEV(Xy,{games:z,onAction:x.handleAction,currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:347,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:346,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col bg-panel border border-color rounded-lg shadow-lg min-h-0",children:e.jsxDEV(Um,{messages:O,mode:R,onAction:x.handleAction,locationPrefix:q,onViewUser:x.openViewingUser},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:350,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:349,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:338,columnNumber:19},void 0),e.jsxDEV("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsxDEV("div",{className:"flex-1 flex flex-row gap-4 items-stretch min-h-0",children:[e.jsxDEV("div",{className:"flex-1 bg-panel border border-color rounded-lg shadow-lg min-w-0",children:e.jsxDEV(Ky,{users:P,mode:o,onAction:x.handleAction,currentUser:a,negotiations:Object.values(s),onViewUser:x.openViewingUser,lobbyType:G?"strategic":"playful",userCount:P.length},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:358,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:357,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-24 flex-shrink-0",children:e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:361,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:360,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:356,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 bg-panel border border-color rounded-lg shadow-lg",children:e.jsxDEV(Jy,{currentUser:a,mode:o,onViewUser:x.openViewingUser,onShowTierInfo:()=>j(!0),onShowPastRankings:x.openPastRankings,lobbyType:G?"strategic":"playful"},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:366,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:365,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:355,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:336,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:288,columnNumber:7},void 0),E&&e.jsxDEV($w,{onClose:()=>j(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:372,columnNumber:31},void 0),U&&e.jsxDEV(Tw,{mode:o,onClose:()=>S(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:373,columnNumber:27},void 0),M&&e.jsxDEV(Gw,{lobbyType:G?"strategic":"playful",onClose:()=>C(!1),onAction:x.handleAction},void 0,!1,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:375,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/waiting-room/WaitingRoom.tsx",lineNumber:231,columnNumber:5},void 0)},Fw=({animation:o,toSvgCoords:a,cellSize:c})=>{const{text:m,point:u}=o,{cx:p,cy:s}=a(u),x=c*1.5;return e.jsxDEV("g",{style:{pointerEvents:"none"},className:"bonus-text-animation",children:e.jsxDEV("text",{x:p,y:s,textAnchor:"middle",dy:".35em",fontSize:x,fontWeight:"bold",fill:"url(#bonus-gradient)",stroke:"black",strokeWidth:"1.5px",paintOrder:"stroke",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:17,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:16,columnNumber:9},void 0)},qw=({ownershipMap:o,toSvgCoords:a,cellSize:c})=>e.jsxDEV("g",{style:{pointerEvents:"none"},className:"animate-fade-in",children:o.map((m,u)=>m.map((p,s)=>{const{cx:x,cy:v}=a({x:s,y:u}),f=Math.abs(p)/10;if(f<.3)return null;const h=c*f*.9,N=f*.7,y=p>0?`rgba(0, 0, 0, ${N})`:`rgba(255, 255, 255, ${N})`;return e.jsxDEV("rect",{x:x-h/2,y:v-h/2,width:h,height:h,fill:y,rx:h*.3},`${s}-${u}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:55,columnNumber:21},void 0)}))},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:41,columnNumber:9},void 0),Qw=({animation:o,stone_radius:a,toSvgCoords:c})=>{const{from:m,to:u,player:p}=o,s=c(m),x=c(u),v={"--from-x":`${s.cx}px`,"--from-y":`${s.cy}px`,"--to-x":`${x.cx}px`,"--to-y":`${x.cy}px`},g=Math.atan2(x.cy-s.cy,x.cx-s.cx)*180/Math.PI;return e.jsxDEV("g",{style:v,className:"missile-flight-group",children:e.jsxDEV("g",{transform:"translate(0, 0)",children:[e.jsxDEV("ellipse",{cx:0,cy:0,rx:a*1.5,ry:a*.7,fill:"url(#missile_fire)",className:"missile-fire-trail",transform:`rotate(${g}) translate(${-a}, 0)`},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:99,columnNumber:17},void 0),e.jsxDEV("circle",{cx:0,cy:0,r:a,fill:p===oe.Black?"#111827":"#f5f2e8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:109,columnNumber:17},void 0),e.jsxDEV("circle",{cx:0,cy:0,r:a,fill:p===oe.Black?"url(#slate_highlight)":"url(#clamshell_highlight)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:115,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:97,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:96,columnNumber:9},void 0)},Yw=({animation:o,stone_radius:a,toSvgCoords:c})=>{const{from:m,to:u,player:p,duration:s}=o,x=c(m),v=c(u),g={"--from-x":`${x.cx}px`,"--from-y":`${x.cy}px`,"--to-x":`${v.cx}px`,"--to-y":`${v.cy}px`,animationDuration:`${s}ms`,animationFillMode:"forwards"},f=a*2*.7,h=f/2,N=Math.atan2(v.cy-x.cy,v.cx-x.cx)*180/Math.PI,y=e.jsxDEV("g",{style:g,className:"hidden-missile-flight-group",children:e.jsxDEV("g",{transform:"translate(0, 0)",children:[e.jsxDEV("ellipse",{cx:0,cy:0,rx:a*1.5,ry:a*.7,fill:"url(#missile_fire)",className:"missile-fire-trail",transform:`rotate(${N}) translate(${-a}, 0)`},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:151,columnNumber:17},void 0),e.jsxDEV("circle",{cx:0,cy:0,r:a,fill:p===oe.Black?"#111827":"#f5f2e8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("circle",{cx:0,cy:0,r:a,fill:p===oe.Black?"url(#slate_highlight)":"url(#clamshell_highlight)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("image",{href:p===oe.Black?jx:Sx,x:-h,y:-h,width:f,height:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:150,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:149,columnNumber:9},void 0);return e.jsxDEV("g",{style:{pointerEvents:"none"},children:y},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:168,columnNumber:9},void 0)},Kw=({animation:o,toSvgCoords:a,stone_radius:c})=>{const{point:m,success:u}=o,{cx:p,cy:s}=a(m),x=c*2.5;return e.jsxDEV("g",{style:{pointerEvents:"none"},children:u?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("circle",{cx:p,cy:s,r:x*.2,fill:"none",stroke:"#34d399",className:"scan-success-circle",style:{animationDelay:"0s"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:187,columnNumber:21},void 0),e.jsxDEV("circle",{cx:p,cy:s,r:x*.2,fill:"none",stroke:"#34d399",className:"scan-success-circle",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:188,columnNumber:21},void 0),e.jsxDEV("circle",{cx:p,cy:s,r:x*.2,fill:"none",stroke:"#34d399",className:"scan-success-circle",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:189,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:186,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("line",{x1:p-x/2,y1:s-x/2,x2:p+x/2,y2:s+x/2,stroke:"#f87171",strokeWidth:"4",strokeLinecap:"round",className:"scan-fail-line"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("line",{x1:p+x/2,y1:s-x/2,x2:p-x/2,y2:s+x/2,stroke:"#f87171",strokeWidth:"4",strokeLinecap:"round",className:"scan-fail-line",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:194,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:192,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:184,columnNumber:9},void 0)},Jw=({move:o,toSvgCoords:a,cellSize:c,onClick:m})=>{const{cx:u,cy:p}=a({x:o.x,y:o.y}),s=c*.45,v=["#3b82f6","#16a34a","#f59e0b"][o.order-1]||"#6b7280";return e.jsxDEV("g",{onClick:g=>{g.stopPropagation(),m(o.x,o.y)},className:"cursor-pointer recommended-move-marker",children:[e.jsxDEV("circle",{cx:u,cy:p,r:s,fill:v,fillOpacity:"0.7",stroke:"white",strokeWidth:"2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:217,columnNumber:13},void 0),e.jsxDEV("text",{x:u,y:p,textAnchor:"middle",dy:".35em",fontSize:s*1.2,fontWeight:"bold",fill:"white",style:{pointerEvents:"none",textShadow:"0 0 3px black"},children:o.order},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:226,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:213,columnNumber:9},void 0)},Pd=({player:o,cx:a,cy:c,isLastMove:m,isSelectedMissile:u,isHoverSelectableMissile:p,isKnownHidden:s,isNewlyRevealed:x,animationClass:v,isPending:g,isBaseStone:f,isPatternStone:h,radius:N,isFaint:y})=>{const E=N*2*.7,j=E/2,U=g?"rgb(34, 197, 94)":u?"rgb(239, 68, 68)":"none",S=u||g?3.5:0;return e.jsxDEV("g",{className:`${v||""} ${p?"missile-selectable-stone":""}`,opacity:g?.6:y?.4:1,children:[e.jsxDEV("circle",{cx:a,cy:c,r:N,fill:o===oe.Black?"#111827":"#f5f2e8",stroke:U,strokeWidth:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:254,columnNumber:13},void 0),o===oe.White&&e.jsxDEV("circle",{cx:a,cy:c,r:N,fill:"url(#clam_grain)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:262,columnNumber:41},void 0),e.jsxDEV("circle",{cx:a,cy:c,r:N,fill:o===oe.Black?"url(#slate_highlight)":"url(#clamshell_highlight)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:263,columnNumber:13},void 0),f&&e.jsxDEV("image",{href:o===oe.Black?Zd:Xd,x:a-j,y:c-j,width:E,height:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:265,columnNumber:17},void 0),s&&e.jsxDEV("image",{href:o===oe.Black?jx:Sx,x:a-j,y:c-j,width:E,height:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:268,columnNumber:17},void 0),h&&e.jsxDEV("image",{href:o===oe.Black?"/images/single/BlackDouble.png":"/images/single/WhiteDouble.png",x:a-j,y:c-j,width:E,height:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:271,columnNumber:17},void 0),x&&e.jsxDEV("circle",{cx:a,cy:c,r:N,fill:"none",stroke:"rgba(0, 255, 255, 0.8)",strokeWidth:"4",className:"sparkle-animation",style:{pointerEvents:"none",transformOrigin:"center"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:274,columnNumber:17},void 0),m&&e.jsxDEV("circle",{cx:a,cy:c,r:N*.25,fill:"rgba(239, 68, 68, 0.9)",className:"animate-pulse",style:{pointerEvents:"none"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:286,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:253,columnNumber:9},void 0)},ef=o=>{var zn;const{boardState:a,boardSize:c,onBoardClick:m,onMissileLaunch:u,lastMove:p,lastTurnStones:s,isBoardDisabled:x,stoneColor:v,winningLine:g,hiddenMoves:f,moveHistory:h,baseStones:N,baseStones_p1:y,baseStones_p2:E,myPlayerEnum:j,gameStatus:U,highlightedPoints:S,highlightStyle:M="circle",myRevealedStones:C,allRevealedStones:w,newlyRevealed:R,isSpectator:O,analysisResult:V,showTerritoryOverlay:$=!1,showHintOverlay:z=!1,currentUser:P,blackPlayerNickname:G,whitePlayerNickname:q,currentPlayer:B,isItemModeActive:X,animation:H,mode:Q,mixedModes:Z,justCaptured:ne,permanentlyRevealedStones:le,onAction:L,gameId:ue,showLastMoveMarker:pe,blackPatternStones:ie,whitePatternStones:fe}=o,[W,Pe]=b.useState(null),[me,de]=b.useState(null),[Ge,ve]=b.useState(!1),[an,ye]=b.useState(null),[De,We]=b.useState(null),[Ie,Je]=b.useState(window.innerWidth<1024),K=b.useRef(null),J=b.useRef(null),ke=840,Te=c>0?c:19,be=ke/Te,Ce=be/2,Re=be*.47;b.useEffect(()=>{const Xe=()=>Je(window.innerWidth<1024);return window.addEventListener("resize",Xe),()=>window.removeEventListener("resize",Xe)},[]);const Ze=b.useMemo(()=>{const Xe=st.map(Sn=>Sn.mode),nn=[I.Omok,I.Ttamok,I.Dice,I.Thief];return Xe.includes(Q)||nn.includes(Q)||U.startsWith("single_player")},[Q,U]);b.useEffect(()=>{U!=="missile_selecting"&&de(null)},[U]);const Se=b.useMemo(()=>Te===19?[{x:3,y:3},{x:9,y:3},{x:15,y:3},{x:3,y:9},{x:9,y:9},{x:15,y:9},{x:3,y:15},{x:9,y:15},{x:15,y:15}]:Te===15?[{x:3,y:3},{x:11,y:3},{x:7,y:7},{x:3,y:11},{x:11,y:11}]:Te===13?[{x:3,y:3},{x:9,y:3},{x:3,y:9},{x:9,y:9},{x:6,y:6}]:Te===11?[{x:2,y:2},{x:8,y:2},{x:5,y:5},{x:2,y:8},{x:8,y:8}]:Te===9?[{x:2,y:2},{x:6,y:2},{x:4,y:4},{x:2,y:6},{x:6,y:6}]:Te===7?[{x:3,y:3}]:[],[Te]),Fe=Xe=>({cx:Ce+Xe.x*be,cy:Ce+Xe.y*be}),tn=Xe=>{const nn=J.current;if(!nn)return null;const Sn=nn.createSVGPoint();Sn.x=Xe.clientX,Sn.y=Xe.clientY;const Nn=nn.getScreenCTM();if(Nn){const wn=Sn.matrixTransform(Nn.inverse()),on=Math.round((wn.x-Ce)/be),$n=Math.round((wn.y-Ce)/be);if(on>=0&&on<Te&&$n>=0&&$n<Te)return{x:on,y:$n}}return null},Rn=b.useCallback(Xe=>{const nn=[];return Xe.x>0&&nn.push({x:Xe.x-1,y:Xe.y}),Xe.x<Te-1&&nn.push({x:Xe.x+1,y:Xe.y}),Xe.y>0&&nn.push({x:Xe.x,y:Xe.y-1}),Xe.y<Te-1&&nn.push({x:Xe.x,y:Xe.y+1}),nn},[Te]),Dn=Xe=>{const nn=tn(Xe);nn&&(Pe(nn),U==="missile_selecting"&&!x&&a[nn.y][nn.x]===j&&Rn(nn).some(wn=>a[wn.y][wn.x]===oe.None)&&(de(nn),ve(!0),ye({x:Xe.clientX,y:Xe.clientY}),K.current=nn,Xe.target.setPointerCapture(Xe.pointerId)))},Ue=Xe=>{const nn=tn(Xe);Pe(nn),Ge&&We({x:Xe.clientX,y:Xe.clientY})},Be=Xe=>{Xe.target.releasePointerCapture(Xe.pointerId);const nn=tn(Xe);if(Ge){const Sn=an&&De?Math.hypot(De.x-an.x,De.y-an.y):0,Nn=K.current;if(ve(!1),ye(null),We(null),!Ie&&Sn<10)return;if(Nn&&nn&&u){const wn=nn.x-Nn.x,on=nn.y-Nn.y;if(wn!==0||on!==0){let $n;Math.abs(wn)>Math.abs(on)?$n=wn>0?"right":"left":$n=on>0?"down":"up",u(Nn,$n),de(null)}}}else!x&&nn&&m(nn.x,nn.y)},qe=b.useMemo(()=>U!=="base_placement"?null:j===oe.Black?y:E,[U,j,y,E]),Ee=Xe=>{if(!f||!h||U!=="playing"&&U!=="hidden_placing")return!1;const nn=j===oe.Black?oe.White:oe.Black;for(let Sn=h.length-1;Sn>=0;Sn--){const Nn=h[Sn];if(Nn.x===Xe.x&&Nn.y===Xe.y)return!!f[Sn]&&Nn.player===nn}return!1},ze=U==="ended"||U==="no_contest",ln=W&&!x&&U!=="scanning"&&U!=="missile_selecting"&&(a[W.y][W.x]===oe.None||Ee(W)),yn=()=>!$||!V||!V.deadStones?null:e.jsxDEV("g",{style:{pointerEvents:"none"},className:"animate-fade-in",children:V.deadStones.map((Xe,nn)=>{const{cx:Sn,cy:Nn}=Fe(Xe),wn=Re*.7;return e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:Sn-wn,y1:Nn-wn,x2:Sn+wn,y2:Nn+wn,stroke:"red",strokeWidth:"3",strokeLinecap:"round"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:535,columnNumber:29},void 0),e.jsxDEV("line",{x1:Sn-wn,y1:Nn+wn,x2:Sn+wn,y2:Nn-wn,stroke:"red",strokeWidth:"3",strokeLinecap:"round"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:536,columnNumber:29},void 0)]},`ds-${nn}`,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:534,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:529,columnNumber:13},void 0),Ln=(Xe,nn,Sn)=>{const Nn=Xe.moveHistory||[];if(!Array.isArray(Nn))return-1;for(let wn=Nn.length-1;wn>=0;wn--)if(Nn[wn].x===nn&&Nn[wn].y===Sn)return wn;return-1},Bn=()=>{var Nn;if(U!=="missile_selecting"||!me||!u)return null;if(Ge&&an&&De){const wn=J.current;if(!wn)return null;const on=(Nn=wn.getScreenCTM())==null?void 0:Nn.inverse();if(!on)return null;const $n=Fe(me),mt=wn.createSVGPoint();mt.x=De.x,mt.y=De.y;const Bt=mt.matrixTransform(on),It=Bt.x-$n.cx,Xt=Bt.y-$n.cy;let Ft={cx:$n.cx,cy:$n.cy};return Math.abs(It)>Math.abs(Xt)?Ft.cx+=Math.sign(It)*be*2:Ft.cy+=Math.sign(Xt)*be*2,e.jsxDEV("g",{style:{pointerEvents:"none"},children:e.jsxDEV("line",{x1:$n.cx,y1:$n.cy,x2:Ft.cx,y2:Ft.cy,stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"4",strokeDasharray:"8 4",markerEnd:"url(#arrowhead-missile)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:585,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:584,columnNumber:18},void 0)}const Xe=Rn(me).filter(wn=>a[wn.y][wn.x]===oe.None);if(Xe.length===0)return null;const nn=be*.4,Sn=[{dir:"up",point:{x:me.x,y:me.y-1}},{dir:"down",point:{x:me.x,y:me.y+1}},{dir:"left",point:{x:me.x-1,y:me.y}},{dir:"right",point:{x:me.x+1,y:me.y}}];return e.jsxDEV("g",{children:Sn.map(({dir:wn,point:on})=>{if(!Xe.some(It=>It.x===on.x&&It.y===on.y))return null;const{cx:mt,cy:Bt}=Fe(on);return e.jsxDEV("polygon",{points:`${mt},${Bt-nn} ${mt+nn},${Bt} ${mt},${Bt+nn} ${mt-nn},${Bt}`,fill:"rgba(239, 68, 68, 0.8)",stroke:"white",strokeWidth:"1",className:"cursor-pointer hover:opacity-100 opacity-80",onClick:()=>u(me,wn)},wn,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:609,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:603,columnNumber:13},void 0)};return e.jsxDEV("div",{className:`relative w-full h-full shadow-2xl rounded-lg overflow-hidden p-0 border-4 ${X?"prism-border":"border-gray-800"}`,children:e.jsxDEV("svg",{ref:J,viewBox:`0 0 ${ke} ${ke}`,className:"w-full h-full touch-none",onPointerDown:Dn,onPointerMove:Ue,onPointerUp:Be,onPointerLeave:()=>{Pe(null)},children:[e.jsxDEV("defs",{children:[e.jsxDEV("radialGradient",{id:"slate_highlight",cx:"35%",cy:"35%",r:"60%",fx:"30%",fy:"30%",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#6b7280",stopOpacity:"0.8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:637,columnNumber:25},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#111827",stopOpacity:"0.2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:638,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:636,columnNumber:21},void 0),e.jsxDEV("radialGradient",{id:"clamshell_highlight",cx:"35%",cy:"35%",r:"60%",fx:"30%",fy:"30%",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.9"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:641,columnNumber:25},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#e5e7eb",stopOpacity:"0.1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:642,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:640,columnNumber:21},void 0),e.jsxDEV("filter",{id:"clam_grain_filter",children:[e.jsxDEV("feTurbulence",{type:"fractalNoise",baseFrequency:"0.8",numOctaves:"4",stitchTiles:"stitch"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:645,columnNumber:25},void 0),e.jsxDEV("feColorMatrix",{type:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.1 0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:646,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:644,columnNumber:21},void 0),e.jsxDEV("pattern",{id:"clam_grain",patternUnits:"userSpaceOnUse",width:"100",height:"100",children:[e.jsxDEV("rect",{width:"100",height:"100",fill:"#f5f2e8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:649,columnNumber:25},void 0),e.jsxDEV("rect",{width:"100",height:"100",filter:"url(#clam_grain_filter)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:648,columnNumber:21},void 0),e.jsxDEV("radialGradient",{id:"missile_fire",cx:"50%",cy:"50%",r:"50%",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#fca5a5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:653,columnNumber:25},void 0),e.jsxDEV("stop",{offset:"50%",stopColor:"#f87171"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:654,columnNumber:25},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#ef4444",stopOpacity:"0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:655,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:652,columnNumber:21},void 0),e.jsxDEV("linearGradient",{id:"bonus-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#fef08a"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:658,columnNumber:25},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#f59e0b"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:659,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:657,columnNumber:21},void 0),e.jsxDEV("filter",{id:"blue-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[e.jsxDEV("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3.5",result:"blur"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:662,columnNumber:25},void 0),e.jsxDEV("feMerge",{children:[e.jsxDEV("feMergeNode",{in:"blur"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:664,columnNumber:29},void 0),e.jsxDEV("feMergeNode",{in:"SourceGraphic"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:665,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:663,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:661,columnNumber:21},void 0),e.jsxDEV("marker",{id:"arrowhead-missile",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:e.jsxDEV("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(239, 68, 68, 0.9)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:668,columnNumber:121},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:668,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:635,columnNumber:17},void 0),e.jsxDEV("rect",{width:ke,height:ke,fill:"#e0b484"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:670,columnNumber:17},void 0),Array.from({length:Te}).map((Xe,nn)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:Ce+nn*be,y1:Ce,x2:Ce+nn*be,y2:ke-Ce,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:673,columnNumber:25},void 0),e.jsxDEV("line",{x1:Ce,y1:Ce+nn*be,x2:ke-Ce,y2:Ce+nn*be,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:674,columnNumber:25},void 0)]},nn,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:672,columnNumber:21},void 0)),Se.map((Xe,nn)=>e.jsxDEV("circle",{...Fe(Xe),r:Te>9?6:4,fill:"#54432a"},nn,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:677,columnNumber:43},void 0)),$&&(V==null?void 0:V.ownershipMap)&&e.jsxDEV(qw,{ownershipMap:V.ownershipMap,toSvgCoords:Fe,cellSize:be},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:680,columnNumber:22},void 0),a.map((Xe,nn)=>Xe.map((Sn,Nn)=>{if(Sn===oe.None)return null;const{cx:wn,cy:on}=Fe({x:Nn,y:nn}),$n=pe&&Ze&&p&&p.x===Nn&&p.y===nn,mt=pe&&Ze&&s&&s.some(un=>un.x===Nn&&un.y===nn),Bt=!!($n||mt),It=h?Ln({moveHistory:h},Nn,nn):-1,Xt=f&&It!==-1&&f[It],Ft=le==null?void 0:le.some(un=>un.x===Nn&&un.y===nn);let Zt=!0;if(Xt)if(O)Zt=ze||!!Ft;else{const un=!O&&(C==null?void 0:C.some(An=>An.x===Nn&&An.y===nn)),qn=R==null?void 0:R.some(An=>An.point.x===Nn&&An.point.y===nn);Zt=ze||!!Ft||Sn===j||!!un||!!qn}if(!Zt||(H==null?void 0:H.type)==="missile"&&H.from.x===Nn&&H.from.y===nn||(H==null?void 0:H.type)==="hidden_missile"&&H.from.x===Nn&&H.from.y===nn)return null;const Fo=R==null?void 0:R.some(un=>un.point.x===Nn&&un.point.y===nn),ji=!O&&(C==null?void 0:C.some(un=>un.x===Nn&&un.y===nn))&&!Ft,te=N==null?void 0:N.some(un=>un.x===Nn&&un.y===nn&&un.player===Sn),Ke=Xt,rn=(me==null?void 0:me.x)===Nn&&(me==null?void 0:me.y)===nn,En=U==="missile_selecting"&&!me&&Sn===j,nt=Sn===oe.Black&&(ie==null?void 0:ie.some(un=>un.x===Nn&&un.y===nn))||Sn===oe.White&&(fe==null?void 0:fe.some(un=>un.x===Nn&&un.y===nn));return e.jsxDEV(Pd,{player:Sn,cx:wn,cy:on,isLastMove:Bt,isKnownHidden:Ke,isBaseStone:te,isPatternStone:nt,isNewlyRevealed:Fo,animationClass:Fo?"sparkle-animation":"",isSelectedMissile:rn,isHoverSelectableMissile:En,radius:Re,isFaint:ji},`${Nn}-${nn}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:720,columnNumber:28},void 0)})),qe==null?void 0:qe.map((Xe,nn)=>{const{cx:Sn,cy:Nn}=Fe(Xe);return e.jsxDEV("g",{opacity:.7,className:"animate-fade-in",children:e.jsxDEV(Pd,{player:j,cx:Sn,cy:Nn,isBaseStone:!0,radius:Re},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:726,columnNumber:29},void 0)},`my-base-${nn}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:725,columnNumber:25},void 0)}),g&&g.length>0&&e.jsxDEV("path",{d:`M ${Fe(g[0]).cx} ${Fe(g[0]).cy} L ${Fe(g[g.length-1]).cx} ${Fe(g[g.length-1]).cy}`,stroke:"rgba(239, 68, 68, 0.8)",strokeWidth:"10",strokeLinecap:"round",className:"animate-fade-in"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:730,columnNumber:61},void 0),S&&S.map((Xe,nn)=>{const{cx:Sn,cy:Nn}=Fe(Xe);return M==="ring"?e.jsxDEV("circle",{cx:Sn,cy:Nn,r:Re*.9,fill:"none",stroke:"#0ea5e9",strokeWidth:"3",strokeDasharray:"5 3",className:"animate-pulse",style:{pointerEvents:"none"}},`highlight-ring-${nn}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:736,columnNumber:29},void 0):e.jsxDEV("circle",{cx:Sn,cy:Nn,r:Re*.3,fill:B===oe.Black?"black":"white",opacity:"0.3"},`highlight-circle-${nn}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:751,columnNumber:25},void 0)}),ln&&W&&e.jsxDEV("g",{opacity:"0.5",children:[" ",e.jsxDEV(Pd,{player:v,cx:Fe(W).cx,cy:Fe(W).cy,radius:Re},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:762,columnNumber:70},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:762,columnNumber:52},void 0),Bn(),H&&e.jsxDEV(e.Fragment,{children:[H.type==="missile"&&e.jsxDEV(Qw,{animation:H,stone_radius:Re,toSvgCoords:Fe},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:766,columnNumber:58},void 0),H.type==="hidden_missile"&&H.player===j&&!O&&e.jsxDEV(Yw,{animation:H,stone_radius:Re,toSvgCoords:Fe},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:767,columnNumber:118},void 0),H.type==="scan"&&!O&&H.playerId===P.id&&e.jsxDEV(Kw,{animation:H,toSvgCoords:Fe,stone_radius:Re},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:768,columnNumber:112},void 0),H.type==="hidden_reveal"&&H.stones.map((Xe,nn)=>e.jsxDEV(Pd,{player:Xe.player,cx:Fe(Xe.point).cx,cy:Fe(Xe.point).cy,isKnownHidden:!0,animationClass:"sparkle-animation",radius:Re},`reveal-${nn}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:769,columnNumber:97},void 0)),H.type==="bonus_text"&&e.jsxDEV(Fw,{animation:H,toSvgCoords:Fe,cellSize:be},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:770,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:765,columnNumber:21},void 0),yn(),z&&!x&&((zn=V==null?void 0:V.recommendedMoves)==null?void 0:zn.map(Xe=>e.jsxDEV(Jw,{move:Xe,toSvgCoords:Fe,cellSize:be,onClick:m},`rec-${Xe.order}`,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:774,columnNumber:105},void 0)))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:626,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GoBoard.tsx",lineNumber:625,columnNumber:9},void 0)},Xw=o=>{var z,P;const{session:a,onAction:c,myPlayerEnum:m,handleBoardClick:u,isItemModeActive:p,showTerritoryOverlay:s,isMyTurn:x,isMobile:v,myRevealedMoves:g,showLastMoveMarker:f}=o,{blackPlayerId:h,whitePlayerId:N,player1:y,player2:E,settings:j,lastMove:U,gameStatus:S,mode:M}=a,C=[y,E],w=C.find(G=>G.id===h)||null,R=C.find(G=>G.id===N)||null,O=b.useMemo(()=>(g||[]).map(G=>{var q;return(q=a.moveHistory)==null?void 0:q[G]}).filter(G=>!!G).map(G=>({x:G.x,y:G.y})),[g,a.moveHistory]),V=b.useMemo(()=>{if(!a.moveHistory||!a.revealedHiddenMoves)return{};const G={};for(const q in a.revealedHiddenMoves)G[q]=a.revealedHiddenMoves[q].map(B=>{var X;return(X=a.moveHistory)==null?void 0:X[B]}).filter(B=>!!B).map(B=>({x:B.x,y:B.y}));return G},[a.revealedHiddenMoves,a.moveHistory]),$=b.useMemo(()=>st.some(G=>G.mode===M)?"bg-strategic-background":dt.some(G=>G.mode===M)?"bg-playful-background":"bg-primary",[M]);return e.jsxDEV("div",{className:`w-full h-full flex items-center justify-center ${$}`,children:e.jsxDEV(ef,{boardState:a.boardState,boardSize:j.boardSize,onBoardClick:u,onMissileLaunch:(G,q)=>{c({type:"LAUNCH_MISSILE",payload:{gameId:a.id,from:G,direction:q}})},onAction:c,gameId:a.id,lastMove:U,lastTurnStones:a.lastTurnStones,isBoardDisabled:o.isSpectator||!x&&S!=="base_placement",stoneColor:m,winningLine:a.winningLine,mode:a.mode,mixedModes:a.settings.mixedModes,hiddenMoves:a.hiddenMoves,moveHistory:a.moveHistory,baseStones:a.baseStones,myPlayerEnum:m,gameStatus:S,currentPlayer:a.currentPlayer,highlightedPoints:[],myRevealedStones:O,allRevealedStones:V,newlyRevealed:a.newlyRevealed,justCaptured:a.justCaptured,permanentlyRevealedStones:a.permanentlyRevealedStones,isSpectator:o.isSpectator,analysisResult:((z=a.analysisResult)==null?void 0:z[o.currentUser.id])??(S==="ended"?(P=a.analysisResult)==null?void 0:P.system:null),showTerritoryOverlay:s,showHintOverlay:!1,showLastMoveMarker:f,baseStones_p1:S==="base_placement"?a.baseStones_p1:void 0,baseStones_p2:S==="base_placement"?a.baseStones_p2:void 0,currentUser:o.currentUser,blackPlayerNickname:(w==null?void 0:w.nickname)||"",whitePlayerNickname:(R==null?void 0:R.nickname)||"",isItemModeActive:p,animation:a.animation,isMobile:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/GoGameArena.tsx",lineNumber:70,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/GoGameArena.tsx",lineNumber:69,columnNumber:9},void 0)},Zw=b.forwardRef((o,a)=>{const{stones:c,gameStatus:m,myPlayer:u,isMyTurn:p,settings:s,onPlacementClick:x,onStoneInteractionStart:v,isSpectator:g,dragStartPoint:f,dragEndPoint:h,selectedStone:N,myStonesCount:y,maxStones:E,session:j,currentUser:U}=o,[S,M]=b.useState(c),[C,w]=b.useState(null),R=b.useRef(null),O=840,V=s.boardSize>0?s.boardSize:19,$=O/V,z=$/2,P=b.useMemo(()=>V===19?[{x:3,y:3},{x:9,y:3},{x:15,y:3},{x:3,y:9},{x:9,y:9},{x:15,y:9},{x:3,y:15},{x:9,y:15},{x:15,y:15}]:V===13?[{x:3,y:3},{x:9,y:3},{x:3,y:9},{x:9,y:9},{x:6,y:6}]:V===11?[{x:2,y:2},{x:8,y:2},{x:2,y:8},{x:8,y:8},{x:5,y:5}]:V===9?[{x:2,y:2},{x:6,y:2},{x:2,y:6},{x:6,y:6},{x:4,y:4}]:[],[V]),G=le=>({cx:z+le.x*$,cy:z+le.y*$});b.useEffect(()=>{m!=="alkkagi_animating"&&M(c)},[c,m]),b.useImperativeHandle(a,()=>({updateLocalStones:le=>{M([...le])},getSvg:()=>R.current}));const q=le=>{const L=R.current;if(!L)return null;const ue=L.createSVGPoint();ue.x=le.clientX,ue.y=le.clientY;const pe=L.getScreenCTM();if(pe){const ie=ue.matrixTransform(pe.inverse());return{x:ie.x,y:ie.y}}return null},B=b.useCallback(le=>{if(!le||m!=="alkkagi_placement"&&m!=="alkkagi_simultaneous_placement"||u===oe.None)return!1;const L=S&&S.length>0&&S[0].radius?S[0].radius:840/19*.47,{x:ue,y:pe}=le;if(ue<L||ue>O-L||pe<L||pe>O-L)return!1;let ie=!1;if(s.alkkagiLayout===Xl.Battle)ie=wy[u].some(W=>{const Pe=z+(W.x-.5)*$,me=z+(W.y-.5)*$,de=Pe+W.width*$,Ge=me+W.height*$;return ue>=Pe&&ue<=de&&pe>=me&&pe<=Ge});else{const fe=O*.15,W=O*.35,Pe=O*.65,me=O*.85;u===oe.White?pe>=fe&&pe<=W&&(ie=!0):pe>=Pe&&pe<=me&&(ie=!0)}if(!ie)return!1;for(const fe of S)if(fe.player===u&&Math.hypot(ue-fe.x,pe-fe.y)<fe.radius*2)return!1;return!0},[m,u,S,s.alkkagiLayout,$,z]),X=b.useMemo(()=>B(C),[C,B]),H=le=>{if(m!=="alkkagi_placement"&&m!=="alkkagi_simultaneous_placement"||!p)return;const L=q(le);L&&B(L)&&x({x:L.x,y:L.y})},Q=p&&(m==="alkkagi_placement"||m==="alkkagi_simultaneous_placement")&&y<E,Z=()=>{if(m!=="alkkagi_placement"&&m!=="alkkagi_simultaneous_placement"||g||u===oe.None)return null;const le={strokeWidth:"3",rx:"5",className:Q?"animate-pulse-blue":"",style:{pointerEvents:"none"}};if(s.alkkagiLayout===Xl.Battle){const L=wy[u],ue=u===oe.Black?"rgba(0, 0, 0, 0.25)":"rgba(255, 255, 255, 0.35)",pe=u===oe.Black?"rgba(50, 50, 50, 0.8)":"rgba(220, 220, 220, 0.8)";return e.jsxDEV("g",{children:L.map((ie,fe)=>e.jsxDEV("rect",{x:z+(ie.x-.5)*$,y:z+(ie.y-.5)*$,width:ie.width*$,height:ie.height*$,fill:ue,stroke:pe,...le},`zone-${fe}`,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:154,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:152,columnNumber:17},void 0)}else{const L=O*.15,ue=O*.35,pe=O*.65,ie=u===oe.White?L:pe,fe=ue-L,W=u===oe.Black?"rgba(0, 0, 0, 0.25)":"rgba(255, 255, 255, 0.35)",Pe=u===oe.Black?"rgba(50, 50, 50, 0.8)":"rgba(220, 220, 220, 0.8)";return e.jsxDEV("rect",{x:0,y:ie,width:O,height:fe,fill:W,stroke:Pe,...le},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:179,columnNumber:17},void 0)}},ne=b.useMemo(()=>{var Je,K;if(!f||!h||!N||!R.current)return null;const le=R.current,L=(Je=le.getScreenCTM())==null?void 0:Je.inverse();if(!L)return null;const ue=le.createSVGPoint();ue.x=f.x,ue.y=f.y;const pe=ue.matrixTransform(L);ue.x=h.x,ue.y=h.y;const ie=ue.matrixTransform(L),fe=ie.x-pe.x,W=ie.y-pe.y,Pe=N,me={x:Pe.x,y:Pe.y};let de={x:me.x-fe,y:me.y-W};const ve=(((K=j.activeAlkkagiItems)==null?void 0:K[U.id])||[]).includes("aimingLine"),an=80*.2,ye=ve?an*11:an,De=de.x-me.x,We=de.y-me.y,Ie=Math.hypot(De,We);return Ie>ye&&(de.x=me.x+De/Ie*ye,de.y=me.y+We/Ie*ye),{start:me,end:de}},[f,h,N,j.activeAlkkagiItems,U.id]);return e.jsxDEV("div",{className:"relative w-full h-full shadow-2xl rounded-lg overflow-hidden border-4 border-gray-800",children:e.jsxDEV("svg",{ref:R,viewBox:`0 0 ${O} ${O}`,className:"w-full h-full touch-none",onClick:H,onMouseMove:le=>{const L=q(le);w(L)},onMouseLeave:()=>w(null),children:[e.jsxDEV("defs",{children:[e.jsxDEV("radialGradient",{id:"gloss-alkkagi-1",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#333"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:249,columnNumber:60},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#000"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:249,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:249,columnNumber:21},void 0),e.jsxDEV("radialGradient",{id:"gloss-alkkagi-2",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#fff"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:250,columnNumber:60},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#ccc"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:250,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:250,columnNumber:21},void 0),e.jsxDEV("marker",{id:"arrowhead-alkkagi",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:e.jsxDEV("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(239, 68, 68, 0.9)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:251,columnNumber:120},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:251,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:248,columnNumber:17},void 0),e.jsxDEV("rect",{width:O,height:O,fill:"#DDAA77"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:254,columnNumber:18},void 0),Array.from({length:V}).map((le,L)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:z+L*$,y1:z,x2:z+L*$,y2:O-z,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:258,columnNumber:25},void 0),e.jsxDEV("line",{x1:z,y1:z+L*$,x2:O-z,y2:z+L*$,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:259,columnNumber:25},void 0)]},L,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:257,columnNumber:21},void 0)),P.map((le,L)=>e.jsxDEV("circle",{...G(le),r:V>9?5:4,fill:"#54432a"},L,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:262,columnNumber:43},void 0)),Z(),S.map(le=>{if(!le.onBoard)return null;const L=le.player===u,ue=!g&&p&&m==="alkkagi_playing",pe=ue&&L?"cursor-pointer":"";return e.jsxDEV("g",{className:pe,onMouseDown:ue&&L?ie=>v(le,ie):void 0,onTouchStart:ue&&L?ie=>{ie.preventDefault(),v(le,ie)}:void 0,children:[e.jsxDEV("circle",{cx:le.x,cy:le.y,r:le.radius,fill:le.player===oe.Black?"#111827":"#f9fafb"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:274,columnNumber:29},void 0),e.jsxDEV("circle",{cx:le.x,cy:le.y,r:le.radius,fill:`url(#gloss-alkkagi-${le.player})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:275,columnNumber:29},void 0)]},le.id,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:273,columnNumber:25},void 0)}),Q&&C&&X&&e.jsxDEV("g",{opacity:"0.5",style:{pointerEvents:"none"},children:e.jsxDEV("circle",{cx:C.x,cy:C.y,r:S&&S[0]?S[0].radius:840/19*.47,fill:u===oe.Black?"#111827":"#f9fafb"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:282,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:281,columnNumber:21},void 0),ne&&e.jsxDEV("g",{style:{pointerEvents:"none"},children:e.jsxDEV("line",{x1:ne.start.x,y1:ne.start.y,x2:ne.end.x,y2:ne.end.y,stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"4",strokeDasharray:"8 4",markerEnd:"url(#arrowhead-alkkagi)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:288,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:287,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:237,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiBoard.tsx",lineNumber:234,columnNumber:9},void 0)});function nD(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const e3=o=>{const{session:a,onAction:c,currentUser:m,isSpectator:u}=o,{id:p,settings:s,gameStatus:x,alkkagiStones:v,currentPlayer:g,player1:f,alkkagiStones_p1:h,alkkagiStones_p2:N,activeAlkkagiItems:y}=a,E=b.useRef(null),j=b.useRef(null),U=b.useRef(null),S=b.useRef(null),M=b.useRef(null),C=b.useRef(0),w=b.useRef(!1),R=b.useRef(null),O=b.useRef(null),V=b.useRef(0),[$,z]=b.useState(null),[P,G]=b.useState(null),[q,B]=b.useState(null),[X,H]=b.useState(0),[Q,Z]=b.useState(null),[ne,le]=b.useState(window.innerWidth<1024),L=b.useRef(o);b.useEffect(()=>{L.current=o});const ue=nD(a.turnStartTime),pe=nD(a.gameStatus),ie=b.useCallback(()=>{U.current&&(cancelAnimationFrame(U.current),U.current=null),S.current=null},[]),fe=b.useCallback(()=>{w.current=!1,R.current=null,O.current=null,ie(),z(null),G(null),B(null),H(0),V.current=0},[ie]);b.useEffect(()=>{a.turnStartTime!==ue&&fe()},[a.turnStartTime,ue,fe]),b.useEffect(()=>{pe==="alkkagi_animating"&&a.gameStatus!=="alkkagi_animating"&&Z(null)},[a.gameStatus,pe]),b.useEffect(()=>{const J=()=>le(window.innerWidth<1024);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const W=b.useMemo(()=>a.blackPlayerId===m.id?oe.Black:a.whitePlayerId===m.id?oe.White:oe.None,[a.blackPlayerId,a.whitePlayerId,m.id]),Pe=b.useMemo(()=>u?!1:x==="alkkagi_simultaneous_placement"?!0:g===W,[x,g,W,u]),me=W===oe.White,de=b.useMemo(()=>{if(x==="alkkagi_simultaneous_placement"||x==="alkkagi_placement"){const J=m.id===f.id?h:N;return[...v||[],...J||[]]}return v||[]},[x,v,h,N,m.id,f.id]),Ge=b.useMemo(()=>{var ke;const J=(a.alkkagiStones||[]).filter(Te=>Te.player===W).length;if(a.gameStatus==="alkkagi_simultaneous_placement"||a.gameStatus==="alkkagi_placement"){const Te=((ke=m.id===a.player1.id?a.alkkagiStones_p1:a.alkkagiStones_p2)==null?void 0:ke.length)||0;return J+Te}return J},[a,m.id,W]),ve=b.useCallback(J=>{const{session:ke,onAction:Te}=L.current;Te({type:"ALKKAGI_PLACE_STONE",payload:{gameId:ke.id,point:J}})},[]),an=b.useCallback(()=>{ie(),Z(null),S.current=performance.now();const J=ke=>{var Ue;S.current||(S.current=ke);const{session:Te,currentUser:be}=L.current,Re=(((Ue=Te.activeAlkkagiItems)==null?void 0:Ue[be.id])||[]).includes("slow"),Ze=Te.settings.alkkagiGaugeSpeed||900,Se=Re?Ze*2:Ze,Fe=Se/2,Rn=(ke-S.current)%Se/Fe;let Dn;Rn<=1?Dn=Rn*100:Dn=(2-Rn)*100,M.current&&(M.current.style.width=`${Dn}%`),V.current=Dn,U.current=requestAnimationFrame(J)};U.current=requestAnimationFrame(J)},[ie]),ye=b.useCallback((J,ke,Te,be)=>{j.current&&cancelAnimationFrame(j.current);let Ce=JSON.parse(JSON.stringify(J||[])),Re=Ce.find(Dn=>Dn.id===ke);if(Re)Re.vx=Te,Re.vy=be;else return;const Ze=840,Se=.98;let Fe=0;const tn=1e3,Rn=()=>{var Ue;let Dn=!1;for(const Be of Ce)Be.onBoard&&(Be.x+=Be.vx,Be.y+=Be.vy,Be.vx*=Se,Be.vy*=Se,Math.abs(Be.vx)<.01&&(Be.vx=0),Math.abs(Be.vy)<.01&&(Be.vy=0),(Math.abs(Be.vx)>0||Math.abs(Be.vy)>0)&&(Dn=!0),(Be.x<0||Be.x>Ze||Be.y<0||Be.y>Ze)&&Be.onBoard&&(Be.onBoard=!1,Be.timeOffBoard=Date.now(),et.stoneFallOff()));for(let Be=0;Be<Ce.length;Be++)for(let qe=Be+1;qe<Ce.length;qe++){const Ee=Ce[Be],ze=Ce[qe];if(!Ee.onBoard||!ze.onBoard)continue;const ln=ze.x-Ee.x,yn=ze.y-Ee.y,Ln=Math.hypot(ln,yn),Bn=Ee.radius+ze.radius;if(Ln<Bn){et.stoneCollision();const zn=ln/Ln,Xe=yn/Ln,nn=ze.vx-Ee.vx,Sn=ze.vy-Ee.vy,Nn=nn*zn+Sn*Xe;if(Nn<0){const on=Nn;Ee.vx+=on*zn,Ee.vy+=on*Xe,ze.vx-=on*zn,ze.vy-=on*Xe}const wn=(Bn-Ln)/2;Ee.x-=wn*zn,Ee.y-=wn*Xe,ze.x+=wn*zn,ze.y+=wn*Xe}}(Ue=E.current)==null||Ue.updateLocalStones(Ce),Fe++,Dn&&Fe<tn?j.current=requestAnimationFrame(Rn):j.current=null};j.current=requestAnimationFrame(Rn)},[]),De=b.useCallback((J,ke)=>{ke.preventDefault();const{session:Te,currentUser:be}=L.current,Ce=Te.blackPlayerId===be.id?oe.Black:Te.whitePlayerId===be.id?oe.White:oe.None;if(!(Te.currentPlayer===Ce)||Te.gameStatus!=="alkkagi_playing")return;const Ze="touches"in ke?{x:ke.touches[0].clientX,y:ke.touches[0].clientY}:{x:ke.clientX,y:ke.clientY};w.current=!0,R.current=J,O.current=Ze,z(J.id),G(Ze),B(Ze),an()},[an]);b.useEffect(()=>{const J=be=>{if(!w.current)return;"preventDefault"in be&&be.preventDefault();const Ce="touches"in be?{x:be.touches[0].clientX,y:be.touches[0].clientY}:{x:be.clientX,y:be.clientY};B(Ce)},ke=be=>{var Rn,Dn;if(!w.current)return;const{session:Ce,onAction:Re}=L.current,Ze=R.current,Se=O.current,Fe="touches"in be?{x:be.changedTouches[0].clientX,y:be.changedTouches[0].clientY}:{x:be.clientX,y:be.clientY};ie();const tn=V.current;if(Z(tn),Ze&&Se&&Fe){const Ue=(Rn=E.current)==null?void 0:Rn.getSvg();if(!Ue){fe();return}const Be=(Dn=Ue.getScreenCTM())==null?void 0:Dn.inverse();if(!Be){fe();return}const qe=Ue.createSVGPoint();qe.x=Se.x,qe.y=Se.y;const Ee=qe.matrixTransform(Be);qe.x=Fe.x,qe.y=Fe.y;const ze=qe.matrixTransform(Be),ln=ze.x-Ee.x,yn=ze.y-Ee.y,Ln=-ln,Bn=-yn,zn=tn/100*25,Xe=Math.hypot(Ln,Bn);if(Xe>0){const nn=Ln/Xe*zn,Sn=Bn/Xe*zn;Re({type:"ALKKAGI_FLICK_STONE",payload:{gameId:Ce.id,stoneId:Ze.id,vx:nn,vy:Sn}})}}w.current=!1,R.current=null,O.current=null,z(null),G(null),B(null),H(0),V.current=0,setTimeout(()=>Z(null),1500)},Te=be=>{w.current&&(be.preventDefault(),fe())};return window.addEventListener("mousemove",J,{passive:!1}),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("mouseup",ke),window.addEventListener("touchend",ke),window.addEventListener("contextmenu",Te),()=>{window.removeEventListener("mousemove",J),window.removeEventListener("touchmove",J),window.removeEventListener("mouseup",ke),window.removeEventListener("touchend",ke),window.removeEventListener("contextmenu",Te),ie(),j.current&&cancelAnimationFrame(j.current)}},[ie,fe]),b.useEffect(()=>{const{session:J}=L.current,ke=J.animation;if((ke==null?void 0:ke.type)==="alkkagi_flick"&&ke.startTime>C.current){C.current=ke.startTime;const{stoneId:Te,vx:be,vy:Ce}=ke;ye(J.alkkagiStones||[],Te,be,Ce)}},[a.animation,ye]);const We=Q!==null?Q:X,Ie=a.settings.alkkagiStoneCount||5,Je=b.useMemo(()=>$&&(v==null?void 0:v.find(J=>J.id===$))||null,[$,v]),K=b.useMemo(()=>dt.some(J=>J.mode===a.mode)?"bg-playful-background":"bg-primary",[a.mode]);return e.jsxDEV("div",{className:`relative w-full h-full flex items-center justify-center px-4 sm:px-6 lg:px-0 ${K}`,children:[e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-3/4 max-w-md z-10 pointer-events-none",children:(P||Q!==null)&&e.jsxDEV("div",{className:`bg-gray-900/50 rounded-full h-6 border-2 border-gray-500 ${Q!==null?"animate-flick-power-pulse":""}`,children:[e.jsxDEV("div",{ref:M,className:"bg-gradient-to-r from-yellow-400 to-red-500 h-full rounded-full",style:{width:`${We}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:381,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute inset-0 w-full h-full flex items-center justify-center text-white font-bold text-sm drop-shadow-md",children:"POWER"},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:386,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:380,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:378,columnNumber:13},void 0),e.jsxDEV("div",{className:`w-full h-full transition-transform duration-500 ${me?"rotate-180":""}`,children:e.jsxDEV(Zw,{ref:E,stones:de,gameStatus:x,myPlayer:W,isMyTurn:Pe,settings:s,onPlacementClick:ve,onStoneInteractionStart:De,isSpectator:u,dragStartPoint:P,dragEndPoint:q,selectedStone:Je,myStonesCount:Ge,maxStones:Ie,session:a,currentUser:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:394,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:393,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/AlkkagiArena.tsx",lineNumber:377,columnNumber:9},void 0)},n3=b.forwardRef((o,a)=>{const{stones:c,gameStatus:m,myPlayer:u,currentPlayer:p,onLaunchAreaInteractionStart:s,isSpectator:x,dragStartPoint:v,dragEndPoint:g,selectedStone:f,currentUser:h,session:N}=o,[y,E]=b.useState(c),j=b.useRef(null),U=840,S=19,M=U/S,C=M/2,w={x:U/2,y:U/2};b.useEffect(()=>{E(c)},[c]),b.useImperativeHandle(a,()=>({updateLocalStones:B=>{E([...B])},getSvg:()=>j.current}));const R=b.useMemo(()=>[{x:3,y:3},{x:9,y:3},{x:15,y:3},{x:3,y:9},{x:9,y:9},{x:15,y:9},{x:3,y:15},{x:9,y:15},{x:15,y:15}],[S]),O=B=>({cx:C+B.x*M,cy:C+B.y*M}),V=b.useMemo(()=>{var ve,an;if(!v||!g||!f||!j.current)return null;const B=j.current,X=(ve=B.getScreenCTM())==null?void 0:ve.inverse();if(!X)return null;const H=B.createSVGPoint();H.x=v.x,H.y=v.y;const Q=H.matrixTransform(X);H.x=g.x,H.y=g.y;const Z=H.matrixTransform(X),ne=Z.x-Q.x,le=Z.y-Q.y,L=f,ue={x:L.x,y:L.y};let pe={x:ue.x-ne,y:ue.y-le};const fe=(((an=N.activeCurlingItems)==null?void 0:an[h.id])||[]).includes("aimingLine"),W=80*.2,Pe=fe?W*11:W,me=pe.x-ue.x,de=pe.y-ue.y,Ge=Math.hypot(me,de);return Ge>Pe&&(pe.x=ue.x+me/Ge*Pe,pe.y=ue.y+de/Ge*Pe),{start:ue,end:pe}},[v,g,f,N.activeCurlingItems,h.id]),$=()=>{const B=[M*6,M*4,M*2,M*.5],X=["rgba(0, 100, 255, 0.2)","rgba(255, 255, 255, 0.2)","rgba(255, 0, 0, 0.2)","white"];return e.jsxDEV("g",{children:[B.map((H,Q)=>e.jsxDEV("circle",{cx:w.x,cy:w.y,r:H,fill:X[Q]},Q,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:107,columnNumber:21},void 0)),e.jsxDEV("line",{x1:0,y1:w.y,x2:U,y2:w.y,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:109,columnNumber:17},void 0),e.jsxDEV("line",{x1:w.x,y1:0,x2:w.x,y2:U,stroke:"rgba(255,255,255,0.1)",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:105,columnNumber:13},void 0)},z=!x&&m==="curling_playing"&&u===p,G=1*M,q=[{x:C,y:C,player:oe.White},{x:U-C-G,y:C,player:oe.White},{x:C,y:U-C-G,player:oe.Black},{x:U-C-G,y:U-C-G,player:oe.Black}];return e.jsxDEV("div",{className:"relative w-full h-full shadow-2xl rounded-lg overflow-hidden border-4 border-gray-800",children:e.jsxDEV("svg",{ref:j,viewBox:`0 0 ${U} ${U}`,className:"w-full h-full",children:[e.jsxDEV("defs",{children:[e.jsxDEV("radialGradient",{id:"gloss-curling-1",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#333"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:136,columnNumber:60},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#000"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:136,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:136,columnNumber:21},void 0),e.jsxDEV("radialGradient",{id:"gloss-curling-2",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#fff"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:137,columnNumber:60},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#ccc"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:137,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:137,columnNumber:21},void 0),e.jsxDEV("marker",{id:"arrowhead-curling",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:e.jsxDEV("polygon",{points:"0 0, 10 3.5, 0 7",fill:"rgba(239, 68, 68, 0.9)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:138,columnNumber:120},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:138,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:135,columnNumber:17},void 0),e.jsxDEV("rect",{width:U,height:U,fill:"#DDAA77"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:141,columnNumber:18},void 0),Array.from({length:S}).map((B,X)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:C+X*M,y1:C,x2:C+X*M,y2:U-C,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:145,columnNumber:25},void 0),e.jsxDEV("line",{x1:C,y1:C+X*M,x2:U-C,y2:C+X*M,stroke:"#54432a",strokeWidth:"1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:146,columnNumber:25},void 0)]},X,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:144,columnNumber:21},void 0)),R.map((B,X)=>e.jsxDEV("circle",{...O(B),r:5,fill:"#54432a"},X,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:149,columnNumber:43},void 0)),$(),q.map((B,X)=>{const H=z&&B.player===u,Q=[H?"cursor-pointer":"cursor-default",H?"animate-pulse-white":""].filter(Boolean).join(" ");return e.jsxDEV("rect",{x:B.x,y:B.y,width:G,height:G,fill:H?"rgba(255, 255, 255, 0.2)":"rgba(255, 255, 255, 0.03)",stroke:H?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.1)",strokeWidth:H?3:2,rx:"5",className:Q,onMouseDown:H?Z=>s(Z,B):void 0,onTouchStart:H?Z=>{Z.preventDefault(),s(Z,B)}:void 0},`launch-area-${X}`,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:161,columnNumber:25},void 0)}),y.map(B=>B.onBoard?e.jsxDEV("g",{children:[e.jsxDEV("circle",{cx:B.x,cy:B.y,r:B.radius,fill:B.player===oe.Black?"#111827":"#f9fafb"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:183,columnNumber:29},void 0),e.jsxDEV("circle",{cx:B.x,cy:B.y,r:B.radius,fill:`url(#gloss-curling-${B.player})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:184,columnNumber:29},void 0)]},B.id,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:182,columnNumber:25},void 0):null),f&&V&&e.jsxDEV("g",{opacity:"0.7",children:[e.jsxDEV("circle",{cx:f.x,cy:f.y,r:f.radius,fill:f.player===oe.Black?"#111827":"#f9fafb"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:191,columnNumber:25},void 0),e.jsxDEV("circle",{cx:f.x,cy:f.y,r:f.radius,fill:`url(#gloss-curling-${f.player})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:192,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:190,columnNumber:21},void 0),V&&e.jsxDEV("g",{style:{pointerEvents:"none"},children:e.jsxDEV("line",{x1:V.start.x,y1:V.start.y,x2:V.end.x,y2:V.end.y,stroke:"rgba(239, 68, 68, 0.7)",strokeWidth:"4",strokeDasharray:"8 4",markerEnd:"url(#arrowhead-curling)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:199,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:198,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingBoard.tsx",lineNumber:127,columnNumber:9},void 0)});function tD(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const t3=b.forwardRef((o,a)=>{const{session:c,onAction:m,currentUser:u,isSpectator:p}=o,{id:s,settings:x,gameStatus:v,curlingStones:g,currentPlayer:f,activeCurlingItems:h}=c,N=b.useRef(null),y=b.useRef(null),E=b.useRef(null),j=b.useRef(null),U=b.useRef(null),S=b.useRef(0),M=b.useRef(0),C=b.useRef(!1),w=b.useRef(null),R=b.useRef(null),[O,V]=b.useState(null),[$,z]=b.useState(null),[P,G]=b.useState(null),[q,B]=b.useState(0),[X,H]=b.useState(null),[Q,Z]=b.useState(!1),[ne,le]=b.useState(window.innerWidth<1024),L=b.useRef(o);b.useEffect(()=>{L.current=o});const ue=b.useMemo(()=>c.blackPlayerId===u.id?oe.Black:c.whitePlayerId===u.id?oe.White:oe.None,[c.blackPlayerId,c.whitePlayerId,u.id]);b.useMemo(()=>p?!1:f===ue,[f,ue,p]);const pe=ue===oe.White,ie=tD(c.gameStatus),fe=tD(c.turnStartTime);b.useEffect(()=>{c.turnStartTime!==fe&&H(null)},[c.turnStartTime,fe]),b.useEffect(()=>{ie==="curling_animating"&&c.gameStatus!=="curling_animating"&&(V(null),y.current&&(cancelAnimationFrame(y.current),y.current=null))},[c.gameStatus,ie]),b.useEffect(()=>{const ye=()=>le(window.innerWidth<1024);return window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[]);const W=b.useCallback(()=>{E.current&&(cancelAnimationFrame(E.current),E.current=null),j.current=null},[]),Pe=b.useCallback(()=>{C.current=!1,w.current=null,R.current=null,W(),z(null),G(null),B(0),H(null),Z(!1),M.current=0},[W]),me=b.useCallback(()=>{W(),H(null),j.current=performance.now();const ye=De=>{var Ze;j.current||(j.current=De);const{session:We,currentUser:Ie}=L.current,K=(((Ze=We.activeCurlingItems)==null?void 0:Ze[Ie.id])||[]).includes("slow"),J=We.settings.curlingGaugeSpeed||700,ke=K?J*2:J,Te=ke/2,Ce=(De-j.current)%ke/Te;let Re;Ce<=1?Re=Ce*100:Re=(2-Ce)*100,U.current&&(U.current.style.width=`${Re}%`),M.current=Re,E.current=requestAnimationFrame(ye)};E.current=requestAnimationFrame(ye)},[W]),de=b.useCallback((ye,De,We)=>{y.current&&cancelAnimationFrame(y.current);let Ie=JSON.parse(JSON.stringify(ye||[])),Je={...De,vx:We.x,vy:We.y,onBoard:!0};Ie.push(Je),V(Ie);const K=840,J=.98;let ke=0;const Te=1e3,be=()=>{let Ce=!1;for(const Re of Ie)Re.onBoard&&(Re.x+=Re.vx,Re.y+=Re.vy,Re.vx*=J,Re.vy*=J,Math.abs(Re.vx)<.01&&(Re.vx=0),Math.abs(Re.vy)<.01&&(Re.vy=0),(Math.abs(Re.vx)>0||Math.abs(Re.vy)>0)&&(Ce=!0),(Re.x<0||Re.x>K||Re.y<0||Re.y>K)&&Re.onBoard&&(Re.onBoard=!1,Re.timeOffBoard=Date.now(),et.stoneFallOff()));for(let Re=0;Re<Ie.length;Re++)for(let Ze=Re+1;Ze<Ie.length;Ze++){const Se=Ie[Re],Fe=Ie[Ze];if(!Se.onBoard||!Fe.onBoard)continue;const tn=Fe.x-Se.x,Rn=Fe.y-Se.y,Dn=Math.hypot(tn,Rn),Ue=Se.radius+Fe.radius;if(Dn<Ue){et.stoneCollision();const Be=tn/Dn,qe=Rn/Dn,Ee=Fe.vx-Se.vx,ze=Fe.vy-Se.vy,ln=Ee*Be+ze*qe;if(ln<0){const Ln=ln;Se.vx+=Ln*Be,Se.vy+=Ln*qe,Fe.vx-=Ln*Be,Fe.vy-=Ln*qe}const yn=(Ue-Dn)/2;Se.x-=yn*Be,Se.y-=yn*qe,Fe.x+=yn*Be,Fe.y+=yn*qe}}V([...Ie]),ke++,Ce&&ke<Te?y.current=requestAnimationFrame(be):y.current=null};y.current=requestAnimationFrame(be)},[]),Ge=b.useCallback((ye,De)=>{const{session:We,currentUser:Ie}=L.current,Je=We.blackPlayerId===Ie.id?oe.Black:We.whitePlayerId===Ie.id?oe.White:oe.None;if(!(We.currentPlayer===Je)||We.gameStatus!=="curling_playing")return;C.current=!0;const J=840/19*.47,ke={id:Date.now(),player:Je,x:De.x+J,y:De.y+J,vx:0,vy:0,radius:J,onBoard:!1};w.current=ke;const Te="touches"in ye?{x:ye.touches[0].clientX,y:ye.touches[0].clientY}:{x:ye.clientX,y:ye.clientY};R.current=Te,z(Te),G(Te),Z(!0),me()},[me]);b.useEffect(()=>{const ye=Ie=>{if(!C.current)return;"touches"in Ie&&Ie.preventDefault();const Je="touches"in Ie?{x:Ie.touches[0].clientX,y:Ie.touches[0].clientY}:{x:Ie.clientX,y:Ie.clientY};G(Je)},De=()=>{if(!C.current)return;const{session:Ie,onAction:Je}=L.current,K=w.current,J=R.current;W();const ke=M.current;H(ke),G(Te=>{var be,Ce;if(K&&J&&Te){const Re=(be=N.current)==null?void 0:be.getSvg();if(!Re)return console.error("SVG element not found for coordinate conversion."),Pe(),null;const Ze=(Ce=Re.getScreenCTM())==null?void 0:Ce.inverse();if(!Ze)return console.error("Could not get CTM for coordinate conversion."),Pe(),null;const Se=Re.createSVGPoint();Se.x=J.x,Se.y=J.y;const Fe=Se.matrixTransform(Ze);Se.x=Te.x,Se.y=Te.y;const tn=Se.matrixTransform(Ze),Rn=tn.x-Fe.x,Dn=tn.y-Fe.y,Ue=-Rn,Be=-Dn,qe=ke/100*25,Ee=Math.hypot(Ue,Be);if(Ee>0){const ze=Ue/Ee*qe,ln=Be/Ee*qe;Je({type:"CURLING_FLICK_STONE",payload:{gameId:Ie.id,launchPosition:{x:K.x,y:K.y},velocity:{x:ze,y:ln}}})}}return C.current=!1,w.current=null,R.current=null,z(null),Z(!1),null}),B(0),M.current=0,setTimeout(()=>H(null),1500)},We=Ie=>{C.current&&(Ie.preventDefault(),Pe())};return window.addEventListener("mousemove",ye),window.addEventListener("touchmove",ye,{passive:!1}),window.addEventListener("mouseup",De),window.addEventListener("touchend",De),window.addEventListener("contextmenu",We),()=>{window.removeEventListener("mousemove",ye),window.removeEventListener("touchmove",ye),window.removeEventListener("mouseup",De),window.removeEventListener("touchend",De),window.removeEventListener("contextmenu",We),W(),y.current&&cancelAnimationFrame(y.current)}},[W,Pe]),b.useEffect(()=>{const{session:ye}=L.current,De=ye.animation;if((De==null?void 0:De.type)==="curling_flick"&&De.startTime>S.current){S.current=De.startTime;const{stone:We,velocity:Ie}=De;de(ye.curlingStones||[],We,Ie)}},[c.animation,de]);const ve=X!==null?X:q,an=b.useMemo(()=>dt.some(ye=>ye.mode===c.mode)?"bg-playful-background":"bg-primary",[c.mode]);return e.jsxDEV("div",{className:`relative w-full h-full flex items-center justify-center px-4 sm:px-6 lg:px-0 ${an}`,children:[e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-3/4 max-w-md z-10 pointer-events-none",children:($||X!==null)&&e.jsxDEV("div",{className:`bg-gray-900/50 rounded-full h-6 border-2 border-gray-500 ${X!==null?"animate-flick-power-pulse":""}`,children:[e.jsxDEV("div",{ref:U,className:"bg-gradient-to-r from-yellow-400 to-red-500 h-full rounded-full",style:{width:`${ve}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:374,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute inset-0 w-full h-full flex items-center justify-center text-white font-bold text-sm drop-shadow-md",children:"POWER"},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:379,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:373,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:371,columnNumber:14},void 0),e.jsxDEV("div",{className:`w-full h-full transition-transform duration-500 ${pe?"rotate-180":""}`,children:e.jsxDEV(n3,{ref:N,stones:O??g??[],gameStatus:v,myPlayer:ue,currentPlayer:f,onLaunchAreaInteractionStart:Ge,isSpectator:p,dragStartPoint:$,dragEndPoint:P,selectedStone:Q?w.current:null,activeCurlingItems:c.activeCurlingItems,currentUser:u,session:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:386,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:385,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/CurlingArena.tsx",lineNumber:370,columnNumber:9},void 0)}),o3=(o,a,c,m,u)=>{const{x:p,y:s,player:x}=a,v=o.length,g=x===oe.Black?oe.White:oe.Black;if(s<0||s>=v||p<0||p>=v||o[s][p]!==oe.None)return{isValid:!1,reason:"occupied",newBoardState:o,capturedStones:[],newKoInfo:c};if(c&&c.point.x===p&&c.point.y===s&&c.turn===m)return{isValid:!1,reason:"ko",newBoardState:o,capturedStones:[],newKoInfo:c};const f=JSON.parse(JSON.stringify(o));f[s][p]=x;const h=(M,C)=>{const w=[];return M>0&&w.push({x:M-1,y:C}),M<v-1&&w.push({x:M+1,y:C}),C>0&&w.push({x:M,y:C-1}),C<v-1&&w.push({x:M,y:C+1}),w},N=(M,C,w,R)=>{var P;if(((P=R[C])==null?void 0:P[M])!==w)return null;const O=[{x:M,y:C}],V=new Set([`${M},${C}`]),$=new Set,z=[{x:M,y:C}];for(;O.length>0;){const{x:G,y:q}=O.shift();for(const B of h(G,q)){const X=`${B.x},${B.y}`,H=R[B.y][B.x];H===oe.None?$.add(X):H===w&&(V.has(X)||(V.add(X),O.push(B),z.push(B)))}}return{stones:z,liberties:$.size}};let y=[],E=null;const j=new Set;for(const M of h(p,s)){const C=`${M.x},${M.y}`;if(f[M.y][M.x]===g&&!j.has(C)){const w=N(M.x,M.y,g,f);w&&w.liberties===0&&(y.push(...w.stones),w.stones.length===1&&(E=w.stones[0]),w.stones.forEach(R=>j.add(`${R.x},${R.y}`)))}}if(y.length>0)for(const M of y)f[M.y][M.x]=oe.None;const U=N(p,s,x,f);if(U&&U.liberties===0)return{isValid:!1,reason:"suicide",newBoardState:o,capturedStones:[],newKoInfo:c};let S=null;return U&&y.length===1&&U.stones.length===1&&U.liberties===1&&(S={point:E,turn:m+1}),{isValid:!0,newBoardState:f,capturedStones:y,newKoInfo:S}},bS=o=>{const{boardState:a,settings:{boardSize:c}}=o,m=(g,f)=>{const h=o.currentPlayer,N=o3(o.boardState,{x:g,y:f,player:h},o.koInfo,o.moveHistory.length);return N.isValid&&(o.boardState=N.newBoardState,o.captures[h]+=N.capturedStones.length,o.koInfo=N.newKoInfo),N},u=(g,f)=>{const h=[];return g>0&&h.push({x:g-1,y:f}),g<c-1&&h.push({x:g+1,y:f}),f>0&&h.push({x:g,y:f-1}),f<c-1&&h.push({x:g,y:f+1}),h},p=(g,f,h,N)=>{var S;if(f<0||f>=c||g<0||g>=c||((S=N[f])==null?void 0:S[g])!==h)return null;const y=[{x:g,y:f}],E=new Set([`${g},${f}`]),j=new Set,U=[{x:g,y:f}];for(;y.length>0;){const{x:M,y:C}=y.shift();for(const w of u(M,C)){const R=`${w.x},${w.y}`,O=N[w.y][w.x];O===oe.None?j.add(R):O===h&&(E.has(R)||(E.add(R),y.push(w),U.push(w)))}}return{stones:U,liberties:j.size,libertyPoints:j,player:h}};return{getScore:()=>{const g={[oe.Black]:0,[oe.White]:0,[oe.None]:0},f=Array(c).fill(0).map(()=>Array(c).fill(!1));for(let h=0;h<c;h++)for(let N=0;N<c;N++)if(a[h][N]!==oe.None)g[a[h][N]]++;else if(!f[h][N]){const y=[{x:N,y:h}];f[h][N]=!0;const E=[{x:N,y:h}];let j=!1,U=!1;for(;y.length>0;){const S=y.shift();for(const M of u(S.x,S.y))f[M.y][M.x]||(a[M.y][M.x]===oe.None?(f[M.y][M.x]=!0,y.push(M),E.push(M)):a[M.y][M.x]===oe.Black?j=!0:U=!0)}j&&!U?g[oe.Black]+=E.length:U&&!j&&(g[oe.White]+=E.length)}return g[oe.Black]+=o.captures[oe.Black],g[oe.White]+=o.captures[oe.White],{score:{black:g[oe.Black],white:g[oe.White]}}},findGroup:p,getAllLibertiesOfPlayer:(g,f)=>{const h=new Set,N=new Set;for(let y=0;y<c;y++)for(let E=0;E<c;E++){const j=`${E},${y}`;if(f[y][E]===g&&!N.has(j)){const U=p(E,y,g,f);U&&(U.stones.forEach(S=>N.add(`${S.x},${S.y}`)),U.libertyPoints.forEach(S=>h.add(S)))}}return Array.from(h).map(y=>{const[E,j]=y.split(",").map(Number);return{x:E,y:j}})},getNeighbors:u,getAllGroups:(g,f)=>{const h=[],N=new Set;for(let y=0;y<c;y++)for(let E=0;E<c;E++)if(f[y][E]===g&&!N.has(`${E},${y}`)){const j=p(E,y,g,f);j&&(h.push(j),j.stones.forEach(U=>N.add(`${U.x},${U.y}`)))}return h},placeStone:m}},i3=o=>{const{session:a,onAction:c,currentUser:m,isSpectator:u,isMyTurn:p,isMobile:s,showLastMoveMarker:x}=o,{id:v,boardState:g,settings:f,lastMove:h,winningLine:N,gameStatus:y,currentPlayer:E,blackPlayerId:j,whitePlayerId:U,player1:S,player2:M,animation:C,lastTurnStones:w}=a,R=j===m.id?oe.Black:oe.White,O=[S,M],V=O.find(q=>q.id===j)||null,$=O.find(q=>q.id===U)||null,z=b.useMemo(()=>{if(y!=="dice_placing"||!p)return[];if(!g.flat().some(B=>B===oe.White)){const B=[];for(let X=0;X<f.boardSize;X++)for(let H=0;H<f.boardSize;H++)g[X][H]===oe.None&&B.push({x:H,y:X});return B}return bS(a).getAllLibertiesOfPlayer(oe.White,g)},[a,y,p,g,f.boardSize]),P=(q,B)=>{!p||y!=="dice_placing"||!z.some(H=>H.x===q&&H.y===B)||c({type:"DICE_PLACE_STONE",payload:{gameId:v,x:q,y:B}})},G=b.useMemo(()=>dt.some(q=>q.mode===a.mode)?"bg-playful-background":"bg-primary",[a.mode]);return e.jsxDEV("div",{className:`relative w-full h-full flex flex-col items-center justify-center ${G}`,children:e.jsxDEV(ef,{boardState:g,boardSize:f.boardSize,onBoardClick:P,lastMove:h,lastTurnStones:w,isBoardDisabled:!p||y!=="dice_placing",stoneColor:oe.Black,winningLine:N,mode:a.mode,mixedModes:a.settings.mixedModes,myPlayerEnum:R,gameStatus:y,currentPlayer:E,highlightedPoints:z,highlightStyle:"ring",isSpectator:u,currentUser:m,blackPlayerNickname:(V==null?void 0:V.nickname)||"",whitePlayerNickname:($==null?void 0:$.nickname)||"",isItemModeActive:!1,animation:C,isMobile:s,showLastMoveMarker:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/DiceGoArena.tsx",lineNumber:62,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/DiceGoArena.tsx",lineNumber:61,columnNumber:9},void 0)},l3=o=>{const{session:a,onAction:c,currentUser:m,isMyTurn:u,isSpectator:p,isMobile:s,showLastMoveMarker:x}=o,{id:v,boardState:g,settings:f,lastMove:h,winningLine:N,gameStatus:y,currentPlayer:E,blackPlayerId:j,whitePlayerId:U,thiefPlayerId:S,player1:M,player2:C,lastTurnStones:w}=a,R=j===m.id?oe.Black:U===m.id?oe.White:oe.None,O=m.id===S?"":"",V=[M,C],$=V.find(B=>B.id===j)||null,z=V.find(B=>B.id===U)||null,P=(B,X)=>{!u||y!=="thief_placing"||c({type:"THIEF_PLACE_STONE",payload:{gameId:v,x:B,y:X}})},G=b.useMemo(()=>{if(y!=="thief_placing"||!u)return[];const B=bS(a),X=()=>{const H=[];for(let Q=0;Q<f.boardSize;Q++)for(let Z=0;Z<f.boardSize;Z++)g[Q][Z]===oe.None&&H.push({x:Z,y:Q});return H};if(O===""){const H=!g.flat().includes(oe.Black);if(a.turnInRound===1||H)return X();if(g.flat().includes(oe.Black)){const ne=B.getAllLibertiesOfPlayer(oe.Black,g);return ne.length>0?ne:X()}else return X()}else if(g.flat().includes(oe.Black)){const Q=B.getAllLibertiesOfPlayer(oe.Black,g);return Q.length>0?Q:X()}else return X()},[y,u,a,g,O,f.boardSize]),q=b.useMemo(()=>dt.some(B=>B.mode===a.mode)?"bg-playful-background":"bg-primary",[a.mode]);return e.jsxDEV("div",{className:`relative w-full h-full ${q}`,children:e.jsxDEV(ef,{boardState:g,boardSize:f.boardSize,onBoardClick:P,lastMove:h,lastTurnStones:w,isBoardDisabled:!u||y!=="thief_placing",stoneColor:R,winningLine:N,mode:a.mode,mixedModes:a.settings.mixedModes,myPlayerEnum:R,gameStatus:y,currentPlayer:E,highlightedPoints:G,isSpectator:p,currentUser:m,blackPlayerNickname:($==null?void 0:$.nickname)||"",whitePlayerNickname:(z==null?void 0:z.nickname)||"",isItemModeActive:!1,isMobile:s,showLastMoveMarker:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/ThiefGoArena.tsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/ThiefGoArena.tsx",lineNumber:78,columnNumber:9},void 0)},a3=o=>{const{session:a,currentUser:c,isSpectator:m,isMyTurn:u,myPlayerEnum:p,handleBoardClick:s,isMobile:x,showLastMoveMarker:v,isPaused:g=!1,resumeCountdown:f=0}=o,{boardState:h,settings:N,lastMove:y,winningLine:E,gameStatus:j,currentPlayer:U,blackPlayerId:S,whitePlayerId:M,player1:C,player2:w,animation:R,blackPatternStones:O,whitePatternStones:V,lastTurnStones:$}=a,z=C.id===S?C:w,P=C.id===M?w:C;return e.jsxDEV("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("div",{className:`w-full h-full transition-opacity duration-500 ${g?"opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsxDEV(ef,{boardState:h,boardSize:N.boardSize,onBoardClick:s,lastMove:y,lastTurnStones:$,isBoardDisabled:!u||m||g,stoneColor:p,winningLine:E,mode:a.mode,myPlayerEnum:p,gameStatus:j,currentPlayer:U,isSpectator:m,currentUser:c,blackPlayerNickname:z.nickname,whitePlayerNickname:P.nickname,animation:R,isMobile:x,showLastMoveMarker:v,blackPatternStones:O,whitePatternStones:V,isItemModeActive:!1},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:52,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:51,columnNumber:13},void 0),g&&e.jsxDEV("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-3 pointer-events-none text-white drop-shadow-lg",children:[e.jsxDEV("h2",{className:"text-3xl font-bold tracking-wide",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:79,columnNumber:21},void 0),f>0&&e.jsxDEV("p",{className:"text-lg font-semibold text-amber-200",children:["  ",f,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:81,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/SinglePlayerArena.tsx",lineNumber:50,columnNumber:9},void 0)},oD=o=>{const{session:a,isSinglePlayerPaused:c,resumeCountdown:m,...u}=o,p={...u,session:a},{mode:s,isSinglePlayer:x}=a;if(x)return e.jsxDEV(a3,{...p,isPaused:c,resumeCountdown:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:31,columnNumber:16},void 0);switch(s){case I.Alkkagi:return e.jsxDEV(e3,{...p},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:37,columnNumber:20},void 0);case I.Curling:return e.jsxDEV(t3,{...p},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:39,columnNumber:20},void 0);case I.Dice:return e.jsxDEV(i3,{...p},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:41,columnNumber:20},void 0);case I.Thief:return e.jsxDEV(l3,{...p},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:43,columnNumber:20},void 0);case I.Standard:case I.Capture:case I.Speed:case I.Base:case I.Hidden:case I.Missile:case I.Mix:case I.Omok:case I.Ttamok:default:return e.jsxDEV(Xw,{...p},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameArena.tsx",lineNumber:56,columnNumber:20},void 0)}},NS=({session:o,onClose:a,onOpenSettings:c})=>{const{mode:m,settings:u,effectiveCaptureTargets:p}=o,s=(v,g)=>g!=null&&g!==""&&e.jsxDEV(to.Fragment,{children:[e.jsxDEV("div",{className:"font-semibold text-gray-400",children:[v,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:33,columnNumber:17},void 0),e.jsxDEV("div",{className:"whitespace-nowrap",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:34,columnNumber:17},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:32,columnNumber:13},void 0),x=b.useMemo(()=>{var N,y,E,j,U,S,M,C;const v=[],g=[I.Standard,I.Speed,I.Base,I.Hidden,I.Missile,I.Mix],f=[I.Alkkagi,I.Curling,I.Dice,I.Thief];let h;if(o.isSinglePlayer?(u==null?void 0:u.isSurvivalMode)===!0?h=" ":m===I.Capture?h=" ":h=m:h=m,v.push(s(" ",h)),[I.Alkkagi,I.Curling,I.Dice].includes(m)||v.push(s(" ",`${u.boardSize}x${u.boardSize}`)),g.includes(m)&&!((N=u.mixedModes)!=null&&N.includes(I.Base))&&v.push(s("",`${o.finalKomi??o.settings.komi??HD}`)),f.includes(m)||(u.timeLimit>0?(v.push(s("",`${u.timeLimit}`)),v.push(s("",m===I.Speed?`${u.timeIncrement} `:`${u.byoyomiTime} ${u.byoyomiCount}`))):v.push(s("",""))),m===I.Mix&&v.push(s(" ",(y=u.mixedModes)==null?void 0:y.join(", "))),(m===I.Omok||m===I.Ttamok)&&(v.push(s(" ",u.has33Forbidden?"":"")),v.push(s(" ",u.hasOverlineForbidden?"":""))),m===I.Ttamok&&v.push(s(" ",`${u.captureTarget}`)),m===I.Capture||m===I.Mix&&((E=u.mixedModes)!=null&&E.includes(I.Capture))){const w=(u==null?void 0:u.isSurvivalMode)===!0;let R;if(p)if(w){const O=p[oe.Black]===999?"-":p[oe.Black],V=p[oe.White];R=`: ${O} / : ${V}`}else R=`: ${p[oe.Black]} / : ${p[oe.White]}`;else R=`${u.captureTarget} (/  )`;v.push(s(" ",R))}if((m===I.Base||m===I.Mix&&((j=u.mixedModes)!=null&&j.includes(I.Base)))&&v.push(s("",`${u.baseStones}`)),(m===I.Hidden||m===I.Mix&&((U=u.mixedModes)!=null&&U.includes(I.Hidden)))&&(v.push(s("",`${u.hiddenStoneCount}`)),v.push(s("",`${u.scanCount}`))),(m===I.Missile||m===I.Mix&&((S=u.mixedModes)!=null&&S.includes(I.Missile)))&&v.push(s("",`${u.missileCount}`)),m===I.Dice&&(v.push(s("",`${u.diceGoRounds}R`)),v.push(s(" ",`${u.oddDiceCount}`)),v.push(s(" ",`${u.evenDiceCount}`))),m===I.Alkkagi){const w=((M=Ts.find(R=>R.value===u.alkkagiGaugeSpeed))==null?void 0:M.label)||"";v.push(s("",`${u.alkkagiRounds}R`)),v.push(s(" ",`${u.alkkagiStoneCount}`)),v.push(s(" ",u.alkkagiPlacementType)),v.push(s(" ",u.alkkagiLayout)),v.push(s(" ",w)),v.push(s(" ",`${u.alkkagiSlowItemCount}`)),v.push(s(" ",`${u.alkkagiAimingLineItemCount}`))}if(m===I.Curling){const w=((C=Ps.find(R=>R.value===u.curlingGaugeSpeed))==null?void 0:C.label)||"";v.push(s(" ",`${u.curlingStoneCount}`)),v.push(s(" ",w)),v.push(s(" ",`${u.curlingSlowItemCount}`)),v.push(s(" ",`${u.curlingAimingLineItemCount}`))}return v.filter(Boolean)},[o]);return e.jsxDEV("div",{className:"bg-gray-800 p-2 rounded-md flex-shrink-0 border border-color",children:[e.jsxDEV("h3",{className:"text-base font-bold border-b border-gray-700 pb-1 mb-2 text-yellow-300 flex justify-between items-center",children:[" ",a&&e.jsxDEV("button",{onClick:a,className:"text-xl font-bold text-gray-400 hover:text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:164,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:161,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-3 gap-y-0.5 text-xs",children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:160,columnNumber:9},void 0)},r3=({session:o,onlineUsers:a,currentUser:c,onClose:m,onAction:u,onViewUser:p})=>{const{player1:s,player2:x,blackPlayerId:v,whitePlayerId:g,gameStatus:f,isAiGame:h}=o,N=b.useMemo(()=>a.filter(M=>M.status==="in-game"&&M.gameId===o.id).sort((M,C)=>M.id===v?-1:C.id===v?1:0),[a,o.id,v]),y=b.useMemo(()=>a.filter(M=>M.status==="spectating"&&M.spectatingGameId===o.id),[a,o.id]),E=["ended","no_contest","rematch_pending"].includes(f),j=f==="rematch_pending",U=M=>{u({type:"REQUEST_REMATCH",payload:{opponentId:M,originalGameId:o.id}})},S=(M,C)=>{var $,z;const w=M.id===c.id,R=!w&&(M.id===s.id||M.id===x.id),O=($=Jn.find(P=>P.id===M.avatarId))==null?void 0:$.url,V=(z=Zn.find(P=>P.id===M.borderId))==null?void 0:z.url;return e.jsxDEV("div",{className:`flex items-center gap-2 p-1 rounded ${w?"bg-blue-900/50":""}`,children:[e.jsxDEV(_n,{userId:M.id,userName:M.nickname,size:28,avatarUrl:O,borderUrl:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:208,columnNumber:17},void 0),e.jsxDEV("div",{className:`flex items-center gap-2 flex-grow overflow-hidden ${w?"":"cursor-pointer"}`,onClick:()=>!w&&p(M.id),title:w?"":`${M.nickname}  `,children:[e.jsxDEV("span",{className:"font-semibold truncate text-sm",children:M.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:214,columnNumber:21},void 0),E&&R&&!h&&e.jsxDEV(ae,{onClick:P=>{P==null||P.stopPropagation(),U(M.id)},disabled:j,colorScheme:"yellow",className:"!text-xs !py-0.5 !px-2 flex-shrink-0",children:j?"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:216,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:209,columnNumber:17},void 0),e.jsxDEV("span",{className:"ml-auto text-xs text-gray-400 flex-shrink-0",children:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:226,columnNumber:17},void 0)]},M.id,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:207,columnNumber:13},void 0)};return e.jsxDEV("div",{className:"bg-gray-800 p-2 rounded-md flex flex-col border border-color",children:[e.jsxDEV("h3",{className:"text-base font-bold border-b border-gray-700 pb-1 mb-2 text-yellow-300 flex-shrink-0 flex justify-between items-center",children:[" ",m&&e.jsxDEV("button",{onClick:m,className:"text-xl font-bold text-gray-400 hover:text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:235,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:233,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-0.5 overflow-y-auto pr-1 flex-grow",children:[N.map(M=>S(M,M.id===v?"":"")),y.map(M=>S(M,""))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:232,columnNumber:9},void 0)},xS=o=>{const{session:a,isSpectator:c,onAction:m,waitingRoomChat:u,gameChat:p,onClose:s,onViewUser:x}=o,{mode:v}=a,{currentUserWithStatus:g,handlers:f,allUsers:h}=ot(),N=a.isAiGame,[y,E]=b.useState(N?"global":"game"),[j,U]=b.useState(""),[S,M]=b.useState(!1),[C,w]=b.useState(0),R=b.useRef(null),O=b.useRef(null),V=y==="game"?p:u;b.useEffect(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[V]),b.useEffect(()=>{if(C>0){const ne=setTimeout(()=>{w(le=>Math.max(0,le-1))},1e3);return()=>clearTimeout(ne)}},[C]),b.useEffect(()=>{const ne=le=>{R.current&&!R.current.contains(le.target)&&M(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const P=`[${st.some(ne=>ne.mode===v)?"":""}:${v}]`,G=ne=>{if(c||C>0)return;const le=y==="game"?a.id:"global",L={channel:le,...ne};le==="global"&&(L.location=P),m({type:"SEND_CHAT_MESSAGE",payload:L}),M(!1),U(""),w(5)},q=ne=>{if(ne.preventDefault(),j.trim()){if(Am(j)){alert("       ."),U("");return}G({text:j})}};if(!g)return null;const B=ne=>{g.isAdmin&&ne!==g.id?f.openModerationModal(ne):ne!==g.id&&x(ne)},X=(g.chatBanUntil??0)>Date.now(),H=X?Math.ceil((g.chatBanUntil-Date.now())/1e3/60):0,Q=X||C>0,Z=X?`   (${H} )`:Q?`(${C})`:"[ ]";return e.jsxDEV("div",{className:"flex flex-col h-full bg-gray-800 p-2 rounded-md border border-color",children:[N?e.jsxDEV("h3",{className:"text-base font-bold border-b border-gray-700 pb-1 mb-2 text-yellow-300 flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:333,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>E("game"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${y==="game"?"bg-blue-600":"text-gray-400"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>E("global"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${y==="global"?"bg-blue-600":"text-gray-400"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:337,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:335,columnNumber:17},void 0),e.jsxDEV("div",{ref:O,className:"flex-grow space-y-1 overflow-y-auto pr-2 mb-2 bg-gray-900/40 p-1.5 rounded-md min-h-0",children:[V.map(ne=>{const le=ne.system&&!ne.actionInfo&&ne.user.nickname==="AI ";return e.jsxDEV("div",{className:"text-sm",children:ne.actionInfo?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"font-semibold text-gray-400 pr-2",children:[ne.user.nickname,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:347,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-yellow-400",children:ne.actionInfo.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:348,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:" ( "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:349,columnNumber:37},void 0),e.jsxDEV("span",{className:ne.actionInfo.scoreChange>0?"text-blue-400 font-bold":"text-red-400 font-bold",children:ne.actionInfo.scoreChange>0?`+${ne.actionInfo.scoreChange}`:ne.actionInfo.scoreChange},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:350,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:")"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:353,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:346,columnNumber:33},void 0):e.jsxDEV(e.Fragment,{children:[ne.location&&e.jsxDEV("span",{className:"font-semibold text-gray-500 pr-1",children:ne.location},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:357,columnNumber:54},void 0),e.jsxDEV("span",{className:`font-semibold pr-2 ${ne.system?"text-yellow-400":"text-gray-400 cursor-pointer hover:underline"}`,onClick:()=>!ne.system&&B(ne.user.id),title:ne.system?"":`${ne.user.nickname}   / `,children:[ne.system?le?"AI ":"":ne.user.nickname,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:358,columnNumber:37},void 0),ne.text&&(()=>{if(ne.itemLink){const L=ne.text.split(ne.itemLink.itemName);if(L.length===2)return e.jsxDEV("span",{className:le?"text-yellow-400":"",children:[L[0],e.jsxDEV("span",{className:"text-blue-400 cursor-pointer hover:underline font-semibold",onClick:()=>{var pe;const ue=h.find(ie=>ie.id===ne.itemLink.userId);if(ue){const ie=(pe=ue.inventory)==null?void 0:pe.find(fe=>fe.id===ne.itemLink.itemId);ie&&f.openViewingItem(ie,ue.id===(g==null?void 0:g.id))}},title:`${ne.itemLink.itemName}    `,children:ne.itemLink.itemName},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:373,columnNumber:57},void 0),L[1],le&&" "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:371,columnNumber:53},void 0)}return e.jsxDEV("span",{className:le?"text-yellow-400":"",children:[ne.text,le&&" "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:394,columnNumber:48},void 0)})(),ne.emoji&&e.jsxDEV("span",{className:"text-xl",children:ne.emoji},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:396,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:356,columnNumber:33},void 0)},ne.id,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:344,columnNumber:25},void 0)}),V.length===0&&e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500 text-sm",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:402,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:340,columnNumber:13},void 0),!c&&e.jsxDEV("div",{className:"relative flex-shrink-0",children:[S&&e.jsxDEV("div",{ref:R,className:"absolute bottom-full mb-2 w-full bg-gray-600 rounded-lg shadow-xl p-2 z-10 max-h-64 overflow-y-auto",children:[e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 text-2xl mb-2 border-b border-gray-500 pb-2",children:tS.map(ne=>e.jsxDEV("button",{onClick:()=>G({emoji:ne}),className:"w-full p-2 rounded-md hover:bg-blue-600 transition-colors text-center",children:[" ",ne," "]},ne,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:409,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:408,columnNumber:28},void 0),e.jsxDEV("ul",{className:"space-y-1",children:nS.map(ne=>e.jsxDEV("li",{children:[" ",e.jsxDEV("button",{onClick:()=>G({text:ne}),className:"w-full text-left text-sm p-2 rounded-md hover:bg-blue-600 transition-colors",children:[" ",ne," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:412,columnNumber:79},void 0)," "]},ne,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:412,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:411,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:407,columnNumber:24},void 0),e.jsxDEV("form",{onSubmit:q,className:"flex gap-2",children:[e.jsxDEV("button",{type:"button",onClick:()=>M(ne=>!ne),className:"bg-gray-700 hover:bg-gray-600 text-white font-bold px-2.5 rounded-md transition-colors text-lg flex items-center justify-center",title:" ",disabled:Q,children:e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:418,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:417,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",value:j,onChange:ne=>U(ne.target.value),placeholder:Z,className:"flex-grow bg-gray-900 border border-gray-600 rounded-md p-1.5 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:bg-gray-800 disabled:text-gray-500",maxLength:30,disabled:Q},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:420,columnNumber:24},void 0),e.jsxDEV(ae,{type:"submit",disabled:!j.trim()||Q,className:"!px-2.5 !py-1.5",title:"",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:429,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:416,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:405,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:331,columnNumber:9},void 0)},iD=o=>{const{session:a,onLeaveOrResign:c,isNoContestLeaveAvailable:m,isSpectator:u}=o,{gameStatus:p}=a,s=["ended","no_contest","rematch_pending"].includes(p),x=m?"":s?"":u?"":"",v=m?"yellow":"red";return e.jsxDEV("div",{className:"flex flex-col h-full gap-1.5 bg-gray-900/80 rounded-lg p-2 border border-color",children:[o.onOpenSettings&&e.jsxDEV("div",{className:"flex-shrink-0 flex justify-end mb-1",children:e.jsxDEV("button",{onClick:o.onOpenSettings,className:"text-xl p-1.5 rounded hover:bg-gray-700/50 transition-colors",title:"",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:452,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:451,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 space-y-2",children:[e.jsxDEV(NS,{session:a,onClose:o.onClose,onOpenSettings:o.onOpenSettings},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:462,columnNumber:17},void 0),e.jsxDEV(r3,{...o},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:461,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 mt-2 min-h-0",children:e.jsxDEV(xS,{...o},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:466,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:465,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-shrink-0 pt-2",children:e.jsxDEV(ae,{onClick:c,colorScheme:v,className:"w-full",children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:469,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:468,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/Sidebar.tsx",lineNumber:448,columnNumber:9},void 0)},s3=o=>{o<0&&(o=0);const a=Math.floor(o/60),c=Math.floor(o%60);return`${String(a).padStart(2,"0")}:${String(c).padStart(2,"0")}`},c3=({count:o,target:a,panelType:c,mode:m,isMobile:u=!1})=>{const p=typeof a=="number"&&a>0?`${o}/${a}`:`${o}`,s=m===I.Dice;let x=" ";s?x=" ":[I.Thief,I.Curling].includes(m)&&(x="");const v=u?"w-[3rem]":"w-[clamp(4.5rem,16vmin,6rem)]",g=u?"p-0.5":"p-1",f=u?"text-[0.5rem]":"text-[clamp(0.6rem,2vmin,0.75rem)]",h=u?"text-[0.9rem]":"text-[clamp(1rem,5vmin,2rem)]",N=u?"w-2 h-2":"w-[clamp(0.8rem,3vmin,1rem)] h-[clamp(0.8rem,3vmin,1rem)]",y=u?"my-0.5":"my-1",E=`flex flex-col items-center justify-center ${v} rounded-lg shadow-lg border-2 ${g} text-center h-full`;let j="",U="text-gray-300",S="text-white";return c==="white"?(j="bg-gradient-to-br from-gray-50 to-gray-200 border-gray-400",U="text-gray-700",S="text-black"):j="bg-gradient-to-br from-gray-800 to-black border-gray-600",e.jsxDEV("div",{className:`${E} ${j}`,children:[e.jsxDEV("span",{className:`${U} ${f} font-semibold whitespace-nowrap`,children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:48,columnNumber:13},void 0),s?e.jsxDEV("div",{className:`font-mono font-bold ${h} tracking-tighter ${y} ${S} flex items-center justify-center gap-0.5`,children:[e.jsxDEV("div",{className:`${N} rounded-full bg-white border border-black inline-block flex-shrink-0`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("span",{children:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:52,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:50,columnNumber:17},void 0):e.jsxDEV("span",{className:`font-mono font-bold ${h} tracking-tighter ${y} ${S}`,children:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:55,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:47,columnNumber:9},void 0)},m3=({timeLeft:o,totalTime:a,byoyomiTime:c,byoyomiPeriods:m,totalByoyomi:u,isActive:p,isInByoyomi:s,isFoulMode:x=!1})=>{const v=b.useMemo(()=>{if(x){const g=a>0?a:c;return g>0?o/g*100:0}return s?c>0?o/c*100:0:a>0?o/a*100:0},[o,a,c,s,x]);return e.jsxDEV("div",{className:"w-full relative",children:e.jsxDEV("div",{className:`w-full h-1.5 rounded-full transition-colors ${s||x?"bg-red-900/70":"bg-gray-700"}`,children:e.jsxDEV("div",{className:`h-1.5 rounded-full ${s||x?"bg-red-500":"bg-blue-500"} ${p&&o<5?"animate-pulse":""}`,style:{width:`${Math.min(100,v)}%`,transition:"width 0.2s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:79,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:77,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:75,columnNumber:9},void 0)},lD=o=>{var Rn,Dn;const{user:a,playerEnum:c,score:m,isActive:u,timeLeft:p,totalTime:s,mainTimeLeft:x,byoyomiPeriodsLeft:v,totalByoyomi:g,byoyomiTime:f,isLeft:h,session:N,captureTarget:y,role:E,isAiPlayer:j,mode:U,isSinglePlayer:S,isMobile:M=!1}=o,{gameStatus:C,winner:w,blackPlayerId:R,whitePlayerId:O}=N,V=b.useMemo(()=>{var Ue;return(Ue=Jn.find(Be=>Be.id===a.avatarId))==null?void 0:Ue.url},[a.avatarId]),$=b.useMemo(()=>{var Ue;return(Ue=Zn.find(Be=>Be.id===a.borderId))==null?void 0:Ue.url},[a.borderId]),z=st.some(Ue=>Ue.mode===U),P=dt.some(Ue=>Ue.mode===U)&&![I.Omok,I.Ttamok].includes(U),G=U===I.Curling,q=Q2,B=P?s:f,X=P?q:g,H=Math.max(0,P?q-(((Rn=N.timeoutFouls)==null?void 0:Rn[a.id])||0):v),Q=P?!0:X>0,Z=z?a.strategyLevel:a.playfulLevel,le=`${z?"":""} Lv.${Z}`,L=h?"flex-row":"flex-row-reverse",ue=h?"text-left":"text-right",pe=h?"justify-start":"justify-end",ie=["ended","no_contest","rematch_pending"].includes(C),fe=w===oe.Black&&R===a.id||w===oe.White&&O===a.id,W=(w===oe.Black||w===oe.White)&&!fe,Pe=!P&&x<=0&&g>0,me=U===I.Dice,de=me||c===oe.Black,Ge=!me&&c===oe.White,ve=de?"black":Ge?"white":"neutral";let an="",ye="",De="",We="";S?(an=u&&!ie?"bg-stone-800 ring-2 ring-amber-400 border-stone-600":"bg-stone-900/50 border-stone-700",ye="text-stone-100",De="text-stone-400",We="text-stone-200"):ve==="black"?(an=u&&!ie?"bg-gray-800 ring-2 ring-blue-400 border-gray-600":"bg-black/50 border-gray-700",ye="text-white",De="text-gray-400",We="text-gray-200"):ve==="white"?(an=u&&!ie?"bg-gray-300 ring-2 ring-blue-500 border-blue-500":"bg-gray-200 border-gray-400",ye="text-black",De="text-gray-600",We="text-gray-800"):(an=u&&!ie?"bg-blue-900/50 ring-2 ring-blue-400":"bg-gray-800/30",ye="text-white",De="text-gray-400",We="text-gray-200");const K=fe?S?"text-amber-300":de?"text-yellow-300":"text-yellow-600":W?S?"text-stone-500":"text-gray-500":ye,J=N.settings.curlingStoneCount||5,ke=((Dn=N.stonesThrownThisRound)==null?void 0:Dn[a.id])||0,Te=J-ke,be=M?32:48,Ce=M?"text-[0.7rem]":"text-[clamp(0.8rem,3vmin,1.125rem)]",Re=M?"text-[0.5rem]":"text-[clamp(0.6rem,2vmin,0.75rem)]",Ze=M?"text-[0.75rem]":"text-[clamp(1rem,3.5vmin,1.25rem)]",Se=M?"text-lg":"text-2xl",Fe=M?"p-0.5":"p-1",tn=M?"gap-1":"gap-2";return e.jsxDEV("div",{className:`flex items-stretch ${tn} flex-1 ${L} ${Fe} rounded-lg transition-all duration-300 border ${an}`,children:[e.jsxDEV("div",{className:`flex flex-col ${ue} flex-grow justify-between min-w-0`,children:[e.jsxDEV("div",{className:`flex items-center ${tn} ${h?"":"flex-row-reverse"}`,children:[e.jsxDEV(_n,{userId:a.id,userName:a.nickname,size:be,avatarUrl:V,borderUrl:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:188,columnNumber:21},void 0),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:`flex items-baseline ${tn} ${pe}`,children:[!h&&ie&&fe&&e.jsxDEV("span",{className:`${Se} font-black text-blue-400`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:191,columnNumber:68},void 0),!h&&ie&&W&&e.jsxDEV("span",{className:`${Se} font-black text-red-400`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:192,columnNumber:67},void 0),e.jsxDEV("h2",{className:`font-bold ${Ce} leading-tight whitespace-nowrap ${K}`,children:[a.nickname," ",j&&""," ",E&&`(${E})`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:193,columnNumber:29},void 0),h&&ie&&fe&&e.jsxDEV("span",{className:`${Se} font-black text-blue-400`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:194,columnNumber:67},void 0),h&&ie&&W&&e.jsxDEV("span",{className:`${Se} font-black text-red-400`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:195,columnNumber:66},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:190,columnNumber:26},void 0),e.jsxDEV("p",{className:`${Re} ${De}`,children:le},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:197,columnNumber:25},void 0),G&&e.jsxDEV("div",{className:`flex items-center gap-2 ${M?"text-[0.5rem]":"text-xs"} mt-0.5 ${pe} ${De}`,children:[e.jsxDEV("span",{children:[N.curlingRound||1,"/",N.settings.curlingRounds||3,"R"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:200,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-semibold",children:[" : ",Te]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:201,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:199,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:189,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:187,columnNumber:17},void 0),e.jsxDEV("div",{className:M?"mt-0.5":"mt-1",children:[e.jsxDEV(m3,{timeLeft:p,totalTime:s,byoyomiTime:B,byoyomiPeriods:H,totalByoyomi:X,isActive:u&&!ie,isInByoyomi:Pe,isFoulMode:P},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:207,columnNumber:21},void 0),e.jsxDEV("div",{className:`flex items-center ${M?"mt-0":"mt-0.5"} ${pe} gap-1`,children:[e.jsxDEV("span",{className:`font-mono font-bold ${Pe||P&&p<10?"text-red-400":We} ${Ze}`,children:s3(p)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:209,columnNumber:25},void 0),Q&&(P?e.jsxDEV("div",{className:"flex items-center gap-0.5",children:Array.from({length:H}).map((Ue,Be)=>e.jsxDEV("img",{src:"/images/icon/timer.png",alt:" ",title:`  ${H}`,className:"w-4 h-4 object-contain"},Be,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:214,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:212,columnNumber:33},void 0):e.jsxDEV("div",{className:"flex items-center gap-1 text-yellow-300",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:"",className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:225,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-xs font-semibold",children:H},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:230,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:224,columnNumber:33},void 0))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:208,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:206,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:186,columnNumber:13},void 0),e.jsxDEV(c3,{count:m,target:y,panelType:ve,mode:U,isMobile:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:185,columnNumber:9},void 0)},u3=(o,a,c)=>{if(!(dt.some(u=>u.mode===o)&&![I.Omok,I.Ttamok].includes(o)))return c.timeLimit*60;switch(o){case I.Alkkagi:return a==="alkkagi_placement"?F2:a==="alkkagi_simultaneous_placement"?q2:W2;case I.Curling:return Y2;case I.Dice:return a==="dice_rolling"?kd:a==="dice_placing"?Uy:kd;case I.Thief:return a==="thief_rolling"?kd:a==="thief_placing"?Uy:kd;default:return c.timeLimit*60}},aD=o=>{var W,Pe;const{session:a,clientTimes:c,isSinglePlayer:m,isMobile:u=!1}=o,{player1:p,player2:s,blackPlayerId:x,whitePlayerId:v,captures:g,mode:f,settings:h,effectiveCaptureTargets:N,scores:y,currentPlayer:E}=a,j=[I.Dice,I.Thief,I.Curling].includes(f),U=p,S=s,M=U.id===x?oe.Black:U.id===v?oe.White:oe.None,C=S.id===x?oe.Black:S.id===v?oe.White:oe.None,w=E===M&&M!==oe.None,R=E===C&&C!==oe.None,O=f===I.Curling?((W=a.curlingScores)==null?void 0:W[M])??0:j?(y==null?void 0:y[U.id])??0:g[M],V=f===I.Curling?((Pe=a.curlingScores)==null?void 0:Pe[C])??0:j?(y==null?void 0:y[S.id])??0:g[C],$=M===oe.Black?c.black:M===oe.White?c.white:h.timeLimit*60,z=C===oe.Black?c.black:C===oe.White?c.white:h.timeLimit*60,P=M===oe.Black?a.blackTimeLeft:M===oe.White?a.whiteTimeLeft:h.timeLimit*60,G=C===oe.Black?a.blackTimeLeft:C===oe.White?a.whiteTimeLeft:h.timeLimit*60,q=M===oe.Black?a.blackByoyomiPeriodsLeft:M===oe.White?a.whiteByoyomiPeriodsLeft:h.byoyomiCount,B=C===oe.Black?a.blackByoyomiPeriodsLeft:C===oe.White?a.whiteByoyomiPeriodsLeft:h.byoyomiCount,X=f===I.Thief?U.id===a.thiefPlayerId?"":"":void 0,H=f===I.Thief?S.id===a.thiefPlayerId?"":"":void 0,Q=me=>{var de;if(a.isSinglePlayer||f===I.Capture){if(((de=a.settings)==null?void 0:de.isSurvivalMode)===!0&&me===oe.Black)return;const ve=N==null?void 0:N[me];return ve===999?void 0:ve}if(f===I.Ttamok)return h.captureTarget},Z=a.isAiGame&&U.id===Vs,ne=a.isAiGame&&S.id===Vs,le=u3(f,a.gameStatus,h),L=b.useMemo(()=>{if(!m||!a.stageId)return null;const me=gl.find(de=>de.id===a.stageId);if(!me)return null;if(me.blackTurnLimit){const de=a.moveHistory.filter(ve=>ve.player===oe.Black&&ve.x!==-1).length;return{type:"capture",label:"  ",remaining:Math.max(0,me.blackTurnLimit-de),total:me.blackTurnLimit}}if(me.survivalTurns){const de=a.moveHistory.filter(ve=>ve.player===oe.White&&ve.x!==-1).length;return{type:"survival",label:"  ",remaining:Math.max(0,me.survivalTurns-de),total:me.survivalTurns}}if(me.autoScoringTurns){const de=a.totalTurns||0;return{type:"auto_scoring",label:"",remaining:Math.max(0,me.autoScoringTurns-de),total:me.autoScoringTurns}}return null},[m,a.stageId,a.moveHistory,a.totalTurns,a.settings]),ue=u?"w-16 h-16":"w-24 h-24 md:w-28 md:h-28",pe=u?"text-[0.5rem]":"text-[11px] md:text-xs",ie=u?"text-lg":"text-2xl md:text-3xl",fe=u?"text-[0.6rem]":"text-sm md:text-base";return e.jsxDEV("div",{className:`flex justify-between items-start ${u?"gap-1":"gap-2"} flex-shrink-0 h-full`,children:[e.jsxDEV(lD,{user:U,playerEnum:M,score:O,isActive:w,timeLeft:$,totalTime:le,mainTimeLeft:P,byoyomiPeriodsLeft:q,totalByoyomi:h.byoyomiCount,byoyomiTime:h.byoyomiTime,isLeft:!0,session:a,captureTarget:Q(M),role:X,isAiPlayer:Z,mode:f,isSinglePlayer:m,isMobile:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:398,columnNumber:13},void 0),m&&L&&e.jsxDEV("div",{className:`flex items-center justify-center ${ue} flex-shrink-0 bg-stone-800/95 rounded-lg border-2 border-stone-500 shadow-xl`,children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center px-1",children:[e.jsxDEV("span",{className:`${pe} text-stone-300 ${u?"mb-0.5":"mb-1"} leading-tight font-semibold`,children:L.label},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:421,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-center gap-0.5",children:[e.jsxDEV("span",{className:`${ie} font-bold text-amber-300`,children:L.remaining},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV("span",{className:`${fe} text-stone-400`,children:["/",L.total]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:424,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:422,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:420,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:419,columnNumber:17},void 0),e.jsxDEV(lD,{user:S,playerEnum:C,score:V,isActive:R,timeLeft:z,totalTime:le,mainTimeLeft:G,byoyomiPeriodsLeft:B,totalByoyomi:h.byoyomiCount,byoyomiTime:h.byoyomiTime,isLeft:!1,session:a,captureTarget:Q(C),role:H,isAiPlayer:ne,mode:f,isSinglePlayer:m,isMobile:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:429,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/PlayerPanel.tsx",lineNumber:397,columnNumber:9},void 0)},d3=(o,a)=>{const{winner:c,blackPlayerId:m,whitePlayerId:u,player1:p,player2:s}=o;return c===null||c===oe.None||!(a.id===p.id||a.id===s.id)?null:c===oe.Black&&a.id===m||c===oe.White&&a.id===u},Id=o=>Mx(o).rank,f3=({initial:o,final:a,max:c,levelUp:m,xpGain:u,finalLevel:p,isMobile:s=!1,mobileTextScale:x=1})=>{const[v,g]=b.useState(0),[f,h]=b.useState(0),[N,y]=b.useState(!1),E=c>0?o/c*100:0,j=c>0?m?100:a/c*100:0,U=j-E;b.useEffect(()=>{g(E),h(0),y(!1);const M=setTimeout(()=>{y(!0),h(1),g(j);const C=setTimeout(()=>{h(0)},500);return()=>clearTimeout(C)},500);return()=>clearTimeout(M)},[o,a,c,m,E,j]);const S=`${u}-${o}`;return e.jsxDEV("div",{className:`flex items-center ${s?"gap-1.5":"gap-3"}`,children:[e.jsxDEV("span",{className:`${s?"text-xs w-12":"text-sm w-16"} font-bold text-right`,style:{fontSize:s?`${10*x}px`:void 0},children:["Lv.",p]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:69,columnNumber:14},void 0),e.jsxDEV("div",{className:`w-full bg-gray-700/50 rounded-full ${s?"h-3":"h-4"} relative border border-gray-900/50 overflow-hidden`,children:[e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${v}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute top-0 h-full bg-gradient-to-r from-green-400 to-green-500 rounded-r-full transition-opacity duration-500 ease-out pointer-events-none",style:{left:`${E}%`,width:`${U}%`,opacity:f}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV("span",{className:`absolute inset-0 flex items-center justify-center ${s?"text-[9px]":"text-xs"} font-bold text-black/80 drop-shadow-sm`,style:{fontSize:s?`${8*x}px`:void 0},children:[o," +",u," / ",c," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:85,columnNumber:17},void 0),m&&e.jsxDEV("span",{className:`absolute inset-0 flex items-center justify-center ${s?"text-[9px]":"text-xs"} font-bold text-white animate-pulse`,style:{textShadow:"0 0 5px black",fontSize:s?`${8*x}px`:void 0},children:"LEVEL UP!"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:90,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:70,columnNumber:13},void 0),N&&u>0&&e.jsxDEV("span",{className:`${s?"text-xs w-14":"text-sm w-20"} font-bold text-green-400 whitespace-nowrap animate-fade-in-xp`,style:{fontSize:s?`${10*x}px`:void 0},children:["+",u," XP"]},S,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:96,columnNumber:17},void 0),e.jsxDEV("style",{children:`
                @keyframes fadeInXp {
                    from { opacity: 0; transform: scale(0.8); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in-xp {
                    animation: fadeInXp 0.5s ease-out forwards;
                }
            `},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:100,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:68,columnNumber:9},void 0)},rD=({analysis:o,session:a,isMobile:c=!1,mobileTextScale:m=1})=>{var f,h,N;const{scoreDetails:u}=o,{mode:p,settings:s}=a;if(!u)return e.jsxDEV("p",{className:`text-center text-gray-400 ${c?"text-xs":""}`,style:{fontSize:c?`${10*m}px`:void 0},children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:117,columnNumber:31},void 0);const x=p===I.Speed||p===I.Mix&&((f=s.mixedModes)==null?void 0:f.includes(I.Speed)),v=p===I.Base||p===I.Mix&&((h=s.mixedModes)==null?void 0:h.includes(I.Base)),g=p===I.Hidden||p===I.Mix&&((N=s.mixedModes)==null?void 0:N.includes(I.Hidden));return e.jsxDEV("div",{className:`space-y-2 sm:space-y-3 ${c?"text-[10px]":"text-xs md:text-sm"}`,children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:`space-y-0.5 sm:space-y-1 bg-gray-800/50 ${c?"p-1.5":"p-2"} rounded-md`,children:[e.jsxDEV("h3",{className:`font-bold text-center mb-0.5 sm:mb-1 ${c?"text-xs":""}`,style:{fontSize:c?`${10*m}px`:void 0},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:127,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:128,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.black.territory.toFixed(0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:128,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:128,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:129,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.black.liveCaptures??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:129,columnNumber:150},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:129,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:130,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.black.deadStones??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:130,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:130,columnNumber:21},void 0),v&&e.jsxDEV("div",{className:"flex justify-between text-blue-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:131,columnNumber:160},void 0)," ",e.jsxDEV("span",{children:u.black.baseStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:131,columnNumber:182},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:131,columnNumber:36},void 0),g&&e.jsxDEV("div",{className:"flex justify-between text-purple-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:132,columnNumber:164},void 0)," ",e.jsxDEV("span",{children:u.black.hiddenStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:132,columnNumber:185},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:132,columnNumber:38},void 0),x&&e.jsxDEV("div",{className:"flex justify-between text-green-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:133,columnNumber:162},void 0)," ",e.jsxDEV("span",{children:u.black.timeBonus.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:133,columnNumber:183},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:133,columnNumber:37},void 0),e.jsxDEV("div",{className:`flex justify-between border-t border-gray-600 pt-0.5 sm:pt-1 mt-0.5 sm:mt-1 font-bold ${c?"text-xs":"text-base"}`,style:{fontSize:c?`${10*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:134,columnNumber:237},void 0)," ",e.jsxDEV("span",{className:"text-yellow-300",children:u.black.total.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:134,columnNumber:254},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:134,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("div",{className:`space-y-0.5 sm:space-y-1 bg-gray-800/50 ${c?"p-1.5":"p-2"} rounded-md`,children:[e.jsxDEV("h3",{className:`font-bold text-center mb-0.5 sm:mb-1 ${c?"text-xs":""}`,style:{fontSize:c?`${10*m}px`:void 0},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:137,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:138,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.white.territory.toFixed(0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:138,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:138,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:139,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.white.liveCaptures??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:139,columnNumber:150},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:139,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:140,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.white.deadStones??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:140,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:140,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:141,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:u.white.komi},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:141,columnNumber:147},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:141,columnNumber:21},void 0),v&&e.jsxDEV("div",{className:"flex justify-between text-blue-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:142,columnNumber:160},void 0)," ",e.jsxDEV("span",{children:u.white.baseStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:142,columnNumber:182},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:142,columnNumber:36},void 0),g&&e.jsxDEV("div",{className:"flex justify-between text-purple-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:143,columnNumber:164},void 0)," ",e.jsxDEV("span",{children:u.white.hiddenStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:143,columnNumber:185},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:143,columnNumber:38},void 0),x&&e.jsxDEV("div",{className:"flex justify-between text-green-300",style:{fontSize:c?`${9*m}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:144,columnNumber:162},void 0)," ",e.jsxDEV("span",{children:u.white.timeBonus.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:144,columnNumber:183},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:144,columnNumber:37},void 0),e.jsxDEV("div",{className:`flex justify-between border-t border-gray-600 pt-0.5 sm:pt-1 mt-0.5 sm:mt-1 font-bold ${c?"text-xs":"text-base"}`,style:{fontSize:c?`${10*m}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:145,columnNumber:237},void 0)," ",e.jsxDEV("span",{className:"text-yellow-300",children:u.white.total.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:145,columnNumber:254},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:145,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:136,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:125,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:124,columnNumber:9},void 0)},p3=({gameSession:o,isMobile:a=!1,mobileTextScale:c=1})=>{const{scores:m,player1:u,player2:p,diceGoBonuses:s}=o,x=u.id,v=p.id,g=m[x]||0,f=m[v]||0,h=(s==null?void 0:s[x])||0,N=(s==null?void 0:s[v])||0,y=g-h,E=f-N;return h>0||N>0?e.jsxDEV("div",{className:`space-y-2 sm:space-y-3 ${a?"text-[10px]":"text-xs md:text-sm"}`,children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:`space-y-0.5 sm:space-y-1 bg-gray-800/50 ${a?"p-1.5":"p-2"} rounded-md`,children:[e.jsxDEV("h3",{className:`font-bold text-center mb-0.5 sm:mb-1 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:u.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:181,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:a?`${9*c}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:182,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:y},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:182,columnNumber:151},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:182,columnNumber:21},void 0),h>0&&e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:a?`${9*c}px`:void 0},children:[e.jsxDEV("span",{children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:183,columnNumber:147},void 0)," ",e.jsxDEV("span",{className:"text-green-400",children:["+",h]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:183,columnNumber:172},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:183,columnNumber:37},void 0),e.jsxDEV("div",{className:`flex justify-between border-t border-gray-600 pt-0.5 sm:pt-1 mt-0.5 sm:mt-1 font-bold ${a?"text-xs":"text-base"}`,style:{fontSize:a?`${10*c}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:185,columnNumber:25},void 0)," ",e.jsxDEV("span",{className:"text-yellow-300",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:185,columnNumber:42},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV("div",{className:`space-y-0.5 sm:space-y-1 bg-gray-800/50 ${a?"p-1.5":"p-2"} rounded-md`,children:[e.jsxDEV("h3",{className:`font-bold text-center mb-0.5 sm:mb-1 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:189,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:a?`${9*c}px`:void 0},children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:190,columnNumber:131},void 0)," ",e.jsxDEV("span",{children:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:190,columnNumber:151},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:190,columnNumber:21},void 0),N>0&&e.jsxDEV("div",{className:"flex justify-between",style:{fontSize:a?`${9*c}px`:void 0},children:[e.jsxDEV("span",{children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:191,columnNumber:147},void 0)," ",e.jsxDEV("span",{className:"text-green-400",children:["+",N]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:191,columnNumber:172},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:191,columnNumber:37},void 0),e.jsxDEV("div",{className:`flex justify-between border-t border-gray-600 pt-0.5 sm:pt-1 mt-0.5 sm:mt-1 font-bold ${a?"text-xs":"text-base"}`,style:{fontSize:a?`${10*c}px`:void 0},children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:193,columnNumber:25},void 0)," ",e.jsxDEV("span",{className:"text-yellow-300",children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:193,columnNumber:42},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:192,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:188,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:178,columnNumber:9},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:`text-gray-300 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:171,columnNumber:17},void 0),e.jsxDEV("p",{className:`${a?"text-3xl":"text-5xl"} font-mono my-2`,style:{fontSize:a?`${28*c}px`:void 0},children:[g," : ",f]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:170,columnNumber:13},void 0)},b3=({session:o,isMobile:a=!1,mobileTextScale:c=1,mobileImageScale:m=1})=>{var O,V,$,z;const{captures:u,blackPlayerId:p,whitePlayerId:s,player1:x,player2:v,winner:g}=o,f=u[oe.Black]||0,h=u[oe.White]||0,N=p===x.id?x:v,y=s===x.id?x:v,E=(O=Jn.find(P=>P.id===N.avatarId))==null?void 0:O.url,j=(V=Zn.find(P=>P.id===N.borderId))==null?void 0:V.url,U=($=Jn.find(P=>P.id===y.avatarId))==null?void 0:$.url,S=(z=Zn.find(P=>P.id===y.borderId))==null?void 0:z.url,M=g===oe.Black,C=g===oe.White;return e.jsxDEV("div",{className:"text-center space-y-3 sm:space-y-4",children:[e.jsxDEV("p",{className:`text-gray-300 mb-2 sm:mb-4 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-2 sm:gap-4",children:[e.jsxDEV("div",{className:`flex flex-col items-center gap-1 sm:gap-2 ${a?"w-20":"w-32"} flex-shrink-0`,children:[e.jsxDEV(_n,{userId:N.id,userName:N.nickname,size:a?Math.round(40*m):64,avatarUrl:E,borderUrl:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:226,columnNumber:21},void 0),e.jsxDEV("span",{className:`font-bold mt-0.5 sm:mt-1 w-full truncate ${a?"text-[10px]":""}`,style:{fontSize:a?`${9*c}px`:void 0},children:[N.nickname," ()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:227,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:225,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-4 flex-grow justify-center",children:[e.jsxDEV("div",{className:"flex flex-col items-center gap-1 sm:gap-2",children:[e.jsxDEV("img",{src:"/images/single/BlackDouble.png",alt:"",className:a?"w-8 h-8":"w-12 h-12",style:{width:a?`${32*m}px`:void 0,height:a?`${32*m}px`:void 0}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:231,columnNumber:25},void 0),e.jsxDEV("span",{className:`font-bold ${a?"text-lg":"text-2xl"} ${M?"text-green-400":"text-white"}`,style:{fontSize:a?`${18*c}px`:void 0},children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:232,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:230,columnNumber:21},void 0),e.jsxDEV("span",{className:`${a?"text-xl":"text-3xl"} font-bold`,style:{fontSize:a?`${20*c}px`:void 0},children:"vs"},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:234,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center gap-1 sm:gap-2",children:[e.jsxDEV("img",{src:"/images/single/WhiteDouble.png",alt:"",className:a?"w-8 h-8":"w-12 h-12",style:{width:a?`${32*m}px`:void 0,height:a?`${32*m}px`:void 0}},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:236,columnNumber:25},void 0),e.jsxDEV("span",{className:`font-bold ${a?"text-lg":"text-2xl"} ${C?"text-green-400":"text-white"}`,style:{fontSize:a?`${18*c}px`:void 0},children:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:237,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:235,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:229,columnNumber:17},void 0),e.jsxDEV("div",{className:`flex flex-col items-center gap-1 sm:gap-2 ${a?"w-20":"w-32"} flex-shrink-0`,children:[e.jsxDEV(_n,{userId:y.id,userName:y.nickname,size:a?Math.round(40*m):64,avatarUrl:U,borderUrl:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:241,columnNumber:21},void 0),e.jsxDEV("span",{className:`font-bold mt-0.5 sm:mt-1 w-full truncate ${a?"text-[10px]":""}`,style:{fontSize:a?`${9*c}px`:void 0},children:[y.nickname," ()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:242,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:240,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:224,columnNumber:13},void 0),M&&e.jsxDEV("p",{className:`${a?"text-sm":"text-lg"} font-bold text-green-400`,style:{fontSize:a?`${12*c}px`:void 0},children:[N.nickname," !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:246,columnNumber:17},void 0),C&&e.jsxDEV("p",{className:`${a?"text-sm":"text-lg"} font-bold text-green-400`,style:{fontSize:a?`${12*c}px`:void 0},children:[y.nickname," !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:249,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:222,columnNumber:9},void 0)},N3=({gameSession:o,isMobile:a=!1,mobileTextScale:c=1,mobileImageScale:m=1})=>{var S,M,C,w;const{curlingScores:u,player1:p,player2:s,blackPlayerId:x,whitePlayerId:v}=o;if(!u)return e.jsxDEV("p",{className:`text-center text-gray-400 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:257,columnNumber:32},void 0);const g=x===p.id?p:s,f=v===p.id?p:s,h=u[oe.Black]||0,N=u[oe.White]||0,y=(S=Jn.find(R=>R.id===g.avatarId))==null?void 0:S.url,E=(M=Zn.find(R=>R.id===g.borderId))==null?void 0:M.url,j=(C=Jn.find(R=>R.id===f.avatarId))==null?void 0:C.url,U=(w=Zn.find(R=>R.id===f.borderId))==null?void 0:w.url;return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:`text-gray-300 mb-2 sm:mb-4 ${a?"text-xs":""}`,style:{fontSize:a?`${10*c}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center my-1 sm:my-2",children:[e.jsxDEV("div",{className:`flex flex-col items-center gap-1 sm:gap-2 ${a?"w-20":"w-32"} flex-shrink-0`,children:[e.jsxDEV(_n,{userId:g.id,userName:g.nickname,size:a?Math.round(40*m):64,avatarUrl:y,borderUrl:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV("span",{className:`font-bold mt-0.5 sm:mt-1 w-full truncate ${a?"text-[10px]":""}`,style:{fontSize:a?`${9*c}px`:void 0},children:[g.nickname," ()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:277,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:275,columnNumber:17},void 0),e.jsxDEV("p",{className:`${a?"text-3xl":"text-5xl"} font-mono text-center flex-grow px-1 sm:px-2`,style:{fontSize:a?`${28*c}px`:void 0},children:[h," : ",N]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:279,columnNumber:17},void 0),e.jsxDEV("div",{className:`flex flex-col items-center gap-1 sm:gap-2 ${a?"w-20":"w-32"} flex-shrink-0`,children:[e.jsxDEV(_n,{userId:f.id,userName:f.nickname,size:a?Math.round(40*m):64,avatarUrl:j,borderUrl:U},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:281,columnNumber:21},void 0),e.jsxDEV("span",{className:`font-bold mt-0.5 sm:mt-1 w-full truncate ${a?"text-[10px]":""}`,style:{fontSize:a?`${9*c}px`:void 0},children:[f.nickname," ()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:280,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:274,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:272,columnNumber:9},void 0)},x3=({session:o,currentUser:a,onConfirm:c})=>{var B,X,H,Q,Z;const{winner:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,winReason:v}=o,g=b.useRef(!1),[f,h]=b.useState(!1);b.useEffect(()=>{const ne=()=>{h(window.innerWidth<768)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const N=d3(o,a),y=(B=o.summary)==null?void 0:B[a.id],E=dt.some(ne=>ne.mode===o.mode),j=b.useMemo(()=>{var ne;return(ne=Jn.find(le=>le.id===a.avatarId))==null?void 0:ne.url},[a.avatarId]),U=b.useMemo(()=>{var ne;return(ne=Zn.find(le=>le.id===a.borderId))==null?void 0:ne.url},[a.borderId]),S=(X=y==null?void 0:y.items)==null?void 0:X[0],M=S?vl.find(ne=>ne.name===S.name):null,C=f?.85:1,w=f?.7:1;b.useEffect(()=>{g.current||(N===!0?et.gameWin():N===!1&&et.gameLose(),y&&(y.level&&y.level.initial<y.level.final&&setTimeout(()=>et.levelUp(),800),y.manner&&Id(y.manner.initial)!==Id(y.manner.final)&&setTimeout(()=>et.levelUp(),900)),g.current=!0)},[N,y]);const R=m===oe.None,O=m===oe.Black?u.id===s?u:p:m===oe.White?u.id===x?u:p:null,{title:V,color:$}=b.useMemo(()=>{if(R)return{title:"",color:"text-yellow-400"};if(N===null)return O?{title:`${O.nickname} `,color:"text-gray-300"}:{title:" ",color:"text-gray-300"};if(N){let ne="";return v==="resign"&&(ne=""),v==="timeout"&&(ne=""),{title:ne,color:"text-green-400"}}else{let ne="";return v==="resign"&&(ne=""),v==="timeout"&&(ne=""),{title:ne,color:"text-red-400"}}},[N,R,v,O]),z=(H=o.analysisResult)==null?void 0:H.system,P=()=>{var ye;const ne=((ye=o.moveHistory)==null?void 0:ye.length)??0,le=o.createdAt,L=o.gameStatus==="ended"||o.gameStatus==="no_contest"?o.turnStartTime??Date.now():Date.now(),ue=Math.max(0,L-le),pe=Math.floor(ue/1e3),ie=Math.floor(pe/60),fe=pe%60,W=`${ie}:${fe.toString().padStart(2,"0")}`,Pe=u.id===s?u:p,me=u.id===x?u:p;if(E&&v==="resign"){const De=N?"  .":" .";return e.jsxDEV("p",{className:`text-center ${f?"text-sm":"text-lg"}`,style:{fontSize:f?`${12*C}px`:void 0},children:De},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:384,columnNumber:20},void 0)}const de=o.mode===I.Capture,Ge=o.mode===I.Mix&&o.settings.mixedModes&&o.settings.mixedModes.includes(I.Capture);if(de||Ge)return e.jsxDEV(b3,{session:o,isMobile:f,mobileTextScale:C,mobileImageScale:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:393,columnNumber:20},void 0);const ve=[I.Speed,I.Base,I.Hidden,I.Missile],an=o.mode===I.Mix&&o.settings.mixedModes&&o.settings.mixedModes.some(De=>ve.includes(De));if(ve.includes(o.mode)||an||o.mode===I.Mix){if(v==="score"&&z)return e.jsxDEV("div",{className:"w-full",children:e.jsxDEV(rD,{analysis:z,session:o,isMobile:f,mobileTextScale:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:405,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:404,columnNumber:21},void 0);if(v==="score")return e.jsxDEV("p",{className:`text-center text-gray-400 animate-pulse ${f?"text-xs":""}`,style:{fontSize:f?`${10*C}px`:void 0},children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:410,columnNumber:24},void 0)}if(v==="score")return z?e.jsxDEV("div",{className:"w-full",children:e.jsxDEV(rD,{analysis:z,session:o,isMobile:f,mobileTextScale:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:418,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:417,columnNumber:21},void 0):e.jsxDEV("p",{className:`text-center text-gray-400 animate-pulse ${f?"text-xs":""}`,style:{fontSize:f?`${10*C}px`:void 0},children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:422,columnNumber:20},void 0);if(o.mode===I.Dice||o.mode===I.Thief)return e.jsxDEV(p3,{gameSession:o,isMobile:f,mobileTextScale:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:424,columnNumber:87},void 0);if(o.mode===I.Curling)return e.jsxDEV(N3,{gameSession:o,isMobile:f,mobileTextScale:C,mobileImageScale:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:425,columnNumber:55},void 0);if(o.mode===I.Omok||o.mode===I.Ttamok){let De="";if(v==="omok_win"?De=N?" ":"  ":v==="capture_limit"&&(De=N?"  ":"   "),De)return e.jsxDEV("p",{className:`text-center ${f?"text-lg":"text-2xl"} font-bold`,style:{fontSize:f?`${16*C}px`:void 0},children:De},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:434,columnNumber:24},void 0)}if(o.mode===I.Alkkagi){const De=a.id===s?oe.Black:oe.White,We=(o.alkkagiStones||[]).filter(Je=>Je.player===De&&Je.onBoard).length,Ie=(o.alkkagiStones||[]).filter(Je=>Je.player!==De&&Je.onBoard).length;return N?We>0?e.jsxDEV("p",{className:`text-center ${f?"text-sm":"text-lg"}`,style:{fontSize:f?`${12*C}px`:void 0},children:[We,"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:444,columnNumber:28},void 0):e.jsxDEV("p",{className:`text-center ${f?"text-sm":"text-lg"}`,style:{fontSize:f?`${12*C}px`:void 0},children:"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:446,columnNumber:24},void 0):Ie>0?e.jsxDEV("p",{className:`text-center ${f?"text-sm":"text-lg"}`,style:{fontSize:f?`${12*C}px`:void 0},children:["     . (  ",Ie," )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:449,columnNumber:28},void 0):e.jsxDEV("p",{className:`text-center ${f?"text-sm":"text-lg"}`,style:{fontSize:f?`${12*C}px`:void 0},children:" ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:451,columnNumber:24},void 0)}return e.jsxDEV("div",{className:"flex flex-col gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsxDEV("div",{className:"bg-gray-800/40 rounded-md px-2 py-1.5 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-300",style:{fontSize:f?`${9*C}px`:void 0},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:458,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",style:{fontSize:f?`${9*C}px`:void 0},children:Pe.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:459,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:457,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-800/40 rounded-md px-2 py-1.5 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-300",style:{fontSize:f?`${9*C}px`:void 0},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:462,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",style:{fontSize:f?`${9*C}px`:void 0},children:me.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:463,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:461,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-800/40 rounded-md px-2 py-1.5 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-300",style:{fontSize:f?`${9*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:466,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",style:{fontSize:f?`${9*C}px`:void 0},children:[ne,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:467,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:465,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-800/40 rounded-md px-2 py-1.5 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-300",style:{fontSize:f?`${9*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:470,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",style:{fontSize:f?`${9*C}px`:void 0},children:W},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:471,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:469,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:456,columnNumber:17},void 0),e.jsxDEV("p",{className:`text-center text-gray-400 ${f?"text-xs":""}`,style:{fontSize:f?`${10*C}px`:void 0},children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:474,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:455,columnNumber:13},void 0)},G=y?Id(y.manner.initial):"",q=y?Id(y.manner.final):"";return e.jsxDEV(mn,{title:" ",onClose:c,initialWidth:f?600:900,initialHeight:f?560:760,windowId:"game-summary",children:e.jsxDEV("div",{className:`text-white ${f?"text-xs":"text-[clamp(0.75rem,2.5vw,1rem)]"} flex flex-col ${f?"max-h-[85vh]":"h-full"} overflow-y-auto`,children:[e.jsxDEV("h1",{className:`${f?"text-lg":"text-[clamp(2.25rem,10vw,3rem)]"} font-black text-center mb-2 sm:mb-4 tracking-widest ${$} flex-shrink-0`,style:{fontSize:f?`${16*C}px`:void 0},children:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:487,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-row gap-2 sm:gap-4 overflow-hidden flex-1 min-h-0",children:[e.jsxDEV("div",{className:`w-1/2 bg-gray-900/50 ${f?"p-1.5":"p-4"} rounded-lg overflow-y-auto flex flex-col`,children:[e.jsxDEV("h2",{className:`${f?"text-xs":"text-lg"} font-bold text-center text-gray-200 mb-1 sm:mb-3 border-b border-gray-700 pb-0.5 sm:pb-2 flex-shrink-0`,style:{fontSize:f?`${10*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:492,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0",children:P()},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:493,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:491,columnNumber:21},void 0),y&&e.jsxDEV("div",{className:"w-1/2 flex flex-col gap-1.5 sm:gap-4",children:[e.jsxDEV("div",{className:`bg-gray-900/50 ${f?"p-1.5":"p-4"} rounded-lg flex flex-col gap-1`,children:[e.jsxDEV("h2",{className:`${f?"text-xs":"text-lg"} font-bold text-center text-gray-200 mb-1 sm:mb-2 border-b border-gray-700 pb-0.5`,style:{fontSize:f?`${10*C}px`:void 0},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:502,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsxDEV(_n,{userId:a.id,userName:a.nickname,size:f?Math.round(24*w):48,avatarUrl:j,borderUrl:U},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:504,columnNumber:37},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold",style:{fontSize:f?`${10*C}px`:void 0},children:a.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:506,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:f?`${8*C}px`:void 0},children:[E?"":""," Lv.",y.level?y.level.final:E?a.playfulLevel:a.strategyLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:507,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:505,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:503,columnNumber:33},void 0),y.level&&e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(f3,{initial:y.level.progress.initial,final:y.level.progress.final,max:y.level.progress.max,levelUp:y.level.initial<y.level.final,xpGain:y.xp.change,finalLevel:y.level.final,isMobile:f,mobileTextScale:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:514,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:513,columnNumber:37},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 text-center",children:[e.jsxDEV("div",{className:`bg-gray-800 ${f?"p-1":"p-2"} rounded-md flex flex-col gap-0.5 leading-tight`,children:[e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:f?`${7*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:528,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",style:{fontSize:f?`${8*C}px`:void 0},children:[y.rating.final," ",e.jsxDEV("span",{className:y.rating.change>=0?"text-green-400":"text-red-400",children:["(",y.rating.change>0?"+":"",y.rating.change,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:531,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:529,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:527,columnNumber:37},void 0),e.jsxDEV("div",{className:`bg-gray-800 ${f?"p-1":"p-2"} rounded-md flex flex-col gap-0.5 leading-tight`,children:[e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:f?`${7*C}px`:void 0},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:537,columnNumber:41},void 0),e.jsxDEV("p",{className:`font-semibold ${y.manner.change===0?"text-white":y.manner.change>0?"text-green-400":"text-red-400"}`,style:{fontSize:f?`${8*C}px`:void 0},children:[y.manner.change>0?"+":"",y.manner.change]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:538,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:536,columnNumber:37},void 0),e.jsxDEV("div",{className:`bg-gray-800 ${f?"p-1":"p-2"} rounded-md flex flex-col gap-0.5 leading-tight`,children:[e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:f?`${7*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:543,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",style:{fontSize:f?`${8*C}px`:void 0},children:[(Q=y.overallRecord)==null?void 0:Q.wins," ",(Z=y.overallRecord)==null?void 0:Z.losses,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:544,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:542,columnNumber:37},void 0),e.jsxDEV("div",{className:`bg-gray-800 ${f?"p-1":"p-2"} rounded-md flex flex-col gap-0.5 leading-tight`,children:[e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:f?`${7*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:547,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-semibold text-white",style:{fontSize:f?`${8*C}px`:void 0},children:[G,"  ",q]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:548,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:546,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:526,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:501,columnNumber:29},void 0),e.jsxDEV("div",{className:`bg-gray-900/50 ${f?"p-1.5":"p-4"} rounded-lg space-y-1 sm:space-y-2 flex-shrink-0`,children:[e.jsxDEV("h2",{className:`${f?"text-xs":"text-lg"} font-bold text-center text-gray-200 border-b border-gray-700 pb-0.5`,style:{fontSize:f?`${10*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:553,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex gap-1.5 sm:gap-3 justify-center items-stretch",children:[e.jsxDEV("div",{className:`${f?"w-16 h-16":"w-32 h-32"} bg-gradient-to-br from-yellow-600/30 to-yellow-800/30 border-2 border-yellow-500/50 rounded-lg flex flex-col items-center justify-center ${f?"p-1":"p-2"} shadow-lg`,children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:`${f?"w-5 h-5":"w-12 h-12"} mb-0.5`},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:557,columnNumber:41},void 0),e.jsxDEV("p",{className:"font-bold text-yellow-300 text-center",style:{fontSize:f?`${7*C}px`:void 0},children:(y.gold??0).toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:558,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:556,columnNumber:37},void 0),e.jsxDEV("div",{className:`${f?"w-16 h-16":"w-32 h-32"} ${S&&M?"bg-gradient-to-br from-purple-600/30 to-purple-800/30 border-2 border-purple-500/50":"bg-gray-800/50 border-2 border-gray-700/50"} rounded-lg flex items-center justify-center ${f?"p-1":"p-2"} shadow-lg`,children:S&&M?e.jsxDEV("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[M.image&&e.jsxDEV("img",{src:M.image,alt:S.name,className:`${f?"w-8 h-8":"w-16 h-16"} mb-0.5 object-contain`},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:567,columnNumber:53},void 0),e.jsxDEV("p",{className:"font-semibold text-purple-300 text-center leading-tight",style:{fontSize:f?`${6*C}px`:void 0},children:S.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:573,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:565,columnNumber:45},void 0):e.jsxDEV("div",{className:"flex items-center justify-center w-full h-full",children:e.jsxDEV("p",{className:"text-gray-500 text-center",style:{fontSize:f?`${7*C}px`:void 0},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:579,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:578,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:563,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:554,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:552,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:500,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:489,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:c,className:`w-full ${f?"py-1.5 text-xs":"py-3"} mt-2 sm:mt-4 flex-shrink-0`,style:{fontSize:f?`${9*C}px`:void 0},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:591,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:486,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/GameSummaryModal.tsx",lineNumber:485,columnNumber:9},void 0)},g3=({session:o,currentUser:a,onAction:c})=>{const[m,u]=b.useState(15),p=b.useRef(!1),{id:s,nigiri:x,player1:v,player2:g,gameStatus:f}=o;if(!x)return null;const{holderId:h,guesserId:N,result:y,stones:E,guess:j}=x,U=a.id===N;b.useEffect(()=>{f==="nigiri_choosing"&&!p.current&&(p.current=!0)},[f]);const S=b.useCallback(w=>{var R;a.id!==((R=o.nigiri)==null?void 0:R.guesserId)||o.gameStatus!=="nigiri_guessing"||c({type:"NIGIRI_GUESS",payload:{gameId:o.id,guess:w}})},[o,a,c]);b.useEffect(()=>{if(f!=="nigiri_guessing"||!U)return;const w=o.guessDeadline||Date.now()+15*1e3,R=setInterval(()=>{const O=Math.max(0,Math.ceil((w-Date.now())/1e3));u(O),O<=0&&clearInterval(R)},1e3);return()=>clearInterval(R)},[f,U,o.guessDeadline]);const M=()=>{switch(f){case"nigiri_reveal":return" ";case"nigiri_guessing":return"  ";case"nigiri_choosing":default:return"/  ()"}},C=()=>{const w=v.id===h?v:g,R=v.id===N?v:g;if(f==="nigiri_reveal"){if(!y||!R||!w||typeof E!="number"||!j)return e.jsxDEV("div",{className:"text-center animate-pulse",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:73,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:75,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:74,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:72,columnNumber:21},void 0);const O=y==="correct",V=O?R:w,$=a.id===V.id,z=$?"  .":"  .",P=$?"bg-black border-gray-300":"bg-white border-gray-800",G=O?`${R.nickname} !`:`${R.nickname} .`,q=O?"text-green-400":"text-red-400",B=`${V.nickname} ()  .`;return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"bg-gray-900 p-4 rounded-lg space-y-3 mb-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center text-lg",children:[e.jsxDEV("span",{className:"text-gray-400",children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:96,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold",children:[E,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:97,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:95,columnNumber:26},void 0),e.jsxDEV("div",{className:"flex justify-between items-center text-lg",children:[e.jsxDEV("span",{className:"text-gray-400",children:[R.nickname," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:100,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold",children:j===1?"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:99,columnNumber:26},void 0),e.jsxDEV("div",{className:`mt-2 text-lg font-bold ${q}`,children:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:103,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:94,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-semibold mb-4",children:B},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:108,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsxDEV("div",{className:`w-24 h-24 rounded-full flex items-center justify-center border-4 ${P}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:111,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xl font-bold",children:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:112,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:110,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-6 text-sm text-gray-400 animate-pulse",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:115,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:93,columnNumber:17},void 0)}return f==="nigiri_guessing"?U?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-2",children:[w.nickname,"  ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:124,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-4",children:"     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:125,columnNumber:25},void 0),e.jsxDEV("div",{className:"my-4 text-center",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${m/15*100}%`,transition:"width 1s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:128,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:127,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-5xl font-mono text-yellow-300",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:130,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:126,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-center gap-4 mt-4",children:[e.jsxDEV(ae,{onClick:()=>S(1),colorScheme:"gray",className:"w-40 py-4 text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:133,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>S(2),colorScheme:"gray",className:"w-40 py-4 text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:134,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:132,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:123,columnNumber:21},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:141,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:[R.nickname,"    ..."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:142,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:144,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:143,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:140,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:U?`${w.nickname}   ...`:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:152,columnNumber:18},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:156,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:155,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:151,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:M(),windowId:"nigiri",children:C()},void 0,!1,{fileName:"C:/project/SUDAMR/components/NigiriModal.tsx",lineNumber:163,columnNumber:9},void 0)},Ua=to.memo(({amount:o,onAdjust:a,disabled:c})=>e.jsxDEV(ae,{onClick:()=>a(o),disabled:c,colorScheme:"gray",className:"w-full",children:o>0?`+${o}`:`${o}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:14,columnNumber:5},void 0)),h3=o=>{const{session:a,currentUser:c,onAction:m}=o,{id:u,player1:p,player2:s,bids:x,biddingRound:v,captureBidDeadline:g,settings:f}=a,[h,N]=b.useState(1),[y,E]=b.useState(30),[j,U]=b.useState(!1),S=b.useRef(v),M=b.useRef(o);b.useEffect(()=>{M.current=o}),b.useEffect(()=>{v!==S.current&&(N(1),U(!1),S.current=v)},[v]);const C=c.id===p.id?s:p,w=x==null?void 0:x[c.id],R=x==null?void 0:x[C.id],O=typeof w=="number"&&typeof R=="number",V=b.useCallback(()=>{var X;const{onAction:P,session:G,currentUser:q}=M.current;typeof((X=G.bids)==null?void 0:X[q.id])=="number"||j||(U(!0),P({type:"UPDATE_CAPTURE_BID",payload:{gameId:u,bid:h}}),setTimeout(()=>U(!1),5e3))},[j,u,h]);b.useEffect(()=>{if(typeof w=="number"||!g){E(0);return}const P=setInterval(()=>{const G=Math.max(0,Math.ceil((g-Date.now())/1e3));E(G),G<=0&&clearInterval(P)},1e3);return()=>clearInterval(P)},[w,g]);const $=b.useCallback(P=>{typeof w!="number"&&N(G=>Math.max(1,Math.min(50,G+P)))},[w]),z=()=>{const P=f.captureTarget||20;if(O){const q=x[p.id],B=x[s.id];let X="";const H=q===B;let Q,Z;q>B?(Q=p,Z=q):B>q&&(Q=s,Z=B),Q?X=`${Q.nickname} ${Z}   () .`:X=v===2?"  ,  .":", !";const ne=H&&v===1?"   ...":"   ...";return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-lg mb-6",children:[e.jsxDEV("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsxDEV("p",{className:"text-gray-400 text-sm mb-1",children:[p.nickname," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:114,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-3xl font-bold",children:[q,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:115,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:113,columnNumber:19},void 0),e.jsxDEV("div",{className:"bg-gray-900 p-4 rounded-lg",children:[e.jsxDEV("p",{className:"text-gray-400 text-sm mb-1",children:[s.nickname," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:118,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-3xl font-bold",children:[B,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:119,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:117,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:112,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-4 text-xl",children:e.jsxDEV("span",{className:"font-bold text-yellow-300",children:X},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:122,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:122,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-6 text-sm text-gray-400 animate-pulse",children:ne},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:123,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:111,columnNumber:13},void 0)}if(typeof w=="number")return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:[C.nickname,"   ..."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:132,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:134,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:133,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:130,columnNumber:17},void 0);const G=typeof w=="number";return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-6",children:["  ",e.jsxDEV("span",{className:"font-bold text-yellow-300",children:[P,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:144,columnNumber:58},void 0),". ()         .       ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:144,columnNumber:17},void 0),e.jsxDEV("div",{className:"my-4 text-center",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${y/30*100}%`,transition:"width 1s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:148,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:147,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-5xl font-mono text-yellow-300",children:y},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:150,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:146,columnNumber:17},void 0),e.jsxDEV("div",{className:"my-4",children:[e.jsxDEV("div",{className:"bg-gray-900/70 p-2 rounded-lg text-4xl font-bold text-yellow-300 mb-4 text-center",children:[P," + ",h,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:154,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[e.jsxDEV(Ua,{amount:10,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:158,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:5,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:159,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:3,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:160,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:1,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:161,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:157,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxDEV(Ua,{amount:-10,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:164,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:-5,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:165,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:-3,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:166,columnNumber:25},void 0),e.jsxDEV(Ua,{amount:-1,onAdjust:$,disabled:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:167,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:153,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:V,disabled:j||G,className:"w-full py-3",children:j?" ...":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:170,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:143,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:`  ${v===2?"()":""}`,windowId:"capture-bid",children:z()},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureBidModal.tsx",lineNumber:182,columnNumber:9},void 0)},v3=({session:o,currentUser:a,onAction:c})=>{const{id:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,effectiveCaptureTargets:v,gameStatus:g,settings:f,preGameConfirmations:h,revealEndTime:N}=o,y=h==null?void 0:h[a.id],[E,j]=b.useState(10);if(b.useEffect(()=>{const z=N||Date.now()+1e4,P=setInterval(()=>{const G=Math.max(0,Math.ceil((z-Date.now())/1e3));j(G)},1e3);return()=>{clearInterval(P)}},[N]),!s||!x||!v)return null;const U=u.id===s?u:p,S=u.id===x?u:p,M=v[oe.Black],C=v[oe.White],w=g==="capture_tiebreaker",R=()=>{if(w)return{title:"   ()",description:"    , /  ."};const z=v[oe.Black]-f.captureTarget;return{title:"  ",description:`${U.nickname} ${z}  () .`}},{title:O,description:V}=R(),$=({user:z,color:P,target:G})=>e.jsxDEV("div",{className:"flex flex-col items-center text-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:z.id,userName:z.nickname,size:80,className:`border-4 ${P===""?"border-gray-500":"border-gray-400"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:59,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-3 text-xl font-bold",children:z.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:60,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-lg font-semibold text-gray-300",children:[P,P===""&&" ()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:61,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-2 text-sm bg-gray-800 px-3 py-1 rounded-full",children:[e.jsxDEV("span",{className:"text-gray-400",children:" : "},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-bold text-yellow-300",children:[G,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:64,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:62,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:58,columnNumber:9},void 0);return e.jsxDEV(mn,{title:O,initialWidth:550,windowId:"capture-tiebreaker",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-6",children:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:73,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 my-6",children:[e.jsxDEV($,{user:U,color:"",target:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:75,columnNumber:21},void 0),e.jsxDEV($,{user:S,color:"",target:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:76,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:74,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_CAPTURE_REVEAL",payload:{gameId:m}}),disabled:!!y,className:"w-full py-3",children:y?"   ...":`  (${E})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:72,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CaptureTiebreakerModal.tsx",lineNumber:71,columnNumber:9},void 0)},lx=["rock","paper","scissors"],Rs={rock:{emoji:"",name:""},paper:{emoji:"",name:""},scissors:{emoji:"",name:""}},y3=(o,a)=>o===a?"draw":o==="rock"&&a==="scissors"||o==="scissors"&&a==="paper"||o==="paper"&&a==="rock"?"p1":"p2",D3=o=>{const{session:a,currentUser:c,onAction:m}=o,{id:u,player1:p,player2:s,rpsState:x,gameStatus:v,mode:g,rpsRound:f}=a,[h,N]=b.useState(null),[y,E]=b.useState(30),j=b.useRef(o);b.useEffect(()=>{j.current=o});const U=c.id,S=U===p.id?s:p,M=x==null?void 0:x[U],C=b.useCallback(V=>{const{session:$,onAction:z,currentUser:P}=j.current,{id:G,rpsState:q}=$;q!=null&&q[P.id]||(N(V),z({type:"SUBMIT_RPS_CHOICE",payload:{gameId:G,choice:V}}))},[]);b.useEffect(()=>{(v==="dice_rps"||v==="thief_rps"||v==="alkkagi_rps"||v==="curling_rps"||v==="omok_rps"||v==="ttamok_rps")&&(N(null),E(30))},[v]),b.useEffect(()=>{if(!(!M&&!h&&(v==="dice_rps"||v==="thief_rps"||v==="alkkagi_rps"||v==="curling_rps"||v==="omok_rps"||v==="ttamok_rps")))return;const $=setInterval(()=>{E(z=>{if(z<=1){clearInterval($);const P=lx[Math.floor(Math.random()*lx.length)];return C(P),0}return z-1})},1e3);return()=>clearInterval($)},[M,h,v,C]);const w=()=>{switch(g){case I.Thief:return" !    .";case I.Alkkagi:case I.Curling:case I.Omok:case I.Ttamok:return" !     .";case I.Dice:default:return"    ."}},R=()=>` ${f?`(${f}/3)`:""}`,O=()=>{if(v.endsWith("_rps_reveal")){const $=x==null?void 0:x[p.id],z=x==null?void 0:x[s.id];if($&&z){const P=y3($,z);let G="",q="";if(P==="draw")G=(f||1)>=3?"!  ...":"!  !",q="text-yellow-400";else if(U===p.id&&P==="p1"||U===s.id&&P==="p2"){let X="!";g===I.Dice&&(X="! ."),g===I.Thief&&(X="!   ."),(g===I.Alkkagi||g===I.Curling||g===I.Omok||g===I.Ttamok)&&a.turnChoices&&(X=`! ${a.turnChoices[U]==="first"?"":""} .`),G=X,q="text-green-400"}else{let X="!";g===I.Dice&&(X="! ."),g===I.Thief&&(X="!   ."),(g===I.Alkkagi||g===I.Curling||g===I.Omok||g===I.Ttamok)&&a.turnChoices&&(X=`!  ${a.turnChoices[S.id]==="first"?"":""} .`),G=X,q="text-red-400"}return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"flex justify-around items-center mb-6",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("span",{className:"text-lg font-semibold",children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:147,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-7xl my-2",children:Rs[$].emoji},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:148,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-300",children:Rs[$].name},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:149,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:146,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-4xl font-bold text-gray-500",children:"VS"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:151,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("span",{className:"text-lg font-semibold",children:s.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:153,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-7xl my-2",children:Rs[z].emoji},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:154,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-300",children:Rs[z].name},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:155,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:152,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:145,columnNumber:25},void 0),e.jsxDEV("h2",{className:`text-3xl font-bold animate-pulse ${q}`,children:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:158,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:144,columnNumber:21},void 0)}}return M||h?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:167,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:[S.nickname,"   ..."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:168,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:170,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:169,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:166,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-4",children:w()},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:178,columnNumber:17},void 0),f===3&&e.jsxDEV("p",{className:"text-sm text-yellow-300 mb-4",children:"   !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:179,columnNumber:36},void 0),e.jsxDEV("div",{className:"my-4 text-center",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${y/30*100}%`,transition:"width 1s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:182,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:181,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-5xl font-mono text-yellow-300",children:y},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-center gap-4 mt-4",children:lx.map($=>e.jsxDEV(ae,{onClick:()=>C($),colorScheme:"gray",className:"w-32 h-20 text-lg",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center",children:[e.jsxDEV("span",{className:"text-3xl",children:Rs[$].emoji},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:195,columnNumber:30},void 0),e.jsxDEV("span",{children:Rs[$].name},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:196,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:194,columnNumber:28},void 0)},$,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:188,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:177,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:R(),windowId:"rps-minigame",children:O()},void 0,!1,{fileName:"C:/project/SUDAMR/components/RPSMinigame.tsx",lineNumber:206,columnNumber:9},void 0)},S3=o=>{const{session:a,currentUser:c}=o,{player1:m,player2:u,roleChoices:p}=a,[s,x]=b.useState(null),[v,g]=b.useState(10),f=b.useRef(o);b.useEffect(()=>{f.current=o});const h=c.id,N=h===m.id?u:m,y=p==null?void 0:p[h],E=b.useCallback(U=>{var R;const{session:S,onAction:M,currentUser:C}=f.current;(R=S.roleChoices)!=null&&R[C.id]||(x(U),M({type:"THIEF_UPDATE_ROLE_CHOICE",payload:{gameId:S.id,choice:U}}))},[]);b.useEffect(()=>{if(y||s)return;const U=setInterval(()=>{g(S=>S<=1?(clearInterval(U),0):S-1)},1e3);return()=>clearInterval(U)},[y,s,E]);const j=()=>y||s?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:60,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:[N.nickname,"   ..."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:61,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:63,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:62,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:59,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-6",children:"  .    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV("div",{className:"my-4 text-center",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${v*10}%`,transition:"width 1s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:73,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-5xl font-mono text-yellow-300",children:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:76,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:72,columnNumber:18},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV(ae,{onClick:()=>E("thief"),colorScheme:"yellow",className:"w-full py-4 text-lg",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:79,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>E("police"),colorScheme:"blue",className:"w-full py-4 text-lg",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:86,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:70,columnNumber:13},void 0);return e.jsxDEV(mn,{title:" ",windowId:"thief-role-selection",children:j()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleSelection.tsx",lineNumber:99,columnNumber:9},void 0)},j3=({session:o,currentUser:a,onAction:c})=>{var z,P,G,q,B,X;const{id:m,player1:u,player2:p,thiefPlayerId:s,policePlayerId:x,preGameConfirmations:v,revealEndTime:g,rpsState:f,turnChoices:h}=o,N=!!(v!=null&&v[a.id]),[y,E]=b.useState(10);if(b.useEffect(()=>{const H=g||Date.now()+1e4,Q=setInterval(()=>{const Z=Math.max(0,Math.ceil((H-Date.now())/1e3));E(Z)},1e3);return()=>clearInterval(Q)},[g]),!s||!x)return null;const j=u.id===s?u:p,U=u.id===x?u:p,S=(z=Jn.find(H=>H.id===j.avatarId))==null?void 0:z.url,M=(P=Zn.find(H=>H.id===j.borderId))==null?void 0:P.url,C=(G=Jn.find(H=>H.id===U.avatarId))==null?void 0:G.url,w=(q=Zn.find(H=>H.id===U.borderId))==null?void 0:q.url;let R=" .";const O=(B=o.roleChoices)==null?void 0:B[a.id],V=a.id===u.id?p.id:u.id,$=(X=o.roleChoices)==null?void 0:X[V];return O===$&&(R=` , ${j.id===a.id?"":""}  .`),e.jsxDEV(mn,{title:"  ",initialWidth:600,windowId:"thief-role-confirm",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-4",children:R},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:50,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:j.id,userName:j.nickname,size:64,avatarUrl:S,borderUrl:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:54,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:j.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:55,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold px-2 py-0.5 rounded-full text-sm my-1 bg-yellow-600 text-black",children:"  ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:56,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:53,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:U.id,userName:U.nickname,size:64,avatarUrl:C,borderUrl:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:59,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:U.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:60,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold px-2 py-0.5 rounded-full text-sm my-1 bg-blue-600 text-white",children:"  ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:61,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:58,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_THIEF_ROLE",payload:{gameId:m}}),disabled:!!N,className:"w-full py-3 mt-6",children:N?"   ...":`  (${y})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoleConfirmedModal.tsx",lineNumber:48,columnNumber:9},void 0)},M3=o=>{const{session:a,currentUser:c}=o,{player1:m,player2:u,turnChoices:p,turnChoiceDeadline:s}=a,[x,v]=b.useState(null),[g,f]=b.useState(30),h=b.useRef(o);b.useEffect(()=>{h.current=o});const N=c.id,y=N===m.id?u:m,E=p==null?void 0:p[N],j=b.useCallback(S=>{var O;const{session:M,onAction:C,currentUser:w}=h.current;(O=M.turnChoices)!=null&&O[w.id]||(v(S),C({type:"CHOOSE_TURN_PREFERENCE",payload:{gameId:M.id,choice:S}}))},[]);b.useEffect(()=>{if(E||x||!s)return;const S=setInterval(()=>{const M=Math.max(0,Math.ceil((s-Date.now())/1e3));f(M),M<=0&&clearInterval(S)},1e3);return()=>clearInterval(S)},[E,x,s]);const U=()=>E||x?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:58,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6 animate-pulse",children:[y.nickname,"   ..."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:59,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:61,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:60,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:57,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-6",children:"  .    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:69,columnNumber:17},void 0),e.jsxDEV("div",{className:"my-4 text-center",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mb-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${g/30*100}%`,transition:"width 1s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:72,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:71,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-5xl font-mono text-yellow-300",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:74,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:70,columnNumber:18},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV(ae,{onClick:()=>j("first"),colorScheme:"blue",className:"w-full py-4 text-lg",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:77,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>j("second"),colorScheme:"gray",className:"w-full py-4 text-lg",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:84,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:76,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:68,columnNumber:13},void 0);return e.jsxDEV(mn,{title:" ",windowId:"turn-preference-selection",children:U()},void 0,!1,{fileName:"C:/project/SUDAMR/components/TurnPreferenceSelection.tsx",lineNumber:97,columnNumber:9},void 0)},C3=({session:o,currentUser:a,onConfirm:c})=>{var u;const m=(u=o.noContestInitiatorIds)==null?void 0:u.includes(a.id);return e.jsxDEV(mn,{title:" ",onClose:c,initialWidth:450,windowId:"no-contest",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg mb-6 text-center",children:[e.jsxDEV("p",{className:"text-lg",children:["10       ",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:21,columnNumber:52},void 0),"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:20,columnNumber:21},void 0),m&&e.jsxDEV("p",{className:"text-sm text-red-400 mt-3",children:":     ,    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:25,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:19,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:c,className:"w-full py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:31,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:18,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NoContestModal.tsx",lineNumber:17,columnNumber:9},void 0)},sD=(o,a)=>{var u,p;const c=(u=Jn.find(s=>s.id===a.avatarId))==null?void 0:u.url,m=(p=Zn.find(s=>s.id===a.borderId))==null?void 0:p.url;return e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg flex flex-col items-center text-center",children:[e.jsxDEV(_n,{userId:a.id,userName:a.nickname,size:80,avatarUrl:c,borderUrl:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:19,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-2 font-bold text-lg",children:a.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:20,columnNumber:13},void 0),e.jsxDEV("p",{className:`px-2 py-0.5 rounded-full text-sm font-semibold my-2 ${o.role==="thief"?"bg-yellow-600 text-black":"bg-blue-600 text-white"}`,children:o.role==="thief"?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:21,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-left text-sm space-y-1 w-full",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:26,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold",children:[o.roundScore," ",o.role==="thief"?" ":" "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:27,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:25,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between border-t border-gray-600 pt-1 mt-1 font-bold",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:30,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-mono text-xl text-yellow-300",children:[o.cumulativeScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:31,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:29,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:24,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:18,columnNumber:9},void 0)},R3=({session:o,currentUser:a,onAction:c})=>{const{id:m,player1:u,player2:p,thiefRoundSummary:s,roundEndConfirmations:x,revealEndTime:v}=o,[g,f]=b.useState(20),h=!!(x!=null&&x[a.id]);if(b.useEffect(()=>{const M=v||Date.now()+2e4,C=setInterval(()=>{const w=Math.max(0,Math.ceil((M-Date.now())/1e3));f(w)},1e3);return()=>{clearInterval(C)}},[v]),!s)return null;const{round:N,isDeathmatch:y,player1:E,player2:j}=s,U=y?` ${N-2} `:`${N}  `;let S="";return y?S="  ,     .":N<2?S="     .":S="2  .     .",e.jsxDEV(mn,{title:U,initialWidth:550,windowId:"thief-round-summary",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-6",children:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:73,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 my-6",children:[sD(E,u),sD(j,p)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_ROUND_END",payload:{gameId:m}}),disabled:h,className:"w-full py-3",children:h?"   ...":`   (${g})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:72,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ThiefRoundSummary.tsx",lineNumber:71,columnNumber:9},void 0)},E3=({session:o,currentUser:a,onAction:c})=>{var Z,ne,le,L;const{id:m,curlingRoundSummary:u,player1:p,player2:s,blackPlayerId:x,whitePlayerId:v,roundEndConfirmations:g}=o,[f,h]=b.useState(20),N=!!(g!=null&&g[a.id]);if(b.useEffect(()=>{const ue=o.revealEndTime||Date.now()+2e4,pe=setInterval(()=>{const ie=Math.max(0,Math.ceil((ue-Date.now())/1e3));h(ie)},1e3);return()=>clearInterval(pe)},[o.revealEndTime]),!u)return null;const y=x===p.id?p:s,E=v===p.id?p:s,j=(Z=Jn.find(ue=>ue.id===y.avatarId))==null?void 0:Z.url,U=(ne=Zn.find(ue=>ue.id===y.borderId))==null?void 0:ne.url,S=(le=Jn.find(ue=>ue.id===E.avatarId))==null?void 0:le.url,M=(L=Zn.find(ue=>ue.id===E.borderId))==null?void 0:L.url,{round:C,black:w,white:R,cumulativeScores:O,stonesState:V,scoredStones:$}=u,P=(a.id===x?oe.Black:oe.White)===oe.White,G=o.settings.curlingRounds||3,q=840,B={x:q/2,y:q/2},X=q/19,H=[X*6,X*4,X*2,X*.5],Q=["rgba(0, 100, 255, 0.2)","rgba(255, 255, 255, 0.2)","rgba(255, 0, 0, 0.2)","white"];return e.jsxDEV(mn,{title:`${C}  `,initialWidth:900,windowId:"curling-round-summary",children:e.jsxDEV("div",{className:"text-white flex flex-col md:flex-row gap-4",children:[e.jsxDEV("div",{className:"w-full md:w-1/2 flex flex-col items-center flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-xl font-bold mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:54,columnNumber:21},void 0),e.jsxDEV("div",{className:`w-full aspect-square bg-gray-700 rounded-lg overflow-hidden border-2 border-gray-600 transition-transform duration-500 ${P?"rotate-180":""}`,children:e.jsxDEV("svg",{viewBox:`0 0 ${q} ${q}`,className:"w-full h-full bg-[#DDAA77]",children:[e.jsxDEV("defs",{children:[e.jsxDEV("radialGradient",{id:"gloss-curling-summary-1",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#333"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:58,columnNumber:80},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#000"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:58,columnNumber:117},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:58,columnNumber:33},void 0),e.jsxDEV("radialGradient",{id:"gloss-curling-summary-2",children:[e.jsxDEV("stop",{offset:"10%",stopColor:"#fff"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:59,columnNumber:80},void 0),e.jsxDEV("stop",{offset:"95%",stopColor:"#ccc"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:59,columnNumber:117},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:59,columnNumber:33},void 0),e.jsxDEV("filter",{id:"glow-effect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[e.jsxDEV("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:61,columnNumber:37},void 0),e.jsxDEV("feMerge",{children:[e.jsxDEV("feMergeNode",{in:"coloredBlur"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:63,columnNumber:41},void 0),e.jsxDEV("feMergeNode",{in:"SourceGraphic"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:64,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:62,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:60,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:57,columnNumber:29},void 0),H.map((ue,pe)=>e.jsxDEV("circle",{cx:B.x,cy:B.y,r:ue,fill:Q[pe]},pe,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:69,columnNumber:55},void 0)),V.map(ue=>{if(!ue.onBoard)return null;const pe=$[ue.id];return e.jsxDEV("g",{children:[e.jsxDEV("circle",{cx:ue.x,cy:ue.y,r:ue.radius,fill:ue.player===oe.Black?"#111827":"#f9fafb"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:76,columnNumber:41},void 0),e.jsxDEV("circle",{cx:ue.x,cy:ue.y,r:ue.radius,fill:`url(#gloss-curling-summary-${ue.player})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:77,columnNumber:41},void 0),pe&&e.jsxDEV("g",{style:{pointerEvents:"none"},transform:P?`rotate(180, ${ue.x}, ${ue.y})`:void 0,children:[e.jsxDEV("circle",{cx:ue.x,cy:ue.y,r:ue.radius,fill:"none",stroke:ue.player===oe.Black?"#67e8f9":"#facc15",strokeWidth:"5",filter:"url(#glow-effect)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:80,columnNumber:49},void 0),e.jsxDEV("text",{x:ue.x,y:ue.y,textAnchor:"middle",dy:".35em",fontSize:ue.radius*.9,fontWeight:"bold",fill:ue.player===oe.Black?"white":"black",stroke:"rgba(0,0,0,0.5)",strokeWidth:"0.5px",children:["+",pe]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:81,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:79,columnNumber:45},void 0)]},ue.id,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:75,columnNumber:37},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:56,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:55,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full md:w-1/2 flex-grow flex flex-col justify-center",children:[e.jsxDEV("div",{className:"grid grid-cols-1 gap-2 my-2",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV(_n,{userId:y.id,userName:y.nickname,size:48,avatarUrl:j,borderUrl:U},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:97,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-lg font-bold",children:y.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:98,columnNumber:38},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:98,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:98,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:96,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:101,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-semibold",children:[w.houseScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:101,columnNumber:92},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:101,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:102,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-semibold",children:[w.knockoutScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:102,columnNumber:92},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:102,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between border-t border-gray-600 pt-2 mt-2 text-base",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:103,columnNumber:116},void 0)," ",e.jsxDEV("strong",{className:"text-yellow-300",children:[w.total,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:103,columnNumber:141},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:103,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:100,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:95,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV(_n,{userId:E.id,userName:E.nickname,size:48,avatarUrl:S,borderUrl:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:108,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-lg font-bold",children:E.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:109,columnNumber:38},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:109,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:109,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:107,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:112,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-semibold",children:[R.houseScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:112,columnNumber:92},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:112,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:113,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-semibold",children:[R.knockoutScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:113,columnNumber:92},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:113,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between border-t border-gray-600 pt-2 mt-2 text-base",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:114,columnNumber:116},void 0)," ",e.jsxDEV("strong",{className:"text-yellow-300",children:[R.total,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:114,columnNumber:141},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:114,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:111,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:106,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:94,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-center bg-gray-700/50 p-3 rounded-lg mt-4",children:[e.jsxDEV("p",{className:"text-lg font-bold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:120,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-2xl font-mono",children:[e.jsxDEV("span",{children:[" ",O[oe.Black]]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:122,columnNumber:29},void 0),e.jsxDEV("span",{className:"mx-4 text-gray-400",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:123,columnNumber:29},void 0),e.jsxDEV("span",{children:[" ",O[oe.White]]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:124,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:121,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:119,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_ROUND_END",payload:{gameId:m}}),disabled:!!N,className:"w-full mt-6 py-3",children:N?"   ...":`${C>=G?"  ":"  "} (${f})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:128,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:93,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:52,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingRoundSummary.tsx",lineNumber:51,columnNumber:9},void 0)},A3=({session:o,currentUser:a,onAction:c})=>{var z,P,G,q;const{id:m,player1:u,player2:p,diceRoundSummary:s,roundEndConfirmations:x,revealEndTime:v}=o,[g,f]=b.useState(20),h=!!(x!=null&&x[a.id]);if(b.useEffect(()=>{const B=v||Date.now()+2e4,X=setInterval(()=>{const H=Math.max(0,Math.ceil((B-Date.now())/1e3));f(H)},1e3);return()=>{clearInterval(X)}},[v]),!s)return null;const{round:N,scores:y,diceStats:E}=s,j=y[u.id]||0,U=y[p.id]||0,S=(z=Jn.find(B=>B.id===u.avatarId))==null?void 0:z.url,M=(P=Zn.find(B=>B.id===u.borderId))==null?void 0:P.url,C=(G=Jn.find(B=>B.id===p.avatarId))==null?void 0:G.url,w=(q=Zn.find(B=>B.id===p.borderId))==null?void 0:q.url,R=B=>{if(!E||!E[B])return null;const X=E[B];return X.totalRolls===0?e.jsxDEV("p",{className:"text-sm text-gray-400",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:45,columnNumber:44},void 0):e.jsxDEV("div",{className:"grid grid-cols-3 gap-x-4 gap-y-1 text-xs",children:Array.from({length:6},(H,Q)=>Q+1).map(H=>{const Q=X.rolls[H]||0,Z=(Q/X.totalRolls*100).toFixed(0);return e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:[H,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:54,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-mono",children:[Q," (",Z,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:55,columnNumber:29},void 0)]},H,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:53,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:48,columnNumber:13},void 0)},O=s.round>=(o.settings.diceGoRounds??3),V=j===U;let $=`   (${g})`;return O&&(V?$=`  (${g})`:$=`   (${g})`),h&&($="   ..."),e.jsxDEV(mn,{title:`${N}   `,initialWidth:650,windowId:"dice-round-summary",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-6",children:"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:81,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-around items-center my-6",children:[e.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[e.jsxDEV(_n,{userId:u.id,userName:u.nickname,size:96,avatarUrl:S,borderUrl:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:85,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 text-xl font-bold",children:u.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:86,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:84,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-4xl font-mono text-gray-300",children:[j," : ",U]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:88,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[e.jsxDEV(_n,{userId:p.id,userName:p.nickname,size:96,avatarUrl:C,borderUrl:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:90,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 text-xl font-bold",children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:91,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:89,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:83,columnNumber:17},void 0),E&&e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg my-6",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-center text-gray-200 mb-3",children:"1  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:97,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"bg-gray-800/60 p-3 rounded",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-2",children:u.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:100,columnNumber:33},void 0),R(u.id)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:99,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-gray-800/60 p-3 rounded",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-2",children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:104,columnNumber:33},void 0),R(p.id)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:103,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:98,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:96,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_ROUND_END",payload:{gameId:m}}),disabled:!!h,className:"w-full py-3",children:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:111,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceRoundSummary.tsx",lineNumber:79,columnNumber:9},void 0)},U3=({session:o,currentUser:a,onAction:c})=>{const{basePlacementDeadline:m,settings:u,player1:p,baseStones_p1:s,baseStones_p2:x}=o,v=u.baseStones||4,g=a.id===p.id?s:x,f=(g==null?void 0:g.length)||0,h=f>=v,[N,y]=b.useState(30);return b.useEffect(()=>{if(!m)return;const E=setInterval(()=>{const j=Math.max(0,Math.ceil((m-Date.now())/1e3));y(j)},1e3);return()=>clearInterval(E)},[m]),e.jsxDEV(mn,{title:" ",windowId:"base-placement",initialWidth:300,modal:!1,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-sm text-gray-200",children:"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:36,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-lg font-bold my-2",children:["(",f,"/",v,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:37,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 my-3 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${N/30*100}%`,transition:"width 0.5s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:39,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-5xl font-mono font-bold mt-1 text-white",children:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:41,columnNumber:17},void 0),!h&&e.jsxDEV(ae,{onClick:()=>c({type:"PLACE_REMAINING_BASE_STONES_RANDOMLY"}),colorScheme:"yellow",className:"w-full mt-4 !text-sm !py-2",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:44,columnNumber:21},void 0),h&&e.jsxDEV("p",{className:"text-sm text-green-400 animate-pulse mt-4",children:" !  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:54,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BasePlacementModal.tsx",lineNumber:34,columnNumber:9},void 0)},w3=({session:o})=>{const{baseStones_p1:a,baseStones_p2:c,settings:{boardSize:m}}=o,u=[...(a||[]).map(N=>({...N,player:oe.Black})),...(c||[]).map(N=>({...N,player:oe.White}))],p=250,s=p/m,x=s/2,v=s*.47,g=v*2*.7,f=g/2,h=N=>({cx:x+N.x*s,cy:x+N.y*s});return e.jsxDEV("svg",{viewBox:`0 0 ${p} ${p}`,className:"w-full h-full bg-[#e0b484] rounded-md shadow-inner",children:[Array.from({length:m}).map((N,y)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:x+y*s,y1:x,x2:x+y*s,y2:p-x,stroke:"#54432a",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:39,columnNumber:21},void 0),e.jsxDEV("line",{x1:x,y1:x+y*s,x2:p-x,y2:x+y*s,stroke:"#54432a",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:40,columnNumber:21},void 0)]},y,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:38,columnNumber:17},void 0)),u.map((N,y)=>{const{cx:E,cy:j}=h(N);return e.jsxDEV("g",{children:[e.jsxDEV("circle",{cx:E,cy:j,r:v,fill:N.player===oe.Black?"#111827":"#f5f2e8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:47,columnNumber:25},void 0),e.jsxDEV("image",{href:N.player===oe.Black?Zd:Xd,x:E-f,y:j-f,width:g,height:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:48,columnNumber:25},void 0)]},`base-stone-${y}`,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:46,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:36,columnNumber:9},void 0)},wa=to.memo(({amount:o,onAdjust:a,disabled:c})=>e.jsxDEV(ae,{onClick:()=>a(o),disabled:c,colorScheme:"gray",className:"w-full !py-1",children:o>0?`+${o}`:`${o}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:58,columnNumber:5},void 0)),V3=o=>{const{session:a,currentUser:c,onAction:m}=o,{id:u,player1:p,player2:s,komiBids:x,komiBiddingDeadline:v,gameStatus:g,komiBiddingRound:f}=a,[h,N]=b.useState(oe.Black),[y,E]=b.useState(0),[j,U]=b.useState(30),[S,M]=b.useState(!1),C=b.useRef(o);b.useEffect(()=>{C.current=o});const w=c.id===p.id?s:p,R=x==null?void 0:x[c.id],O=w?x==null?void 0:x[w.id]:void 0,V=b.useCallback(()=>{var ne;const{session:B,onAction:X,currentUser:H}=C.current;if(((ne=B.komiBids)==null?void 0:ne[H.id])||S||h===oe.None)return;M(!0);const Z={color:h,komi:y};X({type:"UPDATE_KOMI_BID",payload:{gameId:B.id,bid:Z}}),setTimeout(()=>M(!1),5e3)},[S,h,y]);b.useEffect(()=>{N(oe.Black),E(0)},[f]),b.useEffect(()=>{if(R||!v){U(R?0:30);return}const B=setInterval(()=>{const X=Math.max(0,Math.ceil((v-Date.now())/1e3));U(X),X<=0&&V()},1e3);return()=>clearInterval(B)},[R,v,V]);const $=B=>{E(X=>Math.max(0,Math.min(100,X+B)))},z=()=>{if(!R||!O||!w)return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:125,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-400 animate-pulse",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:126,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:128,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:127,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:124,columnNumber:17},void 0);let B="";const X=R.color===O.color&&R.komi===O.komi;R.color!==O.color?B="   ,    . ( 0.5)":R.komi!==O.komi?B="  ,      .":f===1?B="   , 2   .":B="2    , /  .";const H=X&&f===1?"   ...":"   ...";return e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:["   ",f===2&&"()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-md space-y-2 text-sm",children:[e.jsxDEV("div",{children:[c.nickname,": ",e.jsxDEV("span",{className:"font-bold",children:[R.color===oe.Black?"":"",", ",R.komi,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:158,columnNumber:50},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:158,columnNumber:21},void 0),e.jsxDEV("div",{children:[w.nickname,": ",e.jsxDEV("span",{className:"font-bold",children:[O.color===oe.Black?"":"",", ",O.komi,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:159,columnNumber:47},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:159,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:157,columnNumber:18},void 0),e.jsxDEV("p",{className:"mt-4 text-xs text-yellow-300",children:B},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-4 text-sm text-gray-400 animate-pulse",children:H},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:155,columnNumber:13},void 0)};if(g==="komi_bid_reveal")return e.jsxDEV(mn,{title:"  ",windowId:"komi-bidding",children:z()},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:169,columnNumber:16},void 0);if(R)return e.jsxDEV(mn,{title:" ",windowId:"komi-bidding",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:176,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-400 animate-pulse",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:177,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-center items-center h-20",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-gray-100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:179,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:178,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:175,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:174,columnNumber:14},void 0);const P=.5,G=()=>{if(h===oe.Black)return` ,   ${y+P} .`;{const B=P-y;return B>=0?` ,   ${B} .`:` ,    ${Math.abs(B)} .`}},q=!!R;return e.jsxDEV(mn,{title:`  ${f===2?"()":""}`,windowId:"komi-bidding",initialWidth:650,children:e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col",children:[e.jsxDEV("p",{className:"text-center text-sm text-gray-400 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:209,columnNumber:21},void 0),e.jsxDEV("div",{className:"aspect-square",children:e.jsxDEV(w3,{session:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:211,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:210,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-center text-xs text-gray-400 mt-1",children:"(P1: , P2:  )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:213,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:208,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col justify-between",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs text-gray-400 mb-2",children:["       . ( :  ",P,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:217,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-1.5 my-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-1.5 rounded-full",style:{width:`${j/30*100}%`,transition:"width 0.5s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:219,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:218,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-3xl font-mono font-bold text-center text-white",children:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:221,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-center gap-4 my-4",children:[e.jsxDEV(ae,{onClick:()=>N(oe.Black),disabled:q,colorScheme:h===oe.Black?"blue":"gray",className:"w-24",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:224,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>N(oe.White),disabled:q,colorScheme:h===oe.White?"blue":"gray",className:"w-24",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:225,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:223,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm text-gray-300 mb-2",children:"   (0~100)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:229,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-gray-900/70 p-2 rounded-lg text-2xl font-bold text-yellow-300 mb-2",children:[y,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:230,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[e.jsxDEV(wa,{amount:10,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:232,columnNumber:33},void 0),e.jsxDEV(wa,{amount:5,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:233,columnNumber:33},void 0),e.jsxDEV(wa,{amount:3,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:234,columnNumber:33},void 0),e.jsxDEV(wa,{amount:1,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:235,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:231,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxDEV(wa,{amount:-10,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:238,columnNumber:33},void 0),e.jsxDEV(wa,{amount:-5,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:239,columnNumber:33},void 0),e.jsxDEV(wa,{amount:-3,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:240,columnNumber:33},void 0),e.jsxDEV(wa,{amount:-1,onAdjust:$,disabled:q},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:241,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:237,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:228,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 text-center mt-3 h-8",children:G()},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:244,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:216,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:V,disabled:q||S,className:"w-full mt-auto",children:q?" ":"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:246,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:215,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:207,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/KomiBiddingPanel.tsx",lineNumber:206,columnNumber:9},void 0)},k3=({session:o,currentUser:a})=>{const{alkkagiPlacementDeadline:c,settings:m,player1:u,alkkagiStones:p,alkkagiStones_p1:s,alkkagiStones_p2:x,alkkagiStonesPlacedThisRound:v,blackPlayerId:g}=o,f=m.alkkagiStoneCount||5,h=(v==null?void 0:v[a.id])||0,N=f,y=(o.alkkagiRound||1)>1?`  (${o.alkkagiRound} )`:"  ",E=h>=N,[j,U]=b.useState(30);return b.useEffect(()=>{if(!c)return;const S=setInterval(()=>{const M=Math.max(0,Math.ceil((c-Date.now())/1e3));U(M)},1e3);return()=>clearInterval(S)},[c]),e.jsxDEV(mn,{title:y,windowId:"alkkagi-placement",initialWidth:300,modal:!1,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-sm text-gray-200",children:(o.alkkagiRound||1)>1?"  .":"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:37,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-lg font-bold my-2",children:["(",h,"/",N,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 my-3 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-2.5 rounded-full",style:{width:`${j/30*100}%`,transition:"width 0.5s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:40,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:39,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-5xl font-mono font-bold mt-1 text-white",children:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:42,columnNumber:17},void 0),E&&e.jsxDEV("p",{className:"text-sm text-green-400 animate-pulse mt-4",children:" !  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:45,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:36,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiPlacementModal.tsx",lineNumber:35,columnNumber:9},void 0)},cD="preferredGameSettings",St=({label:o,children:a,className:c})=>e.jsxDEV("div",{className:`grid grid-cols-2 gap-4 items-center ${c}`,children:[e.jsxDEV("label",{className:"font-semibold text-gray-300",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:29,columnNumber:9},void 0),a]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:28,columnNumber:5},void 0),T3=({deadline:o})=>{const[a,c]=b.useState(()=>Math.max(0,Math.ceil((o-Date.now())/1e3)));return b.useEffect(()=>{c(Math.max(0,Math.ceil((o-Date.now())/1e3)));const m=setInterval(()=>{c(u=>{const p=Math.max(0,Math.ceil((o-Date.now())/1e3));return u!==p?p:u})},1e3);return()=>clearInterval(m)},[o]),e.jsxDEV("span",{children:["(",a,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:50,columnNumber:12},void 0)},P3=o=>{var Je;const{negotiation:a,currentUser:c,onAction:m,onlineUsers:u,isTopmost:p}=o,[s,x]=b.useState(a.settings),v=b.useRef(!1),g=a.proposerId===c.id,f=a.status==="pending",N=a.status==="draft"&&g,y=f&&g,E=f&&!g,j=b.useMemo(()=>{const K=a.challenger.id===c.id?a.opponent:a.challenger;return K.id===Vs?K:u.find(ke=>ke.id===K.id)||K},[a.challenger,a.opponent,c.id,u]),U=j.id===Vs,S=b.useCallback(()=>{m({type:"DECLINE_NEGOTIATION",payload:{negotiationId:a.id}})},[m,a.id]);b.useEffect(()=>{let K;if(N){K={...xl,...a.settings};try{const Te=`${cD}_${a.mode}`,be=localStorage.getItem(Te);if(be){const Ce=JSON.parse(be);if(a.mode===I.Alkkagi){const Re=Ts.map(Ze=>Ze.value);Ce.alkkagiGaugeSpeed&&!Re.includes(Ce.alkkagiGaugeSpeed)&&delete Ce.alkkagiGaugeSpeed,Ce.alkkagiStoneCount&&!ks.includes(Ce.alkkagiStoneCount)&&delete Ce.alkkagiStoneCount}if(a.mode===I.Curling){const Re=Ps.map(Ze=>Ze.value);Ce.curlingGaugeSpeed&&!Re.includes(Ce.curlingGaugeSpeed)&&delete Ce.curlingGaugeSpeed,Ce.curlingStoneCount&&!Em.includes(Ce.curlingStoneCount)&&delete Ce.curlingStoneCount}Ce.baseStones&&!Us.includes(Ce.baseStones)&&delete Ce.baseStones,K={...K,...Ce}}}catch(Te){console.error("Failed to load or parse preferred settings",Te)}}else K={...xl,...a.settings};a.mode===I.Base&&(K.komi=.5),U&&!K.player1Color&&(K.player1Color=oe.Black);const ke=(Te=>{switch(Te){case I.Omok:case I.Ttamok:return gm;case I.Capture:return hm;case I.Speed:return vm;case I.Hidden:return ym;case I.Thief:return Ay;case I.Missile:return Dm;case I.Alkkagi:case I.Curling:case I.Dice:return[19];default:return xm}})(a.mode);if(ke.includes(K.boardSize)||(K.boardSize=ke[0]),K.mixedModes){const Te=K.mixedModes.includes(I.Base),be=K.mixedModes.includes(I.Capture);Te&&be&&(K.mixedModes=K.mixedModes.filter(Ce=>Ce!==I.Base))}x(K),v.current=!1},[a.id,a.turnCount]),b.useEffect(()=>{y&&!v.current&&(et.myTurn(),v.current=!0)},[y]);const M=b.useMemo(()=>{var Se;const K=st.some(Fe=>Fe.mode===a.mode),J=K?j.strategyLevel:j.playfulLevel,ke=(Se=j.stats)==null?void 0:Se[a.mode],Te=(ke==null?void 0:ke.wins)??0,be=(ke==null?void 0:ke.losses)??0,Ce=j.mannerScore??200,Re=Te+be,Ze=Re>0?Math.round(Te/Re*100):0;return{level:J,levelLabel:K?"":"",wins:Te,losses:be,mannerScore:Ce,winRate:Ze}},[j,a.mode]),C=b.useMemo(()=>{var K;return(K=Jn.find(J=>J.id===j.avatarId))==null?void 0:K.url},[j.avatarId]),w=b.useMemo(()=>{var K;return(K=Zn.find(J=>J.id===j.borderId))==null?void 0:K.url},[j.borderId]),R=b.useMemo(()=>st.some(K=>K.mode===a.mode)?Vy:dt.some(K=>K.mode===a.mode)?dw:Vy,[a.mode]),O=b.useMemo(()=>JSON.stringify(s)!==JSON.stringify(a.settings),[s,a.settings]),V=b.useCallback((K,J)=>x(ke=>({...ke,[K]:J})),[]),$=(K,J)=>x(ke=>({...ke,mixedModes:J?[...ke.mixedModes||[],K]:(ke.mixedModes||[]).filter(Te=>Te!==K)})),z=b.useCallback(K=>{try{const J=`${cD}_${a.mode}`;localStorage.setItem(J,JSON.stringify(s))}catch(J){console.error("Failed to save preferred settings",J)}m(K)},[m,s,a.mode]),P=()=>m({type:"ACCEPT_NEGOTIATION",payload:{negotiationId:a.id,settings:s}}),G=()=>m({type:"UPDATE_NEGOTIATION",payload:{negotiationId:a.id,settings:s}}),q=()=>z({type:"SEND_CHALLENGE",payload:{negotiationId:a.id,settings:s}}),B=()=>z({type:"START_AI_GAME",payload:{mode:a.mode,settings:s}}),X=b.useMemo(()=>U?`${a.mode} AI  `:a.rematchOfGameId?`  (${a.mode})`:`  (${a.mode})`,[a.mode,a.rematchOfGameId,U]),H=c.actionPoints.current>=R,Q=()=>{const K="flex-1";if(U)return e.jsxDEV("div",{className:"flex justify-end gap-4",children:[e.jsxDEV(ae,{onClick:S,colorScheme:"red",className:K,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:233,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:B,colorScheme:"green",className:K,disabled:!H,children:[" ",H?`(${R})`:"()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:232,columnNumber:14},void 0);if(N){const J=a.mode===I.Mix&&(!s.mixedModes||s.mixedModes.length<2);return e.jsxDEV("div",{className:"flex justify-between items-center gap-4",children:[e.jsxDEV(ae,{onClick:S,colorScheme:"red",className:K,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:245,columnNumber:11},void 0),e.jsxDEV(ae,{onClick:q,disabled:J||!H,colorScheme:"green",className:K,children:["  ",H?`(${R})`:"()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:246,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:244,columnNumber:9},void 0)}return y?e.jsxDEV("div",{className:"flex justify-between items-center gap-4",children:[e.jsxDEV(ae,{onClick:S,colorScheme:"red",className:K,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:256,columnNumber:13},void 0),e.jsxDEV(ae,{onClick:G,disabled:!O,colorScheme:"yellow",className:K,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:257,columnNumber:13},void 0),e.jsxDEV(ae,{onClick:P,disabled:O||!H,colorScheme:"green",className:K,children:[" ",H?`(${R})`:"()"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:258,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:255,columnNumber:9},void 0):null},Z=E||!g,ne=()=>U?"AI   .":N?"   [ ]  .":y?"  []  [ ].":E?`(${j.nickname})   ...`:"  ...",le=({value:K,onChange:J,children:ke,disabled:Te})=>e.jsxDEV("select",{value:K,onChange:be=>J(be.target.value),disabled:Te,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5",children:ke},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:278,columnNumber:7},void 0),{mode:L}=a,ue=![I.Alkkagi,I.Curling,I.Dice].includes(L),pe=![I.Capture,I.Omok,I.Ttamok,I.Alkkagi,I.Curling,I.Dice,I.Thief,I.Base].includes(L),ie=![I.Alkkagi,I.Curling,I.Dice,I.Thief].includes(L),fe=L===I.Speed||L===I.Mix&&!!((Je=s.mixedModes)!=null&&Je.includes(I.Speed)),W=L===I.Capture,Pe=L===I.Ttamok,me=L===I.Omok||L===I.Ttamok,de=L===I.Base,Ge=L===I.Hidden,ve=L===I.Missile,an=L===I.Mix,ye=L===I.Dice,De=L===I.Alkkagi,We=L===I.Curling,Ie=U;return e.jsxDEV(mn,{title:X,windowId:"negotiation",onClose:S,initialWidth:600,closeOnOutsideClick:!1,isTopmost:p,children:e.jsxDEV("div",{onMouseDown:K=>K.stopPropagation(),className:"text-sm",children:[e.jsxDEV("p",{className:"text-center text-yellow-300 mb-4",children:[ne()," ",e.jsxDEV(T3,{deadline:a.deadline},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:312,columnNumber:75},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:312,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col gap-6",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-2 md:p-4 rounded-lg border border-gray-700",children:e.jsxDEV("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsxDEV(_n,{userId:j.id,userName:j.nickname,avatarUrl:C,borderUrl:w,size:48},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:317,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("h3",{className:"text-xl font-bold",children:j.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:319,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:[M.levelLabel," Lv.",M.level]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:320,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:318,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right text-sm",children:[e.jsxDEV("p",{className:"font-semibold",children:[M.wins," ",M.losses," (",M.winRate,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:325,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-gray-300",children:[": ",M.mannerScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:326,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:324,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:316,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3 max-h-[calc(60vh - 12rem)] overflow-y-auto pr-2",children:[ue&&e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.boardSize,onChange:K=>V("boardSize",parseInt(K,10)),disabled:Z,children:(a.mode===I.Omok||a.mode===I.Ttamok?gm:a.mode===I.Capture?hm:a.mode===I.Speed?vm:a.mode===I.Hidden?ym:a.mode===I.Thief?Ay:a.mode===I.Missile?Dm:xm).map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:335,columnNumber:452},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:334,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:333,columnNumber:21},void 0),pe&&e.jsxDEV(St,{label:" ()",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",step:"1",value:Math.floor(s.komi),onChange:K=>V("komi",parseInt(K.target.value,10)+.5),disabled:Z,className:"w-full bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:343,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-lg text-gray-300 whitespace-nowrap",children:".5 "},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:351,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:342,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:341,columnNumber:21},void 0),Ie&&(a.mode===I.Thief?e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.player1Color,onChange:K=>V("player1Color",parseInt(K,10)),disabled:Z,children:[e.jsxDEV("option",{value:oe.Black,children:"()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:360,columnNumber:33},void 0),e.jsxDEV("option",{value:oe.White,children:"()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:361,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:359,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:358,columnNumber:25},void 0):e.jsxDEV(St,{label:"  ",children:e.jsxDEV(le,{value:s.player1Color,onChange:K=>V("player1Color",parseInt(K,10)),disabled:Z,children:[e.jsxDEV("option",{value:oe.Black,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:367,columnNumber:33},void 0),e.jsxDEV("option",{value:oe.White,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:368,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:366,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:365,columnNumber:25},void 0)),ie&&(fe?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.timeLimit,onChange:K=>V("timeLimit",parseInt(K)),disabled:Z,children:zD.map(K=>e.jsxDEV("option",{value:K.value,children:K.label},K.value,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:379,columnNumber:61},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:378,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:377,columnNumber:29},void 0),e.jsxDEV(St,{label:" ",children:[" ",e.jsxDEV("p",{className:"text-sm text-gray-300",children:[WD," ( )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:382,columnNumber:57},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:382,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:376,columnNumber:25},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.timeLimit,onChange:K=>V("timeLimit",parseInt(K)),disabled:Z,children:Wd.map(K=>e.jsxDEV("option",{value:K.value,children:K.label},K.value,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:388,columnNumber:59},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:387,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:386,columnNumber:29},void 0),e.jsxDEV(St,{label:"",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(le,{value:s.byoyomiTime,onChange:K=>V("byoyomiTime",parseInt(K)),disabled:Z,children:qd.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:394,columnNumber:65},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:393,columnNumber:33},void 0),e.jsxDEV(le,{value:s.byoyomiCount,onChange:K=>V("byoyomiCount",parseInt(K)),disabled:Z,children:Fd.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:397,columnNumber:66},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:396,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:392,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:391,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:385,columnNumber:25},void 0)),ye&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.diceGoRounds??3,onChange:K=>V("diceGoRounds",parseInt(K,10)),disabled:Z,children:[1,2,3].map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:409,columnNumber:49},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:408,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:407,columnNumber:21},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.oddDiceCount??1,onChange:K=>V("oddDiceCount",parseInt(K,10)),disabled:Z,children:Dr.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:414,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:413,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:412,columnNumber:21},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.evenDiceCount??1,onChange:K=>V("evenDiceCount",parseInt(K,10)),disabled:Z,children:Dr.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:419,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:418,columnNumber:24},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:417,columnNumber:20},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:406,columnNumber:20},void 0),W&&e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.captureTarget,onChange:K=>V("captureTarget",parseInt(K)),disabled:Z,children:Sm.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:428,columnNumber:55},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:427,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:426,columnNumber:21},void 0),Pe&&e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.captureTarget,onChange:K=>V("captureTarget",parseInt(K)),disabled:Z,children:Hd.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:435,columnNumber:62},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:434,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:433,columnNumber:21},void 0),me&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",children:e.jsxDEV("input",{type:"checkbox",checked:s.has33Forbidden,onChange:K=>V("has33Forbidden",K.target.checked),disabled:Z,className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:442,columnNumber:51},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:442,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV("input",{type:"checkbox",checked:s.hasOverlineForbidden,onChange:K=>V("hasOverlineForbidden",K.target.checked),disabled:Z,className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:443,columnNumber:51},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:443,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:441,columnNumber:21},void 0),de&&e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.baseStones,onChange:K=>V("baseStones",parseInt(K)),disabled:Z,children:Us.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:450,columnNumber:57},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:449,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:448,columnNumber:21},void 0),Ge&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.hiddenStoneCount,onChange:K=>V("hiddenStoneCount",parseInt(K)),disabled:Z,children:jm.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:459,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:458,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:457,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.scanCount,onChange:K=>V("scanCount",parseInt(K)),disabled:Z,children:Mm.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:464,columnNumber:51},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:463,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:462,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:456,columnNumber:21},void 0),ve&&e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.missileCount,onChange:K=>V("missileCount",parseInt(K)),disabled:Z,children:Cm.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:473,columnNumber:50},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:472,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:471,columnNumber:21},void 0),an&&(()=>{var ke,Te,be,Ce,Re,Ze;const K=(ke=s.mixedModes)==null?void 0:ke.includes(I.Base),J=(Te=s.mixedModes)==null?void 0:Te.includes(I.Capture);return e.jsxDEV("div",{className:"col-span-2 pt-2 border-t border-gray-700",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"  (2  )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:483,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm",children:st.filter(Se=>Se.mode!==I.Standard&&Se.mode!==I.Mix).map(Se=>{var tn;const Fe=Se.mode===I.Base&&J||Se.mode===I.Capture&&K;return e.jsxDEV("label",{className:`flex items-center gap-2 p-2 bg-gray-700/50 rounded-md ${Z||Fe?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxDEV("input",{type:"checkbox",checked:(tn=s.mixedModes)==null?void 0:tn.includes(Se.mode),onChange:Rn=>$(Se.mode,Rn.target.checked),disabled:Z||Fe,className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:492,columnNumber:45},void 0),e.jsxDEV("span",{children:Se.mode},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:499,columnNumber:45},void 0)]},Se.mode,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:491,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:484,columnNumber:29},void 0),((be=s.mixedModes)==null?void 0:be.includes(I.Base))&&e.jsxDEV(St,{label:" ",className:"mt-4",children:e.jsxDEV(le,{value:s.baseStones,onChange:Se=>V("baseStones",parseInt(Se)),disabled:Z,children:Us.map(Se=>e.jsxDEV("option",{value:Se,children:[Se,""]},Se,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:507,columnNumber:69},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:506,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:505,columnNumber:33},void 0),((Ce=s.mixedModes)==null?void 0:Ce.includes(I.Hidden))&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:" ",className:"mt-2",children:e.jsxDEV(le,{value:s.hiddenStoneCount,onChange:Se=>V("hiddenStoneCount",parseInt(Se)),disabled:Z,children:jm.map(Se=>e.jsxDEV("option",{value:Se,children:[Se,""]},Se,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:515,columnNumber:75},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:514,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:513,columnNumber:37},void 0),e.jsxDEV(St,{label:" ",className:"mt-2",children:e.jsxDEV(le,{value:s.scanCount,onChange:Se=>V("scanCount",parseInt(Se)),disabled:Z,children:Mm.map(Se=>e.jsxDEV("option",{value:Se,children:[Se,""]},Se,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:520,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:519,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:518,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:512,columnNumber:33},void 0),((Re=s.mixedModes)==null?void 0:Re.includes(I.Missile))&&e.jsxDEV(St,{label:" ",className:"mt-2",children:e.jsxDEV(le,{value:s.missileCount,onChange:Se=>V("missileCount",parseInt(Se)),disabled:Z,children:Cm.map(Se=>e.jsxDEV("option",{value:Se,children:[Se,""]},Se,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:528,columnNumber:62},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:527,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:526,columnNumber:33},void 0),((Ze=s.mixedModes)==null?void 0:Ze.includes(I.Capture))&&e.jsxDEV(St,{label:" ",className:"mt-2",children:e.jsxDEV(le,{value:s.captureTarget,onChange:Se=>V("captureTarget",parseInt(Se)),disabled:Z,children:Sm.map(Se=>e.jsxDEV("option",{value:Se,children:[Se,""]},Se,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:535,columnNumber:67},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:534,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:533,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:482,columnNumber:25},void 0)})(),De&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:"",children:e.jsxDEV(le,{value:s.alkkagiRounds,onChange:K=>V("alkkagiRounds",parseInt(K)),disabled:Z,children:Rm.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:547,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:546,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:545,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiPlacementType,onChange:K=>V("alkkagiPlacementType",K),disabled:Z,children:Object.values(Jl).map(K=>e.jsxDEV("option",{value:K,children:K},K,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:552,columnNumber:82},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:551,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:550,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiLayout,onChange:K=>V("alkkagiLayout",K),disabled:Z,children:Object.values(Xl).map(K=>e.jsxDEV("option",{value:K,children:K},K,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:557,columnNumber:79},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:556,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:555,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiStoneCount,onChange:K=>V("alkkagiStoneCount",parseInt(K)),disabled:Z,children:ks.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:562,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:561,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:560,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiGaugeSpeed,onChange:K=>V("alkkagiGaugeSpeed",parseInt(K)),disabled:Z,children:Ts.map(K=>e.jsxDEV("option",{value:K.value,children:K.label},K.value,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:567,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:566,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:565,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiSlowItemCount,onChange:K=>V("alkkagiSlowItemCount",parseInt(K)),disabled:Z,children:Sr.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:572,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:571,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:570,columnNumber:26},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.alkkagiAimingLineItemCount,onChange:K=>V("alkkagiAimingLineItemCount",parseInt(K)),disabled:Z,children:Sr.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:577,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:576,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:575,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:544,columnNumber:21},void 0),We&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(St,{label:"",children:e.jsxDEV(le,{value:s.curlingRounds,onChange:K=>V("curlingRounds",parseInt(K)),disabled:Z,children:Qd.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:587,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:586,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:585,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.curlingStoneCount,onChange:K=>V("curlingStoneCount",parseInt(K)),disabled:Z,children:Em.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:592,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:591,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:590,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.curlingGaugeSpeed,onChange:K=>V("curlingGaugeSpeed",parseInt(K)),disabled:Z,children:Ps.map(K=>e.jsxDEV("option",{value:K.value,children:K.label},K.value,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:597,columnNumber:64},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:596,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:595,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.curlingSlowItemCount,onChange:K=>V("curlingSlowItemCount",parseInt(K)),disabled:Z,children:Ta.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:602,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:601,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:600,columnNumber:25},void 0),e.jsxDEV(St,{label:" ",children:e.jsxDEV(le,{value:s.curlingAimingLineItemCount,onChange:K=>V("curlingAimingLineItemCount",parseInt(K)),disabled:Z,children:Ta.map(K=>e.jsxDEV("option",{value:K,children:[K,""]},K,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:607,columnNumber:63},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:606,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:605,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:584,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:331,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:314,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-6 border-t border-gray-700 pt-6",children:Q()},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:615,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:311,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/NegotiationModal.tsx",lineNumber:310,columnNumber:5},void 0)},I3=(o,a)=>{if(o.isTopmost!==a.isTopmost||JSON.stringify(o.negotiation)!==JSON.stringify(a.negotiation)||JSON.stringify(o.currentUser)!==JSON.stringify(a.currentUser))return!1;const m=(s=>(s.negotiation.challenger.id===s.currentUser.id?s.negotiation.opponent:s.negotiation.challenger).id)(o),u=o.onlineUsers.find(s=>s.id===m),p=a.onlineUsers.find(s=>s.id===m);return JSON.stringify(u)===JSON.stringify(p)},gS=to.memo(P3,I3),_3=({pos:o})=>e.jsxDEV("div",{className:`w-[22%] h-[22%] bg-black rounded-full absolute ${o}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:15,columnNumber:5},void 0),B3=({value:o})=>{var c;const a={1:["top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"],2:["top-1/4 left-1/4 -translate-x-1/2 -translate-y-1/2","bottom-1/4 right-1/4 translate-x-1/2 translate-y-1/2"],3:["top-1/4 left-1/4 -translate-x-1/2 -translate-y-1/2","top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-1/4 right-1/4 translate-x-1/2 translate-y-1/2"],4:["top-1/4 left-1/4 -translate-x-1/2 -translate-y-1/2","top-1/4 right-1/4 translate-x-1/2 -translate-y-1/2","bottom-1/4 left-1/4 -translate-x-1/2 translate-y-1/2","bottom-1/4 right-1/4 translate-x-1/2 translate-y-1/2"],5:["top-1/4 left-1/4 -translate-x-1/2 -translate-y-1/2","top-1/4 right-1/4 translate-x-1/2 -translate-y-1/2","top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-1/4 left-1/4 -translate-x-1/2 translate-y-1/2","bottom-1/4 right-1/4 translate-x-1/2 translate-y-1/2"],6:["top-1/4 left-1/4 -translate-x-1/2 -translate-y-1/2","top-1/4 right-1/4 translate-x-1/2 -translate-y-1/2","top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2","top-1/2 right-1/4 translate-x-1/2 -translate-y-1/2","bottom-1/4 left-1/4 -translate-x-1/2 translate-y-1/2","bottom-1/4 right-1/4 translate-x-1/2 translate-y-1/2"]};return e.jsxDEV("div",{className:"w-full h-full relative",children:(c=a[o])==null?void 0:c.map((m,u)=>e.jsxDEV(_3,{pos:m},u,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:27,columnNumber:87},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:27,columnNumber:12},void 0)},ka=({value:o,isRolling:a,sides:c=6,size:m=60,onClick:u,disabled:p=!1,displayText:s,color:x="gray"})=>{const[v,g]=b.useState(o||1),f=!p&&!a&&u;b.useEffect(()=>{let N;return a?N=window.setInterval(()=>{g(Math.floor(Math.random()*c)+1)},50):g(o||1),()=>{N&&clearInterval(N)}},[a,o,c]);const h={gray:"bg-gray-100 hover:bg-white text-black",blue:"bg-blue-400 hover:bg-blue-300 text-white",yellow:"bg-yellow-400 hover:bg-yellow-300 text-black"};return e.jsxDEV("div",{onClick:f?u:void 0,className:`flex items-center justify-center rounded-lg shadow-md transition-all duration-200 p-1
                ${f?`cursor-pointer hover:shadow-lg hover:-translate-y-1 ${h[x]}`:`${h[x]}`}
                ${p?"opacity-60 cursor-not-allowed":""}
                ${a?"animate-dice-flicker":""}`,style:{width:m,height:m},children:s?e.jsxDEV("span",{className:"select-none font-bold",style:{fontSize:m*.5},children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:60,columnNumber:17},void 0):e.jsxDEV(B3,{value:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:62,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/Dice.tsx",lineNumber:51,columnNumber:9},void 0)},L3=o=>{var P,G,q,B,X,H;const{session:a,currentUser:c,onAction:m}=o,{id:u,player1:p,player2:s,gameStatus:x,turnOrderRollReady:v,animation:g}=a,[f,h]=b.useState(H2),N=c.id===p.id?s:p;b.useEffect(()=>{let Q;const Z=x==="dice_turn_rolling"?a.turnOrderRollDeadline:x==="dice_turn_choice"?a.turnChoiceDeadline:null;if(Z){const ne=()=>{const le=Math.max(0,Math.ceil((Z-Date.now())/1e3));h(le)};ne(),Q=window.setInterval(ne,1e3)}return()=>{Q&&clearInterval(Q)}},[x,a.turnOrderRollDeadline,a.turnChoiceDeadline]);const y=v==null?void 0:v[c.id],E=(g==null?void 0:g.type)==="dice_roll_turn"?g:null,j=x==="dice_turn_rolling_animating",U=!!(a.turnOrderRolls&&a.turnOrderRolls[c.id]!=null),S=x==="dice_turn_choice"||!!E&&!j,M=E?c.id===p.id?E.p1Roll:E.p2Roll:(P=a.turnOrderRolls)==null?void 0:P[c.id],C=E?N.id===p.id?E.p1Roll:E.p2Roll:(G=a.turnOrderRolls)==null?void 0:G[N.id];let w="",R="";S&&M!=null&&C!=null&&(M>C?(w="!",R="text-green-400"):M<C?(w="!",R="text-red-400"):(w="!",R="text-yellow-400"));const O=(q=Jn.find(Q=>Q.id===c.avatarId))==null?void 0:q.url,V=(B=Zn.find(Q=>Q.id===c.borderId))==null?void 0:B.url,$=(X=Jn.find(Q=>Q.id===N.avatarId))==null?void 0:X.url,z=(H=Zn.find(Q=>Q.id===N.borderId))==null?void 0:H.url;return e.jsxDEV(mn,{title:"/ ",windowId:"dice-go-turn-selection",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-300 mb-6",children:"    .     / ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:78,columnNumber:17},void 0),a.turnOrderRollResult==="tie"&&e.jsxDEV("p",{className:"text-yellow-400 font-bold text-lg mb-4 animate-pulse",children:"!    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:79,columnNumber:59},void 0),e.jsxDEV("div",{className:"flex justify-around w-full items-center my-4",children:[e.jsxDEV("div",{className:"flex flex-col items-center gap-2 w-24",children:[e.jsxDEV(_n,{userId:c.id,userName:c.nickname,size:64,avatarUrl:O,borderUrl:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:83,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",children:c.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:84,columnNumber:25},void 0),(y||E||U)&&e.jsxDEV(ka,{value:S?M??null:null,isRolling:j,sides:6,size:64},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:86,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:82,columnNumber:21},void 0),S&&M!=null&&C!=null?e.jsxDEV("div",{className:"text-4xl font-bold",children:[M," : ",C]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:91,columnNumber:25},void 0):e.jsxDEV("span",{className:"text-3xl font-bold",children:"VS"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:93,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col items-center gap-2 w-24",children:[e.jsxDEV(_n,{userId:N.id,userName:N.nickname,size:64,avatarUrl:$,borderUrl:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:97,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold",children:N.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:98,columnNumber:25},void 0),((v==null?void 0:v[N.id])||E||U)&&e.jsxDEV(ka,{value:S?C??null:null,isRolling:j,sides:6,size:64},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:100,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:96,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:81,columnNumber:17},void 0),e.jsxDEV("div",{className:"min-h-[6rem] mt-6 text-xl font-bold flex items-center justify-center",children:x==="dice_turn_choice"?a.turnChooserId===c.id?e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV("p",{className:"text-base font-normal text-gray-300 mb-2",children:["   . (",f,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:109,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV(ae,{onClick:()=>m({type:"DICE_CHOOSE_TURN",payload:{gameId:u,choice:"first"}}),colorScheme:"blue",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:111,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>m({type:"DICE_CHOOSE_TURN",payload:{gameId:u,choice:"second"}}),colorScheme:"gray",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:112,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:110,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:108,columnNumber:29},void 0):e.jsxDEV("p",{className:"text-base text-green-400 animate-pulse",children:" /  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:116,columnNumber:29},void 0):S&&w?e.jsxDEV("p",{className:R,children:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:119,columnNumber:25},void 0):!y&&!E?e.jsxDEV(ae,{onClick:()=>m({type:"DICE_READY_FOR_TURN_ROLL",payload:{gameId:u}}),colorScheme:"blue",children:[" (",f,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:122,columnNumber:30},void 0):y&&!E?e.jsxDEV("p",{className:"text-base text-green-400 animate-pulse",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:124,columnNumber:30},void 0):j?e.jsxDEV("p",{className:"text-base text-gray-400 animate-pulse",children:" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:126,columnNumber:30},void 0):null},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:105,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:77,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoTurnSelectionModal.tsx",lineNumber:76,columnNumber:9},void 0)},$3=({session:o})=>{const{boardState:a,baseStones:c,settings:{boardSize:m}}=o,u=300,p=u/m,s=p/2,x=p*.47,v=x*2*.7,g=v/2,f=h=>({cx:s+h.x*p,cy:s+h.y*p});return e.jsxDEV("svg",{viewBox:`0 0 ${u} ${u}`,className:"w-full h-full bg-[#e0b484] rounded-md shadow-inner",children:[Array.from({length:m}).map((h,N)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:s+N*p,y1:s,x2:s+N*p,y2:u-s,stroke:"#54432a",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:33,columnNumber:21},void 0),e.jsxDEV("line",{x1:s,y1:s+N*p,x2:u-s,y2:s+N*p,stroke:"#54432a",strokeWidth:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:34,columnNumber:21},void 0)]},N,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:32,columnNumber:17},void 0)),c==null?void 0:c.map((h,N)=>{const{cx:y,cy:E}=f(h);return e.jsxDEV("g",{children:[e.jsxDEV("circle",{cx:y,cy:E,r:x,fill:h.player===oe.Black?"#111827":"#f5f2e8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:41,columnNumber:25},void 0),e.jsxDEV("image",{href:h.player===oe.Black?Zd:Xd,x:y-g,y:E-g,width:v,height:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:42,columnNumber:25},void 0)]},`base-stone-${N}`,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:40,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:30,columnNumber:9},void 0)},O3=({session:o,currentUser:a,onAction:c})=>{var w,R,O,V;const{id:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,preGameConfirmations:v,revealEndTime:g,finalKomi:f}=o,h=v==null?void 0:v[a.id],[N,y]=b.useState(20);if(b.useEffect(()=>{const $=g||Date.now()+2e4,z=setInterval(()=>{const P=Math.max(0,Math.ceil(($-Date.now())/1e3));y(P)},1e3);return()=>clearInterval(z)},[g]),!s||!x)return null;const E=u.id===s?u:p,j=u.id===x?u:p,U=(w=Jn.find($=>$.id===E.avatarId))==null?void 0:w.url,S=(R=Zn.find($=>$.id===E.borderId))==null?void 0:R.url,M=(O=Jn.find($=>$.id===j.avatarId))==null?void 0:O.url,C=(V=Zn.find($=>$.id===j.borderId))==null?void 0:V.url;return e.jsxDEV(mn,{title:"  ",initialWidth:600,windowId:"base-start-confirm",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-4",children:"/ .     20   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:78,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:E.id,userName:E.nickname,size:64,avatarUrl:U,borderUrl:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:82,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:E.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:83,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:84,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:81,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:j.id,userName:j.nickname,size:64,avatarUrl:M,borderUrl:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:87,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:j.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:88,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:[" (: ",f,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:89,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:86,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:80,columnNumber:17},void 0),e.jsxDEV("div",{className:"my-4 mx-auto w-full max-w-xs",children:e.jsxDEV($3,{session:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:94,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:93,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_BASE_REVEAL",payload:{gameId:m}}),disabled:!!h,className:"w-full py-3",children:h?"   ...":`  (${N})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:77,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BaseStartConfirmationModal.tsx",lineNumber:76,columnNumber:9},void 0)},G3=({session:o,currentUser:a,onAction:c})=>{var G,q,B,X;const{id:m,alkkagiRoundSummary:u,player1:p,player2:s,roundEndConfirmations:x,revealEndTime:v,alkkagiStones:g}=o,[f,h]=b.useState(30),N=!!(x!=null&&x[a.id]);if(b.useEffect(()=>{const H=v||Date.now()+3e4,Q=setInterval(()=>{const Z=Math.max(0,Math.ceil((H-Date.now())/1e3));h(Z)},1e3);return()=>clearInterval(Q)},[v]),!u)return null;const{round:y,winnerId:E}=u,j=p.id===E?p:s,U=p.id===o.blackPlayerId?oe.Black:oe.White,S=s.id===o.blackPlayerId?oe.Black:oe.White,M=(g==null?void 0:g.filter(H=>H.player===U&&H.onBoard).length)??0,C=(g==null?void 0:g.filter(H=>H.player===S&&H.onBoard).length)??0,w=(G=Jn.find(H=>H.id===p.avatarId))==null?void 0:G.url,R=(q=Zn.find(H=>H.id===p.borderId))==null?void 0:q.url,O=(B=Jn.find(H=>H.id===s.avatarId))==null?void 0:B.url,V=(X=Zn.find(H=>H.id===s.borderId))==null?void 0:X.url,$=y+1,z=o.settings.alkkagiRounds||1;let P="        .";return $>z&&(P="  .   ."),e.jsxDEV(mn,{title:`${y}  `,initialWidth:550,windowId:"alkkari-round-summary",children:e.jsxDEV("div",{className:"text-white text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:[j.nickname,"  !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:55,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-6",children:P},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:56,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 my-6",children:[e.jsxDEV("div",{className:"flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border-2 border-gray-600",children:[e.jsxDEV(_n,{userId:p.id,userName:p.nickname,size:80,avatarUrl:w,borderUrl:R},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:60,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 text-xl font-bold",children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:61,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-lg font-semibold",children:[" : ",M,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:62,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:59,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border-2 border-gray-600",children:[e.jsxDEV(_n,{userId:s.id,userName:s.nickname,size:80,avatarUrl:O,borderUrl:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:65,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 text-xl font-bold",children:s.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:66,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-lg font-semibold",children:[" : ",C,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:67,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:64,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:58,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_ROUND_END",payload:{gameId:m}}),disabled:!!N,className:"w-full py-3",children:N?"   ...":`${$>z?"  ":"  "} (${f})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:54,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiRoundSummary.tsx",lineNumber:53,columnNumber:9},void 0)},z3=({session:o,currentUser:a,onAction:c})=>{var V,$,z,P;const{id:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,preGameConfirmations:v,revealEndTime:g,turnOrderRolls:f}=o,h=v==null?void 0:v[a.id],[N,y]=b.useState(10);if(b.useEffect(()=>{const G=g||Date.now()+1e4,q=setInterval(()=>{const B=Math.max(0,Math.ceil((G-Date.now())/1e3));y(B)},1e3);return()=>clearInterval(q)},[g]),!s||!x)return null;const E=u.id===s?u:p,j=u.id===x?u:p;a.id;const U=(f==null?void 0:f[u.id])??null,S=(f==null?void 0:f[p.id])??null,M=U!==null&&S!==null&&U>S?u:p,C=(V=Jn.find(G=>G.id===E.avatarId))==null?void 0:V.url,w=($=Zn.find(G=>G.id===E.borderId))==null?void 0:$.url,R=(z=Jn.find(G=>G.id===j.avatarId))==null?void 0:z.url,O=(P=Zn.find(G=>G.id===j.borderId))==null?void 0:P.url;return e.jsxDEV(mn,{title:"  ",initialWidth:600,windowId:"dice-go-start-confirm",children:e.jsxDEV("div",{className:"text-white",children:[U!==null&&S!==null&&e.jsxDEV("p",{className:"text-center text-gray-300 mb-2",children:["  ",e.jsxDEV("span",{className:"font-bold text-yellow-300",children:M.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:51,columnNumber:74},void 0),"  / ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-center text-gray-400 mb-4 text-sm",children:"    10    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:53,columnNumber:17},void 0),U!==null&&S!==null&&e.jsxDEV("div",{className:"flex justify-around items-center my-4 bg-gray-900/50 p-3 rounded-lg",children:[e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV(_n,{userId:u.id,userName:u.nickname,size:48},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:58,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold text-sm",children:u.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV(ka,{value:U,isRolling:!1,size:48},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:57,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-2xl font-bold",children:"VS"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:62,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV(_n,{userId:p.id,userName:p.nickname,size:48},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:64,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold text-sm",children:p.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:65,columnNumber:29},void 0),e.jsxDEV(ka,{value:S,isRolling:!1,size:48},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:66,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:63,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:56,columnNumber:22},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:E.id,userName:E.nickname,size:64,avatarUrl:C,borderUrl:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:73,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:E.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:74,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:75,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:72,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:j.id,userName:j.nickname,size:64,avatarUrl:R,borderUrl:O},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:78,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:j.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:79,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:80,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:77,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"DICE_CONFIRM_START",payload:{gameId:m}}),disabled:!!h,className:"w-full py-3 mt-6",children:h?"   ...":`  (${N})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:84,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DiceGoStartConfirmationModal.tsx",lineNumber:48,columnNumber:9},void 0)},H3=({session:o,currentUser:a,onAction:c})=>{var z,P,G,q,B;const{id:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,preGameConfirmations:v,revealEndTime:g}=o,f=v==null?void 0:v[a.id],[h,N]=b.useState(30);if(b.useEffect(()=>{const X=g||Date.now()+3e4,H=setInterval(()=>{const Q=Math.max(0,Math.ceil((X-Date.now())/1e3));N(Q)},1e3);return()=>clearInterval(H)},[g]),!s||!x)return null;const y=u.id===s?u:p,E=u.id===x?u:p,j=o.rpsState&&Object.values(o.rpsState).every(X=>X!==null),U=s===u.id?u.id:p.id,S=u.id===U?u:p,C=((z=o.turnChoices)==null?void 0:z[S.id])==="first"?"()":"()",w=j?`${S.nickname}   ${C}() .`:"/  .",R=(P=Jn.find(X=>X.id===y.avatarId))==null?void 0:P.url,O=(G=Zn.find(X=>X.id===y.borderId))==null?void 0:G.url,V=(q=Jn.find(X=>X.id===E.avatarId))==null?void 0:q.url,$=(B=Zn.find(X=>X.id===E.borderId))==null?void 0:B.url;return e.jsxDEV(mn,{title:"  ",initialWidth:600,windowId:"curling-start-confirm",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-4",children:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-center text-gray-400 mb-4 text-sm",children:"    30    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:y.id,userName:y.nickname,size:64,avatarUrl:R,borderUrl:O},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:57,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:y.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:58,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:59,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:56,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:E.id,userName:E.nickname,size:64,avatarUrl:V,borderUrl:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:62,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:E.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:63,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:64,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:61,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:55,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_CURLING_START",payload:{gameId:m}}),disabled:!!f,className:"w-full py-3 mt-6",children:f?"   ...":`  (${h})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:68,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:51,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CurlingStartConfirmationModal.tsx",lineNumber:50,columnNumber:9},void 0)},W3=({session:o,currentUser:a,onAction:c})=>{var O,V,$,z;const{id:m,player1:u,player2:p,blackPlayerId:s,whitePlayerId:x,preGameConfirmations:v,revealEndTime:g}=o,f=v==null?void 0:v[a.id],[h,N]=b.useState(30);if(b.useEffect(()=>{const P=g||Date.now()+3e4,G=setInterval(()=>{const q=Math.max(0,Math.ceil((P-Date.now())/1e3));N(q)},1e3);return()=>clearInterval(G)},[g]),!s||!x)return null;const y=u.id===s?u:p,E=u.id===x?u:p,j=o.rpsState&&Object.values(o.rpsState).every(P=>P!==null),U=s===u.id?u:p,S=j?`${U.nickname}   () .`:"/  .",M=(O=Jn.find(P=>P.id===y.avatarId))==null?void 0:O.url,C=(V=Zn.find(P=>P.id===y.borderId))==null?void 0:V.url,w=($=Jn.find(P=>P.id===E.avatarId))==null?void 0:$.url,R=(z=Zn.find(P=>P.id===E.borderId))==null?void 0:z.url;return e.jsxDEV(mn,{title:"  ",initialWidth:600,windowId:"alkkagi-start-confirm",children:e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("p",{className:"text-center text-gray-300 mb-4",children:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:48,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-center text-gray-400 mb-4 text-sm",children:"    30    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:49,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:y.id,userName:y.nickname,size:64,avatarUrl:M,borderUrl:C},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:53,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:y.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:54,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:55,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:52,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-1/2 flex flex-col items-center p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsxDEV(_n,{userId:E.id,userName:E.nickname,size:64,avatarUrl:w,borderUrl:R},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:58,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-2 font-bold",children:E.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:59,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold",children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:60,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:57,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:51,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>c({type:"CONFIRM_ALKKAGI_START",payload:{gameId:m}}),disabled:!!f,className:"w-full py-3 mt-6",children:f?"   ...":`  (${h})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:47,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AlkkagiStartConfirmationModal.tsx",lineNumber:46,columnNumber:9},void 0)},mD=(o,a)=>{o.gameStatus==="ended"&&o.isSinglePlayer&&sessionStorage.setItem("postGameRedirect","#/singleplayer"),a()},F3=({item:o,isMobile:a})=>e.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center p-1 bg-gray-900/50 rounded-md",title:o.name,children:[e.jsxDEV("img",{src:o.image,alt:o.name,className:`${a?"w-10 h-10":"w-12 h-12"} object-contain`},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:28,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-xs mt-1 text-gray-300 truncate w-full",children:[o.name,o.quantity>1?` x${o.quantity}`:""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:24,columnNumber:5},void 0),q3=o=>{if(o<1)return 0;if(o>100)return 1/0;if(o<=10)return 200+o*100;if(o<=20)return 300+o*150;let a=300+20*150;for(let c=21;c<=o;c++)c<=50?a=Math.round(a*1.2):a=Math.round(a*1.3);return a},Q3=({session:o,currentUser:a,onAction:c,onClose:m})=>{var q,B,X,H;const[u,p]=b.useState(null);b.useEffect(()=>{if(typeof window>"u")return;const Q=()=>p(window.innerWidth);return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const s=u??1024,x=s<=768,v=x?Math.max(Math.min(s-32,420),320):500,g=o.winner===oe.Black,f=(q=o.summary)==null?void 0:q[a.id],h=gl.findIndex(Q=>Q.id===o.stageId),N=gl.find(Q=>Q.id===o.stageId),y=gl[h+1],E=a.singlePlayerProgress??-1,j=g&&!!y&&E>=h,U=(N==null?void 0:N.actionPointCost)??0,S=(y==null?void 0:y.actionPointCost)??0,M=b.useMemo(()=>{if(g)return null;switch(o.winReason){case"timeout":return N!=null&&N.blackTurnLimit?"    .":"   .";case"capture_limit":return N!=null&&N.survivalTurns?"      .":"    .";case"score":return"      .";case"resign":return"  .";case"disconnect":return"    .";case"total_score":return"    .";case"dice_win":return"  .";case"foul_limit":return"  .";case"thief_captured":return"   .";case"police_win":return"    .";case"omok_win":return"    .";case"alkkagi_win":return"  .";case"curling_win":return"   .";default:return null}},[g,o.winReason,N]),C=async()=>{try{c({type:"START_SINGLE_PLAYER_GAME",payload:{stageId:o.stageId}}),m()}catch(Q){console.error("[SinglePlayerSummaryModal] Failed to retry stage:",Q)}},w=async()=>{if(!(!j||!y))try{c({type:"START_SINGLE_PLAYER_GAME",payload:{stageId:y.id}}),m()}catch(Q){console.error("[SinglePlayerSummaryModal] Failed to start next stage:",Q)}},R=async()=>{sessionStorage.setItem("postGameRedirect","#/singleplayer");try{c({type:"LEAVE_AI_GAME",payload:{gameId:o.id}})}catch(Q){console.error("[SinglePlayerSummaryModal] Failed to leave AI game:",Q)}finally{m(),setTimeout(()=>{window.location.hash="#/singleplayer"},100)}},O=b.useMemo(()=>{var Q;return(Q=Jn.find(Z=>Z.id===a.avatarId))==null?void 0:Q.url},[a.avatarId]),V=b.useMemo(()=>{var Q;return(Q=Zn.find(Z=>Z.id===a.borderId))==null?void 0:Q.url},[a.borderId]),$=q3(Math.max(1,a.strategyLevel)),z=Math.min(a.strategyXp,$),P=Math.min(100,z/($||1)*100),G=((B=f==null?void 0:f.xp)==null?void 0:B.change)??0;return e.jsxDEV(mn,{title:g?" ":" ",onClose:()=>mD(o,m),windowId:"sp-summary-redesigned",initialWidth:v,children:e.jsxDEV("div",{className:`relative text-center ${x?"p-3":"p-4"} rounded-lg ${g?"bg-gradient-to-br from-blue-900/50 to-gray-900":"bg-gradient-to-br from-red-900/50 to-gray-900"} ${x?"overflow-y-auto":"overflow-hidden"}`,style:{maxHeight:x?"75vh":void 0},children:[g&&e.jsxDEV("div",{className:"absolute -top-1/2 -left-1/4 w-full h-full bg-yellow-400/20 rounded-full blur-3xl animate-pulse"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:190,columnNumber:21},void 0),e.jsxDEV("h1",{className:`${x?"text-3xl":"text-5xl"} font-black ${g?x?"mb-4":"mb-6":x?"mb-3":"mb-4"} tracking-widest ${g?"text-yellow-300":"text-red-400"}`,style:{textShadow:g?"0 0 15px rgba(250, 204, 21, 0.5)":"0 0 10px rgba(220, 38, 38, 0.5)"},children:g?"MISSION CLEAR":"MISSION FAILED"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:192,columnNumber:17},void 0),!g&&M&&e.jsxDEV("p",{className:"mb-4 text-sm text-red-200 font-medium",children:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:201,columnNumber:21},void 0),e.jsxDEV("div",{className:`flex items-center ${x?"flex-col text-center gap-3":"gap-4 text-left"} bg-black/40 backdrop-blur-sm border border-gray-700/60 rounded-2xl ${x?"p-3":"p-4"} mb-6`,children:[e.jsxDEV(_n,{userId:a.id,userName:a.nickname,avatarUrl:O,borderUrl:V,size:x?64:80,className:x?"":"flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:209,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 w-full",children:[e.jsxDEV("div",{className:`flex ${x?"flex-col items-center gap-1":"items-center justify-between flex-wrap gap-2"} mb-2`,children:[e.jsxDEV("div",{className:"text-lg font-bold text-white truncate max-w-full",children:a.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:219,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-sm font-semibold text-primary-200 bg-primary/20 px-3 py-1 rounded-full border border-primary/40",children:[" Lv.",a.strategyLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:220,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:218,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full bg-gray-800/70 border border-gray-700/70 rounded-full h-4 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500 transition-all duration-700 ease-out",style:{width:`${P}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:225,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:224,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-300 mt-2",children:[e.jsxDEV("span",{className:"font-mono",children:[z.toLocaleString()," ",G>=0?`+${G.toLocaleString()}`:G.toLocaleString()," / ",$.toLocaleString()," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:231,columnNumber:29},void 0),e.jsxDEV("span",{className:`font-semibold ${G>=0?"text-green-400":"text-red-400"}`,children:[G>=0?`+${G.toLocaleString()}`:G.toLocaleString()," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:234,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:230,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:217,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:204,columnNumber:17},void 0),f&&e.jsxDEV("div",{className:`bg-black/30 backdrop-blur-sm ${x?"p-3":"p-4"} rounded-lg my-4 space-y-3 border border-gray-700/50`,children:[e.jsxDEV("div",{className:"flex justify-center items-center gap-6 text-lg",children:[f.xp&&f.xp.change>0&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:246,columnNumber:37},void 0),e.jsxDEV("p",{className:"font-bold text-green-400 sparkle-animation",children:["+",f.xp.change," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:247,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:245,columnNumber:33},void 0),f.gold&&f.gold>0&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-8 h-8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:252,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-bold text-yellow-400 sparkle-animation",children:["+",f.gold.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:253,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:251,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:243,columnNumber:25},void 0),f.items&&f.items.length>0&&e.jsxDEV("div",{className:"pt-3 border-t border-gray-700/50",children:[e.jsxDEV("h3",{className:"text-sm text-gray-400 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:260,columnNumber:33},void 0),e.jsxDEV("div",{className:`grid ${x?"grid-cols-4 gap-2":"grid-cols-5 gap-2"} justify-items-center`,children:f.items.map(Q=>e.jsxDEV(F3,{item:Q,isMobile:x},Q.id,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:263,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:261,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:259,columnNumber:29},void 0),!g&&(!f||f.gold===0&&((X=f.xp)==null?void 0:X.change)===0&&((H=f.items)==null?void 0:H.length)===0)&&e.jsxDEV("p",{className:"text-gray-500",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:270,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:242,columnNumber:21},void 0),e.jsxDEV("div",{className:`mt-6 grid ${x?"grid-cols-2 gap-2.5":"grid-cols-2 gap-3.5"}`,children:[e.jsxDEV(ae,{onClick:w,colorScheme:"none",style:{fontSize:x?"clamp(0.68rem,2vw,0.8rem)":"clamp(0.82rem,1.5vw,0.95rem)"},className:`group relative w-full flex flex-col items-center justify-center rounded-xl border-2 backdrop-blur-sm font-semibold leading-tight tracking-wide whitespace-normal break-keep transition-all duration-200 ${x?"px-2 py-1.5 gap-0.5":"px-3.5 py-2.5 gap-1"} ${j?"border-indigo-300/60 bg-gradient-to-br from-indigo-600/85 via-sky-500/80 to-cyan-400/80 text-white shadow-[0_18px_34px_-20px_rgba(59,130,246,0.6)] hover:-translate-y-0.5 hover:shadow-[0_22px_40px_-18px_rgba(56,189,248,0.55)]":"border-slate-500/60 bg-slate-800/70 text-slate-300 opacity-70 cursor-not-allowed"}`,disabled:!j,children:[e.jsxDEV("span",{className:"uppercase tracking-[0.12em] text-[0.88em] text-white drop-shadow-sm",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:283,columnNumber:25},void 0),y&&e.jsxDEV("span",{className:"text-[0.74em] font-medium text-sky-50/95 flex items-center gap-1 drop-shadow",children:[y.name.replace(" ",""),S>0&&e.jsxDEV("span",{className:"flex items-center gap-0.5 bg-sky-900/60 px-1.5 py-0.5 rounded-full border border-sky-400/50 shadow-inner text-[0.75em] font-semibold text-sky-100",children:["",e.jsxDEV("span",{children:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:290,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:288,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:285,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:C,colorScheme:"none",style:{fontSize:x?"clamp(0.68rem,2vw,0.8rem)":"clamp(0.82rem,1.5vw,0.95rem)"},className:`group relative w-full flex flex-col items-center justify-center rounded-xl border-2 backdrop-blur-sm font-semibold leading-tight tracking-wide whitespace-normal break-keep transition-all duration-200 ${x?"px-2 py-1.5 gap-0.5":"px-3.5 py-2.5 gap-1"} border-amber-300/70 bg-gradient-to-br from-amber-400/85 via-yellow-400/75 to-orange-400/80 text-slate-900 shadow-[0_18px_34px_-18px_rgba(251,191,36,0.45)] hover:-translate-y-0.5 hover:shadow-[0_22px_42px_-18px_rgba(251,191,36,0.55)]`,children:[e.jsxDEV("span",{className:"uppercase tracking-[0.12em] text-[0.88em] text-slate-900",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:302,columnNumber:25},void 0),U>0&&e.jsxDEV("span",{className:"text-[0.74em] font-semibold text-amber-900 flex items-center gap-0.5 bg-amber-200/80 px-1.5 py-0.5 rounded-full border border-amber-400/70 shadow-inner",children:["",U]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:304,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:296,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:R,colorScheme:"none",style:{fontSize:x?"clamp(0.68rem,2vw,0.8rem)":"clamp(0.82rem,1.5vw,0.95rem)"},className:`group relative w-full flex flex-col items-center justify-center rounded-xl border-2 backdrop-blur-sm font-semibold leading-tight tracking-wide whitespace-normal break-keep transition-all duration-200 ${x?"px-2 py-1.5 gap-0.5":"px-3.5 py-2.5 gap-1"} border-slate-500/60 bg-gradient-to-br from-slate-700/80 via-slate-800/80 to-slate-900/85 text-slate-100 shadow-[0_18px_32px_-20px_rgba(148,163,184,0.45)] hover:-translate-y-0.5 hover:shadow-[0_22px_40px_-20px_rgba(203,213,225,0.5)]`,children:[e.jsxDEV("span",{className:"uppercase tracking-[0.12em] text-[0.88em]",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:316,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-[0.74em] font-medium opacity-70",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:317,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:310,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>mD(o,m),colorScheme:"none",style:{fontSize:x?"clamp(0.68rem,2vw,0.8rem)":"clamp(0.82rem,1.5vw,0.95rem)"},className:`group relative w-full flex flex-col items-center justify-center rounded-xl border-2 backdrop-blur-sm font-semibold leading-tight tracking-wide whitespace-normal break-keep transition-all duration-200 ${x?"px-2 py-1.5 gap-0.5":"px-3.5 py-2.5 gap-1"} border-emerald-300/70 bg-gradient-to-br from-emerald-500/85 via-lime-500/75 to-green-500/80 text-slate-900 shadow-[0_18px_34px_-18px_rgba(16,185,129,0.45)] hover:-translate-y-0.5 hover:shadow-[0_22px_42px_-18px_rgba(74,222,128,0.55)]`,children:[e.jsxDEV("span",{className:"uppercase tracking-[0.12em] text-[0.88em]",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:325,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-[0.74em] font-medium opacity-80",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:326,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:319,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:275,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:183,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerSummaryModal.tsx",lineNumber:177,columnNumber:9},void 0)},uD=o=>{const{session:a,currentUser:c,onAction:m,confirmModalType:u,onHideConfirmModal:p,showResultModal:s,onCloseResults:x,isSpectator:v,activeNegotiation:g,onlineUsers:f,onViewUser:h}=o,{gameStatus:N,mode:y,id:E}=a,j=()=>{if(g)return e.jsxDEV(gS,{negotiation:g,currentUser:c,onAction:m,onlineUsers:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:43,columnNumber:20},void 0);if(a.isSinglePlayer&&s)return e.jsxDEV(Q3,{session:a,currentUser:c,onAction:m,onClose:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:47,columnNumber:20},void 0);if(v&&["nigiri_choosing","nigiri_guessing","base_placement","komi_bidding","capture_bidding","dice_rps","thief_rps","alkkagi_rps","curling_rps","omok_rps","ttamok_rps","turn_preference_selection","thief_role_selection","alkkagi_simultaneous_placement","dice_turn_rolling"].includes(N))return null;const C=["dice_rps","dice_rps_reveal","thief_rps","thief_rps_reveal","alkkagi_rps","alkkagi_rps_reveal","curling_rps","curling_rps_reveal","omok_rps","omok_rps_reveal","ttamok_rps","ttamok_rps_reveal"];if(N==="dice_turn_rolling"||N==="dice_turn_rolling_animating"||N==="dice_turn_choice")return e.jsxDEV(L3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:69,columnNumber:141},void 0);if(N==="dice_start_confirmation")return e.jsxDEV(z3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:70,columnNumber:62},void 0);if(N==="turn_preference_selection")return e.jsxDEV(M3,{session:a,currentUser:c,onAction:m,tiebreaker:a.turnSelectionTiebreaker},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:71,columnNumber:64},void 0);if(["nigiri_choosing","nigiri_guessing","nigiri_reveal"].includes(N))return e.jsxDEV(g3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:72,columnNumber:98},void 0);if(N==="capture_bidding")return e.jsxDEV(h3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:73,columnNumber:54},void 0);if(["capture_tiebreaker","capture_reveal"].includes(N))return e.jsxDEV(v3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:74,columnNumber:83},void 0);if(N==="base_placement")return e.jsxDEV(U3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:75,columnNumber:53},void 0);if(["komi_bidding","komi_bid_reveal"].includes(N))return e.jsxDEV(V3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:76,columnNumber:78},void 0);if(N==="base_game_start_confirmation")return e.jsxDEV(O3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:77,columnNumber:67},void 0);if(C.includes(N))return e.jsxDEV(D3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:78,columnNumber:52},void 0);if(N==="alkkagi_start_confirmation")return e.jsxDEV(W3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:79,columnNumber:65},void 0);if(N==="curling_start_confirmation")return e.jsxDEV(H3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:80,columnNumber:65},void 0);if(N==="thief_role_selection")return e.jsxDEV(S3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:81,columnNumber:59},void 0);if(N==="thief_role_confirmed")return e.jsxDEV(j3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:82,columnNumber:59},void 0);if(N==="thief_round_end")return e.jsxDEV(R3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:83,columnNumber:54},void 0);if(N==="curling_round_end")return e.jsxDEV(E3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:84,columnNumber:56},void 0);if(N==="alkkagi_round_end")return e.jsxDEV(G3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:85,columnNumber:56},void 0);if(N==="dice_round_end")return e.jsxDEV(A3,{session:a,currentUser:c,onAction:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:86,columnNumber:53},void 0);if(N==="alkkagi_simultaneous_placement")return e.jsxDEV(k3,{session:a,currentUser:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:87,columnNumber:69},void 0);if(s){if(N==="ended")return e.jsxDEV(x3,{session:a,currentUser:c,onConfirm:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:90,columnNumber:48},void 0);if(N==="no_contest")return e.jsxDEV(C3,{session:a,currentUser:c,onConfirm:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:91,columnNumber:53},void 0)}return null},S=u?{resign:{title:" ",message:" ?  .",confirmText:"",onConfirm:()=>m({type:"RESIGN_GAME",payload:{gameId:E}})}}[u]:null;return e.jsxDEV(e.Fragment,{children:[j(),S&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-gray-700",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-center mb-4",children:S.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:113,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-center text-gray-300 mb-6",children:S.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:114,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-4 mt-4",children:[e.jsxDEV(ae,{onClick:p,colorScheme:"gray",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:116,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>{p(),S.onConfirm()},colorScheme:"red",className:"w-full",children:S.confirmText},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:117,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:115,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:112,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:111,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameModals.tsx",lineNumber:108,columnNumber:9},void 0)};function dD(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const Y3=o=>{const{gameStatus:a,currentPlayer:c,blackPlayerId:m,whitePlayerId:u,player1:p,player2:s,mode:x,settings:v,passCount:g,moveHistory:f,alkkagiRound:h}=o,N=j=>{const U=j===oe.Black?m:u;return U?p.id===U?p:s:null},y=N(c);if(o.mode===I.Dice&&o.lastWhiteGroupInfo&&o.lastWhiteGroupInfo.liberties<=6){const j=o.settings.diceGoRounds??1;let U=` !  ${o.lastWhiteGroupInfo.liberties}`;if(o.round===j&&j>0){const S=z2[j-1];S&&(U+=` (   +${S})`)}return U}const E=f.length>0?f[f.length-1]:null;if(g>=2&&(E==null?void 0:E.x)===-1)return"    .";if(a!=="ended"&&g===1&&(E==null?void 0:E.x)===-1){const j=c===oe.Black?oe.White:oe.Black,U=N(j);if(U)return`${U.nickname} .`}switch(a){case"playing":return y?`${y.nickname} .`:"  ";case"nigiri_choosing":case"nigiri_guessing":case"nigiri_reveal":return"   ...";case"base_placement":return`  ... (${v.baseStones})`;case"komi_bidding":return"  ...";case"ended":return" ";case"no_contest":return" ";case"rematch_pending":return"  ...";case"hidden_placing":case"scanning":case"missile_selecting":return"  ...";case"hidden_final_reveal":return"    .";case"alkkagi_placement":{const j=h||1,U=v.alkkagiRounds||1;return j>1?`  . (${j} / ${U} )`:` . (${j} / ${U} )`}case"alkkagi_playing":{const j=h||1,U=v.alkkagiRounds||1;return`${y==null?void 0:y.nickname} . (${j} / ${U} )`}case"alkkagi_round_end":return" !  .";case"dice_rolling":return y?`${y.nickname}   .`:"  ";case"thief_rolling":return y?`${y.nickname}   .`:"  ";case"curling_tiebreaker_preference_selection":case"curling_tiebreaker_rps":case"curling_tiebreaker_rps_reveal":return"   ...";case"curling_tiebreaker_playing":return`  ... (${y==null?void 0:y.nickname} )`;default:return x===I.Dice?`  (${o.round} / ${o.settings.diceGoRounds} )`:x===I.Thief?`  (${o.round} )`:y?`${y.nickname} .`:"  ..."}},fD=({session:o,isPaused:a=!1,isMobile:c=!1,onOpenSidebar:m,sidebarNotification:u=!1})=>{var $;const[p,s]=b.useState(30),[x,v]=b.useState(100),[g,f]=b.useState(null),h=dD(o.lastTimeoutPlayerId),N=dD(($=o.foulInfo)==null?void 0:$.message),y=b.useMemo(()=>dt.some(z=>z.mode===o.mode)&&o.turnDeadline&&o.turnStartTime&&["dice_rolling","dice_placing","thief_rolling","thief_placing"].includes(o.gameStatus),[o.mode,o.turnDeadline,o.turnStartTime,o.gameStatus]);b.useEffect(()=>{if(!y){v(100);return}if(a)return;const z=o.turnDeadline-o.turnStartTime;if(z<=0)return;const P=()=>{const q=o.turnDeadline-Date.now(),B=Math.max(0,q/z*100);v(B)};P();const G=setInterval(P,100);return()=>clearInterval(G)},[y,o.turnDeadline,o.turnStartTime,a]),b.useEffect(()=>{if(o.foulInfo&&o.foulInfo.message!==N){f(o.foulInfo.message),et.timeoutFoul();const z=setTimeout(()=>f(null),5e3);return()=>clearTimeout(z)}},[o.foulInfo,N]),b.useEffect(()=>{if(o.lastTimeoutPlayerId&&o.lastTimeoutPlayerId!==h&&dt.some(P=>P.mode===o.mode)){const P=o.player1.id===o.lastTimeoutPlayerId?o.player1:o.player2;f(`${P.nickname}  !`);const G=setTimeout(()=>f(null),5e3);return()=>clearTimeout(G)}},[o.lastTimeoutPlayerId,h,o.mode,o.player1,o.player2]),b.useEffect(()=>{["playing","ended","no_contest","alkkagi_playing","curling_playing","dice_rolling","dice_placing","thief_rolling","thief_placing"].includes(o.gameStatus)&&f(null)},[o.gameStatus]);const E=["hidden_placing","scanning","missile_selecting"].includes(o.gameStatus);b.useEffect(()=>{if(!E||!o.itemUseDeadline||a)return;const z=()=>{const G=Math.max(0,Math.ceil((o.itemUseDeadline-Date.now())/1e3));s(G)};z();const P=setInterval(z,500);return()=>clearInterval(P)},[E,o.itemUseDeadline,a]);const j=o.isSinglePlayer,U="flex-shrink-0 rounded-lg flex flex-col items-center justify-center shadow-inner py-1 h-12 border",S=j?"bg-stone-800/70 backdrop-blur-sm border-stone-700/50":"bg-secondary border-color",M=j?"text-amber-300":"text-highlight",C=!!(c&&m),w=C?"pr-12":"",R=C?e.jsxDEV("button",{type:"button",onClick:m,className:"absolute top-1/2 -translate-y-1/2 right-1.5 w-9 h-10 sm:w-10 sm:h-12 bg-secondary/80 backdrop-blur-sm rounded-l-lg flex items-center justify-center text-primary shadow-lg hover:bg-secondary transition-colors","aria-label":" ",children:e.jsxDEV("span",{className:"relative font-bold text-lg sm:text-xl",children:["<",u&&e.jsxDEV("span",{className:"absolute -top-1.5 -right-1 w-2 h-2 bg-danger rounded-full border border-secondary"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:230,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:227,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:221,columnNumber:9},void 0):null,O=(z,P)=>e.jsxDEV("div",{className:"relative w-full",children:[e.jsxDEV("div",{className:`${z} ${w}`,children:P},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:238,columnNumber:13},void 0),R]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:237,columnNumber:9},void 0);if(g)return O("flex-shrink-0 bg-danger rounded-lg flex items-center justify-center shadow-inner animate-pulse py-1 h-12 border-2 border-red-500",e.jsxDEV("p",{className:"font-bold text-white tracking-wider text-[clamp(0.875rem,3vmin,1.125rem)]",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:248,columnNumber:13},void 0));if(o.mode===I.Dice&&o.gameStatus==="dice_placing"&&o.dice)return O(`${U} ${S} px-4 gap-1`,e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-bold text-tertiary text-[clamp(0.8rem,2.5vmin,1rem)]",children:[": ",e.jsxDEV("span",{className:`${M} text-[clamp(0.9rem,3vmin,1.1rem)]`,children:o.dice.dice1},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:258,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:257,columnNumber:21},void 0),e.jsxDEV("div",{className:`w-px h-5 ${j?"bg-stone-600":"bg-border-color"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:260,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold text-tertiary text-[clamp(0.8rem,2.5vmin,1rem)]",children:[" : ",e.jsxDEV("span",{className:`${M} text-[clamp(0.9rem,3vmin,1.1rem)]`,children:o.stonesToPlace},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:262,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:261,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:256,columnNumber:17},void 0),y&&e.jsxDEV("div",{className:"w-full h-1 bg-tertiary rounded-full mt-1",children:e.jsxDEV("div",{className:"h-1 bg-red-500 rounded-full",style:{width:`${x}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:267,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:255,columnNumber:13},void 0));if(o.mode===I.Thief&&o.gameStatus==="thief_placing"&&o.dice){const{dice1:z,dice2:P}=o.dice,G=P>0?`${z}, ${P}`:`${z}`;return O(`${U} ${S} px-4 gap-2`,e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"font-bold text-tertiary text-[clamp(0.8rem,2.5vmin,1rem)]",children:[": ",e.jsxDEV("span",{className:`${M} text-[clamp(0.9rem,3vmin,1.1rem)]`,children:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:281,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:280,columnNumber:17},void 0),e.jsxDEV("div",{className:`w-px h-5 ${j?"bg-stone-600":"bg-border-color"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:283,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-bold text-tertiary text-[clamp(0.8rem,2.5vmin,1rem)]",children:[" : ",e.jsxDEV("span",{className:`${M} text-[clamp(0.9rem,3vmin,1.1rem)]`,children:o.stonesToPlace},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:285,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:284,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:279,columnNumber:13},void 0))}if(E){let z=" ";o.gameStatus==="hidden_placing"&&(z=" "),o.gameStatus==="scanning"&&(z=" "),o.gameStatus==="missile_selecting"&&(z=" ");const P=p/30*100;return O(`${U} ${S} px-4 gap-2`,e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:`font-bold ${M} tracking-wider flex-shrink-0 text-[clamp(0.8rem,2.5vmin,1rem)]`,children:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:302,columnNumber:17},void 0),e.jsxDEV("div",{className:`w-full bg-tertiary rounded-full h-[clamp(0.5rem,1.5vh,0.75rem)] relative overflow-hidden border-2 ${j?"border-black/20":"border-tertiary"}`,children:e.jsxDEV("div",{className:"absolute inset-0 bg-highlight rounded-full",style:{width:`${P}%`,transition:"width 0.5s linear"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:304,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:303,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-primary w-[clamp(2rem,8vmin,2.5rem)] text-center text-[clamp(0.9rem,3vmin,1.1rem)]",children:[p,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:301,columnNumber:13},void 0))}const V=Y3(o);return O(`${U} ${S}`,e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{className:`font-bold ${M} tracking-wider text-[clamp(0.8rem,2.5vmin,1rem)] text-center px-2`,children:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:316,columnNumber:13},void 0),y&&e.jsxDEV("div",{className:"w-11/12 h-1 bg-tertiary rounded-full mt-1",children:e.jsxDEV("div",{className:"h-1 bg-red-500 rounded-full",style:{width:`${x}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:319,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:318,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/TurnDisplay.tsx",lineNumber:315,columnNumber:9},void 0))},K3=({session:o,result:a,onClose:c})=>{var M,C,w;if(!a||!a.scoreDetails||!a.areaScore)return e.jsxDEV(mn,{title:"",onClose:c,initialWidth:380,windowId:"analysis-territory",modal:!1,children:e.jsxDEV("p",{className:"text-center text-gray-400",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:23,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:22,columnNumber:13},void 0);const{scoreDetails:m,winRateChange:u,scoreLead:p}=a,{mode:s,settings:x}=o,v=p??a.areaScore.black-a.areaScore.white,g=v>0?"":"",f=Math.abs(v).toFixed(1),h=a.winRateBlack,N=100-h,y=`rgba(220, 38, 38, ${Math.max(0,(h-50)/50*.7)})`,E=`rgba(59, 130, 246, ${Math.max(0,(N-50)/50*.7)})`,j=s===I.Speed||s===I.Mix&&((M=x.mixedModes)==null?void 0:M.includes(I.Speed)),U=s===I.Base||s===I.Mix&&((C=x.mixedModes)==null?void 0:C.includes(I.Base)),S=s===I.Hidden||s===I.Mix&&((w=x.mixedModes)==null?void 0:w.includes(I.Hidden));return e.jsxDEV(mn,{title:"",onClose:c,initialWidth:380,windowId:"analysis-territory",modal:!1,children:e.jsxDEV("div",{className:"text-sm text-white",children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between mb-1 text-xs",children:[e.jsxDEV("span",{className:"font-semibold text-gray-300",children:[" ",h.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:49,columnNumber:29},void 0),u!==void 0&&e.jsxDEV("span",{className:`font-bold text-xs ${u>0?"text-green-400":"text-red-400"}`,children:[u>0?"":""," ",Math.abs(u).toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:51,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-semibold text-gray-300",children:[" ",N.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:55,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:48,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex w-full h-4 bg-gray-700 rounded-full overflow-hidden border-2 border-gray-900",children:[e.jsxDEV("div",{className:"bg-black relative",style:{width:`${h}%`},children:e.jsxDEV("div",{className:"absolute inset-0",style:{backgroundColor:y}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:59,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:58,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-white relative",style:{width:`${N}%`},children:e.jsxDEV("div",{className:"absolute inset-0",style:{backgroundColor:E}},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:62,columnNumber:34},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:61,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:57,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:47,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between pt-1",children:[e.jsxDEV("span",{className:"font-medium text-gray-300",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:67,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-yellow-300",children:[g," ",f," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:68,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:66,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg my-2 text-xs",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("h4",{className:"font-bold text-center border-b border-gray-600 pb-1 mb-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:74,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:75,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.territory},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:75,columnNumber:88},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:75,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:76,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.liveCaptures??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:76,columnNumber:90},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:76,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:77,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.deadStones??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:77,columnNumber:88},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:77,columnNumber:33},void 0),U&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:78,columnNumber:86},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.baseStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:78,columnNumber:104},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:78,columnNumber:48},void 0),S&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:79,columnNumber:88},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.hiddenStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:79,columnNumber:106},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:79,columnNumber:50},void 0),j&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:80,columnNumber:87},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.timeBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:80,columnNumber:104},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:80,columnNumber:49},void 0),m.black.itemBonus>0&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:81,columnNumber:108},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.black.itemBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:81,columnNumber:126},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:81,columnNumber:70},void 0),e.jsxDEV("div",{className:"flex justify-between border-t border-gray-500 mt-1 pt-1 font-bold",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:82,columnNumber:116},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:a.areaScore.black.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:82,columnNumber:133},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:82,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:73,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("h4",{className:"font-bold text-center border-b border-gray-600 pb-1 mb-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:86,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:87,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.territory},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:87,columnNumber:88},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:87,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:88,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.liveCaptures??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:88,columnNumber:90},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:88,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:89,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.deadStones??0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:89,columnNumber:88},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:89,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:90,columnNumber:71},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.komi},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:90,columnNumber:87},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:90,columnNumber:33},void 0),U&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:91,columnNumber:86},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.baseStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:91,columnNumber:104},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:91,columnNumber:48},void 0),S&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:92,columnNumber:88},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.hiddenStoneBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:92,columnNumber:106},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:92,columnNumber:50},void 0),j&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:93,columnNumber:87},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.timeBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:93,columnNumber:104},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:93,columnNumber:49},void 0),m.white.itemBonus>0&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:94,columnNumber:108},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:m.white.itemBonus},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:94,columnNumber:126},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:94,columnNumber:70},void 0),e.jsxDEV("div",{className:"flex justify-between border-t border-gray-500 mt-1 pt-1 font-bold",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:95,columnNumber:116},void 0)," ",e.jsxDEV("span",{className:"font-mono",children:a.areaScore.white.toFixed(1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:95,columnNumber:133},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:95,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:85,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:71,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:70,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:46,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:45,columnNumber:14},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/AnalysisWindows.tsx",lineNumber:44,columnNumber:9},void 0)},xx=({src:o,alt:a,onClick:c,disabled:m=!1,title:u,variant:p="primary"})=>{const s=p==="danger"?"border-red-400 shadow-red-500/40 focus:ring-red-400":"border-amber-400 shadow-amber-500/30 focus:ring-amber-300";return e.jsxDEV("button",{type:"button",onClick:m?void 0:c,disabled:m,title:u,className:`relative w-16 h-16 md:w-20 md:h-20 rounded-xl border-2 transition-transform duration-200 ease-out overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 ${s} ${m?"opacity-40 cursor-not-allowed border-gray-700 shadow-none":"hover:scale-105 active:scale-95 shadow-lg"}`,children:e.jsxDEV("img",{src:o,alt:a,className:"absolute inset-0 w-full h-full object-contain pointer-events-none"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:24,columnNumber:9},void 0)},Zi=({label:o,caption:a,...c})=>{const{disabled:m=!1}=c;return e.jsxDEV("div",{className:"flex flex-col items-center gap-1 min-w-[4.5rem]",children:[e.jsxDEV(xx,{...c},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:45,columnNumber:13},void 0),e.jsxDEV("span",{className:`text-[10px] font-semibold tracking-wide ${m?"text-gray-500":"text-amber-100 drop-shadow-sm"}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:46,columnNumber:13},void 0),a&&e.jsxDEV("span",{className:`text-[9px] font-medium ${m?"text-gray-500/80":"text-gray-300/90"}`,children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:50,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:44,columnNumber:9},void 0)},J3=o=>{if(o<=0)return"READY";const a=Math.ceil(o/1e3),c=Math.floor(a/60),m=a%60;return`${String(c).padStart(2,"0")}:${String(m).padStart(2,"0")}`},hS=["playing","alkkagi_playing","curling_playing","dice_rolling","dice_placing","thief_rolling","thief_placing"],X3=({session:o,isSpectator:a,onAction:c,currentUser:m})=>{var U,S;const[u,p]=b.useState("00:00"),{id:s,mode:x,gameStatus:v}=o;b.useEffect(()=>{var R;const M=(R=o.actionButtonCooldownDeadline)==null?void 0:R[m.id];if(!M){p("READY");return}const C=()=>{const O=M-Date.now();p(J3(O))};C();const w=setInterval(C,1e3);return()=>clearInterval(w)},[o.actionButtonCooldownDeadline,m.id]);const g=["ended","no_contest","rematch_pending"].includes(v),f=st.some(M=>M.mode===x)||dt.some(M=>M.mode===x);if(g||a||!f)return null;const h=(U=o.currentActionButtons)==null?void 0:U[m.id],N=h&&h.length>0,y=hS.includes(v),E=(S=o.actionButtonUsedThisCycle)==null?void 0:S[m.id],j=u==="READY";return e.jsxDEV("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[N&&!E?h.map(M=>e.jsxDEV(ae,{onClick:()=>c({type:"USE_ACTION_BUTTON",payload:{gameId:s,buttonName:M.name}}),colorScheme:M.type==="manner"?"green":"orange",className:"whitespace-nowrap text-[clamp(0.5rem,1.8vmin,0.75rem)] px-[clamp(0.3rem,1.5vmin,0.5rem)] py-[clamp(0.15rem,1vmin,0.25rem)]",title:M.message,disabled:a||!y,children:M.name},M.name,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:139,columnNumber:21},void 0)):e.jsxDEV("span",{className:"text-xs text-gray-400",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:151,columnNumber:17},void 0),e.jsxDEV("span",{className:`text-xs font-mono ${j&&!E?"text-green-400":"text-gray-400"}`,children:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:153,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:136,columnNumber:9},void 0)},Z3=({session:o,isMyTurn:a,onAction:c,currentUser:m})=>{var y,E;const{id:u,gameStatus:p}=o,s=p==="dice_rolling_animating",x=j=>{a&&p==="dice_rolling"&&(et.rollDice(1),c({type:"DICE_ROLL",payload:{gameId:u,itemType:j}}))},v=(y=o.diceGoItemUses)==null?void 0:y[m.id],g=(v==null?void 0:v.odd)??0,f=(v==null?void 0:v.even)??0,h=a&&p==="dice_rolling",N=s?null:(E=o.dice)==null?void 0:E.dice1;return e.jsxDEV("div",{className:`flex flex-row items-center justify-center gap-3 transition-all ${h?"animate-pulse-border-yellow":"border-2 border-transparent p-2 rounded-lg"}`,children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:e.jsxDEV(ka,{value:N??null,isRolling:s,size:48,onClick:()=>x(),disabled:!h},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:183,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:182,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV(ka,{displayText:"",color:"blue",value:null,isRolling:s,size:48,onClick:()=>x("odd"),disabled:!h||g<=0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:192,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-xs mt-1 font-bold",children:[g,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:201,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:191,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV(ka,{displayText:"",color:"yellow",value:null,isRolling:s,size:48,onClick:()=>x("even"),disabled:!h||f<=0},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:204,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-xs mt-1 font-bold",children:[f,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:213,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:203,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:181,columnNumber:9},void 0)},eV=({session:o,isMyTurn:a,onAction:c,currentUser:m})=>{var C,w;const{id:u,gameStatus:p,activeAlkkagiItems:s}=o,x=(C=o.alkkagiItemUses)==null?void 0:C[m.id],v=(x==null?void 0:x.slow)??o.settings.alkkagiSlowItemCount??0,g=(x==null?void 0:x.aimingLine)??o.settings.alkkagiAimingLineItemCount??0,f=(s==null?void 0:s[m.id])||[],h=R=>{c({type:"USE_ALKKAGI_ITEM",payload:{gameId:u,itemType:R}})},N=f.includes("slow"),y=f.includes("aimingLine"),E=a&&p==="alkkagi_playing",j=o.settings.alkkagiRounds||1;if(j<=1)return e.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[e.jsxDEV(Zi,{src:"/images/button/slow.png",alt:"",label:"",caption:`${v}${N?"  ":""}`,onClick:()=>h("slow"),disabled:!E||v<=0||N,title:`   50% .  : ${v}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV(Zi,{src:"/images/button/target.png",alt:"",label:"",caption:`${g}${y?"  ":""}`,onClick:()=>h("aimingLine"),disabled:!E||g<=0||y,title:`  1000% .  : ${g}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:247,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:237,columnNumber:13},void 0);const U=j-1,S=((w=o.alkkagiRefillsUsed)==null?void 0:w[m.id])||0,M=U-S;return e.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[e.jsxDEV("div",{className:"flex flex-col text-center text-xs font-semibold text-yellow-300",children:e.jsxDEV("span",{children:[": ",M," / ",U]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:267,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:266,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-8 w-px bg-gray-600 mx-2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:269,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[e.jsxDEV(Zi,{src:"/images/button/slow.png",alt:"",label:"",caption:`${v}${N?"  ":""}`,onClick:()=>h("slow"),disabled:!E||v<=0||N,title:`   50% .  : ${v}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:271,columnNumber:17},void 0),e.jsxDEV(Zi,{src:"/images/button/target.png",alt:"",label:"",caption:`${g}${y?"  ":""}`,onClick:()=>h("aimingLine"),disabled:!E||g<=0||y,title:`  1000% .  : ${g}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:280,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:265,columnNumber:9},void 0)},nV=({session:o,currentUser:a})=>null,tV=({session:o,isMyTurn:a,onAction:c,currentUser:m})=>{const{id:u,gameStatus:p,animation:s,currentPlayer:x,blackPlayerId:v,whitePlayerId:g,thiefPlayerId:f}=o,h=(s==null?void 0:s.type)==="dice_roll_main"?s:null,N=!!h&&Date.now()<h.startTime+h.duration,j=((x===oe.Black?v:g)===f?"thief":"police")==="thief"?1:2,U=()=>{a&&p==="thief_rolling"&&(et.rollDice(j),c({type:"THIEF_ROLL_DICE",payload:{gameId:u}}))};return e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:Array.from({length:j}).map((S,M)=>{var R;const C=M===0?"dice1":"dice2",w=h?h.dice[C]:(R=o.dice)==null?void 0:R[C];return e.jsxDEV(ka,{value:w??null,isRolling:N,size:48,onClick:U,disabled:!a||p!=="thief_rolling"},M,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:332,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:327,columnNumber:9},void 0)},oV=({session:o,isMyTurn:a,onAction:c,currentUser:m})=>{var j;const{id:u,gameStatus:p,activeCurlingItems:s}=o,x=(j=o.curlingItemUses)==null?void 0:j[m.id],v=(x==null?void 0:x.slow)??o.settings.curlingSlowItemCount??0,g=(x==null?void 0:x.aimingLine)??o.settings.curlingAimingLineItemCount??0,f=(s==null?void 0:s[m.id])||[],h=U=>{c({type:"USE_CURLING_ITEM",payload:{gameId:u,itemType:U}})},N=f.includes("slow"),y=f.includes("aimingLine"),E=a&&p==="curling_playing";return e.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[e.jsxDEV(Zi,{src:"/images/button/slow.png",alt:"",label:"",caption:`${v}${N?"  ":""}`,onClick:()=>h("slow"),disabled:!E||v<=0||N,title:`   50% .  : ${v}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:363,columnNumber:13},void 0),e.jsxDEV(Zi,{src:"/images/button/target.png",alt:"",label:"",caption:`${g}${y?"  ":""}`,onClick:()=>h("aimingLine"),disabled:!E||g<=0||y,title:`  1000% .  : ${g}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:372,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:362,columnNumber:9},void 0)},pD=o=>{var fe,W;const{session:a,isMyTurn:c,isSpectator:m,onAction:u,setShowResultModal:p,setConfirmModalType:s,currentUser:x,onlineUsers:v,pendingMove:g,onConfirmMove:f,onCancelMove:h,isMobile:N,settings:y,isSinglePlayer:E,isSinglePlayerPaused:j=!1}=o,{id:U,mode:S,gameStatus:M,blackPlayerId:C,whitePlayerId:w,player1:R,player2:O}=a;I.Mix;const V=["ended","no_contest","rematch_pending"].includes(M),$=hS.includes(M),z=!$&&!V,P=st.some(Pe=>Pe.mode===S),G=()=>{c&&!m&&M==="playing"&&u({type:"PASS_TURN",payload:{gameId:U}})},q=()=>{!m&&!a.isAiGame&&$&&s("resign")},B=Pe=>{if(M!=="playing")return;u({type:Pe==="hidden"?"START_HIDDEN_PLACEMENT":Pe==="scan"?"START_SCANNING":"START_MISSILE_SELECTION",payload:{gameId:U}})},H=(x.id===C?oe.Black:oe.White)===oe.Black?oe.White:oe.Black,Q=b.useMemo(()=>!a.hiddenMoves||!a.moveHistory?!1:Object.entries(a.hiddenMoves).some(([Pe,me])=>{var ye,De;if(!me)return!1;const de=a.moveHistory[parseInt(Pe)];if(!de||de.player!==H)return!1;const{x:Ge,y:ve}=de;return((ye=a.boardState[ve])==null?void 0:ye[Ge])!==H?!1:!((De=a.permanentlyRevealedStones)==null?void 0:De.some(We=>We.x===Ge&&We.y===ve))}),[a.hiddenMoves,a.moveHistory,a.boardState,a.permanentlyRevealedStones,H]),Z="relative overflow-hidden whitespace-normal break-keep text-[clamp(0.6rem,2vmin,0.85rem)] px-[clamp(0.45rem,1.6vmin,0.85rem)] py-[clamp(0.32rem,1.1vmin,0.6rem)] rounded-xl backdrop-blur-sm font-semibold tracking-wide transition-all duration-200 flex items-center justify-center gap-1",ne=(Pe="primary")=>({primary:`${Z} border border-cyan-200/40 bg-gradient-to-br from-cyan-500/85 via-sky-500/80 to-indigo-500/80 text-white shadow-[0_18px_34px_-18px_rgba(59,130,246,0.55)] hover:-translate-y-0.5 hover:shadow-[0_24px_40px_-18px_rgba(96,165,250,0.6)]`,danger:`${Z} border border-rose-300/45 bg-gradient-to-br from-rose-600/90 via-red-500/85 to-amber-400/80 text-white shadow-[0_18px_36px_-16px_rgba(248,113,113,0.55)] hover:-translate-y-0.5 hover:shadow-[0_24px_42px_-18px_rgba(248,113,113,0.65)]`,neutral:`${Z} border border-slate-400/35 bg-gradient-to-br from-slate-800/85 via-slate-900/80 to-black/70 text-slate-100 shadow-[0_16px_32px_-20px_rgba(148,163,184,0.5)] hover:-translate-y-0.5 hover:shadow-[0_22px_40px_-18px_rgba(203,213,225,0.55)]`,accent:`${Z} border border-amber-300/55 bg-gradient-to-br from-amber-400/85 via-yellow-400/75 to-orange-400/80 text-slate-900 shadow-[0_18px_36px_-18px_rgba(251,191,36,0.5)] hover:-translate-y-0.5 hover:shadow-[0_24px_44px_-18px_rgba(251,191,36,0.6)]`,success:`${Z} border border-emerald-300/55 bg-gradient-to-br from-emerald-500/85 via-lime-500/75 to-green-500/80 text-slate-900 shadow-[0_18px_34px_-18px_rgba(74,222,128,0.45)] hover:-translate-y-0.5 hover:shadow-[0_24px_44px_-18px_rgba(74,222,128,0.6)]`})[Pe],le=()=>{const Pe=S===I.Hidden||S===I.Mix&&(a.settings.mixedModes||[]).includes(I.Hidden),me=S===I.Missile||S===I.Mix&&(a.settings.mixedModes||[]).includes(I.Missile),de=a.player1.id,Ge=x.id===de?a.hidden_stones_used_p1??0:a.hidden_stones_used_p2??0,ve=x.id===de?a.scans_p1:a.scans_p2,an=x.id===de?a.missiles_p1:a.missiles_p2,ye=(a.settings.hiddenStoneCount||0)-Ge,De=[];if(Pe){const We=!c||m||M!=="playing"||ye<=0;De.push(e.jsxDEV(Zi,{src:"/images/button/hidden.png",alt:"",label:"",caption:` ${ye}`,onClick:()=>B("hidden"),disabled:We,title:"  "},"hidden",!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:456,columnNumber:17},void 0));const Ie=ve??0,Je=!c||m||M!=="playing"||Ie<=0||!Q;De.push(e.jsxDEV(Zi,{src:"/images/button/scan.png",alt:"",label:"",caption:Ie>0?` ${Ie}`:"",onClick:()=>B("scan"),disabled:Je,title:"   "},"scan",!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:471,columnNumber:17},void 0))}if(me){const We=an??0,Ie=!c||m||M!=="playing"||We<=0;De.push(e.jsxDEV(Zi,{src:"/images/button/missile.png",alt:"",label:"",caption:We>0?` ${We}`:"",onClick:()=>B("missile"),disabled:Ie,title:" "},"missile",!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:488,columnNumber:17},void 0))}return De},L=S===I.Hidden||S===I.Missile||S===I.Mix&&(a.settings.mixedModes||[]).some(Pe=>[I.Hidden,I.Missile].includes(Pe));if(m&&!x.isAdmin)return null;const ue=(a.maxActionButtonUses??0)-(((fe=a.actionButtonUses)==null?void 0:fe[x.id])??0),pe=a.maxActionButtonUses,ie=typeof ue=="number"&&typeof pe=="number"?`(${ue})`:"";if(a.isAnalyzing,E){const Pe=a.stageId,me=Pe?gl.findIndex(ze=>ze.id===Pe):-1,de=Pe?gl.find(ze=>ze.id===Pe):void 0,Ge=me>=0?gl[me+1]:void 0,ve=x.singlePlayerProgress??-1,an=a.winner===oe.Black,ye=!!Ge&&an&&ve>=me,De=(de==null?void 0:de.actionPointCost)??0,We=(Ge==null?void 0:Ge.actionPointCost)??0,Ie=[0,50,75,100,200],Je=a.singlePlayerPlacementRefreshesUsed??0,K=Math.max(0,5-Je),J=Math.min(Je,Ie.length-1),ke=Ie[J]??Ie[Ie.length-1],Te=((W=a.moveHistory)==null?void 0:W.length)??0,be=M==="playing",Ce=x.gold??0,Re=!V&&be&&Te===0&&K>0,Ze=Ce>=ke,Se=j,Fe=!Re||!Ze||Se;let tn="";K<=0?tn="   .":be?Te>0?tn="      .":Ze?Se&&(tn="     ."):tn=" .":tn="    .";const Rn=()=>{if(Fe){tn&&window.alert(tn);return}const ze=ke>0?`${ke.toLocaleString()}     ? (  ${K}/5)`:"  .   ?";window.confirm(ze)&&u({type:"SINGLE_PLAYER_REFRESH_PLACEMENT",payload:{gameId:U}})},Dn=$&&!m&&!V&&!Se,Ue=()=>{if(!Dn){Se?window.alert("     ."):!$&&!V&&window.alert("     .");return}window.confirm("? ( )")&&u({type:"RESIGN_GAME",payload:{gameId:U}})},Be=()=>{Pe&&u({type:"START_SINGLE_PLAYER_GAME",payload:{stageId:Pe}})},qe=()=>{ye&&Ge&&u({type:"START_SINGLE_PLAYER_GAME",payload:{stageId:Ge.id}})},Ee=()=>{p(!1),sessionStorage.setItem("postGameRedirect","#/singleplayer"),u({type:"LEAVE_AI_GAME",payload:{gameId:U}})};return V?e.jsxDEV("footer",{className:"responsive-controls flex-shrink-0 bg-gray-800 rounded-lg p-2 flex flex-col items-stretch justify-center gap-2 w-full min-h-[148px]",children:[N&&y.features.mobileConfirm&&g&&e.jsxDEV("div",{className:"flex gap-4 p-2 justify-center",children:[e.jsxDEV(ae,{onClick:h,colorScheme:"red",className:"!py-3 !px-6",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:602,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:f,colorScheme:"green",className:"!py-3 !px-6 animate-pulse",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:603,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:601,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-gray-900/70 border border-stone-700 rounded-xl px-4 py-3 flex flex-wrap items-center justify-center gap-3",children:[e.jsxDEV(ae,{onClick:Be,colorScheme:"yellow",className:"min-w-[120px]",children:[" ",De>0&&`(${De})`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:607,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:qe,colorScheme:"accent",className:"min-w-[120px]",disabled:!ye,children:[" ",ye&&Ge?`: ${Ge.name}`:"",We>0&&` (${We})`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:610,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:Ee,colorScheme:"green",className:"min-w-[120px]",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:613,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:606,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:599,columnNumber:17},void 0):e.jsxDEV("footer",{className:"responsive-controls flex-shrink-0 bg-gray-800 rounded-lg p-2 flex flex-col items-stretch justify-center gap-2 w-full min-h-[148px]",children:[N&&y.features.mobileConfirm&&g&&e.jsxDEV("div",{className:"flex gap-3 p-2 justify-center",children:[e.jsxDEV(ae,{onClick:h,colorScheme:"none",className:`${ne("danger")} min-w-[96px] py-2`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:625,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:f,colorScheme:"none",className:`${ne("success")} min-w-[96px] py-2 animate-pulse`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:626,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:624,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-900/60 border border-stone-700 rounded-xl px-4 py-3 flex flex-row items-center justify-center gap-6 w-full",children:[e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV(xx,{src:"/images/button/giveup.png",alt:"",title:"",onClick:Ue,disabled:!Dn,variant:"danger"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:631,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-[10px] text-red-300 font-semibold tracking-wide",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:639,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:630,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV(xx,{src:"/images/button/reflesh.png",alt:" ",title:" ",onClick:Rn,disabled:Fe},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:642,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-[10px] text-amber-200 font-semibold tracking-wide",children:[K,"/5  ",ke===0?"":`${ke.toLocaleString()}G`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:649,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:641,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:629,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:622,columnNumber:13},void 0)}return e.jsxDEV("footer",{className:"responsive-controls flex-shrink-0 bg-gray-800 rounded-lg p-1 flex flex-col items-stretch justify-center gap-1 w-full",children:[N&&y.features.mobileConfirm&&g&&e.jsxDEV("div",{className:"flex gap-3 p-2 justify-center",children:[e.jsxDEV(ae,{onClick:h,colorScheme:"none",className:`${ne("danger")} min-w-[96px] py-2`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:662,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:f,colorScheme:"none",className:`${ne("success")} min-w-[96px] py-2 animate-pulse`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:663,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:661,columnNumber:18},void 0),!E&&e.jsxDEV("div",{className:"bg-gray-900/50 rounded-md p-2 flex flex-row items-center gap-4 w-full",children:[e.jsxDEV("h3",{className:"text-xs font-bold text-gray-300 whitespace-nowrap",children:["  ",ie]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:669,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow flex items-center justify-center",children:e.jsxDEV(X3,{session:a,isSpectator:m,onAction:u,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:671,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:670,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:668,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-row gap-1 w-full",children:[e.jsxDEV("div",{className:"bg-gray-900/50 rounded-md p-2 flex flex-row items-center gap-4 flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-xs font-bold text-gray-300 whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:680,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-3 flex-wrap flex-grow",children:V?e.jsxDEV(ae,{onClick:()=>p(!0),colorScheme:"none",className:ne("accent"),children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:683,columnNumber:29},void 0):e.jsxDEV(e.Fragment,{children:[P&&S!==I.Capture&&e.jsxDEV(Zi,{src:"/images/button/pass.png",alt:"",label:"",onClick:G,disabled:!c||m||z,title:"  "},"pass",!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:687,columnNumber:37},void 0),e.jsxDEV(Zi,{src:"/images/button/giveup.png",alt:"",label:"",onClick:q,disabled:m||a.isAiGame||z,title:"",variant:"danger"},"resign",!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:697,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:685,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:681,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 rounded-md p-2 flex flex-row items-center gap-4 flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-xs font-bold text-gray-300 whitespace-nowrap",children:P?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:714,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-3 flex-wrap flex-grow",children:P?(()=>{if(V||!L)return null;const Pe=le();return Pe.length===0?e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:721,columnNumber:44},void 0):Pe})():S===I.Dice?e.jsxDEV(Z3,{session:a,isMyTurn:c,onAction:u,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:726,columnNumber:54},void 0):S===I.Thief?e.jsxDEV(tV,{session:a,isMyTurn:c,onAction:u,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:727,columnNumber:55},void 0):S===I.Curling?e.jsxDEV(oV,{session:a,isMyTurn:c,onAction:u,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:728,columnNumber:57},void 0):S===I.Alkkagi?e.jsxDEV(eV,{session:a,isMyTurn:c,onAction:u,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:729,columnNumber:57},void 0):e.jsxDEV(nV,{session:a,currentUser:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:730,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:715,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:713,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:677,columnNumber:13},void 0),m&&x.isAdmin&&$&&e.jsxDEV("div",{className:"bg-purple-900/50 rounded-md p-2 flex flex-row items-center gap-4 w-full mt-1",children:[e.jsxDEV("h3",{className:"text-xs font-bold text-purple-300 whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:738,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-2 flex-wrap flex-grow",children:[e.jsxDEV(ae,{onClick:()=>{window.confirm(`${R.nickname}  ?`)&&u({type:"ADMIN_FORCE_WIN",payload:{gameId:U,winnerId:R.id}})},colorScheme:"none",className:ne("primary"),children:[R.nickname," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:740,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:()=>{window.confirm(`${O.nickname}  ?`)&&u({type:"ADMIN_FORCE_WIN",payload:{gameId:U,winnerId:O.id}})},colorScheme:"none",className:ne("primary"),children:[O.nickname," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:751,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:739,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:737,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/GameControls.tsx",lineNumber:659,columnNumber:9},void 0)},iV=({session:o,currentUser:a})=>{const{disconnectionState:c,player1:m,player2:u,disconnectionCounts:p}=o,[s,x]=b.useState(90);if(!c)return null;const v=c.disconnectedPlayerId===m.id?m:u,g=v.id===a.id,f=(p==null?void 0:p[v.id])||1;return b.useEffect(()=>{const h=()=>{const y=(Date.now()-c.timerStartedAt)/1e3,E=Math.max(0,90-Math.floor(y));x(E)},N=setInterval(h,1e3);return h(),()=>clearInterval(N)},[c.timerStartedAt]),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-8 border border-gray-700 text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["   (",f,"/3)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:35,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-center items-center my-6",children:e.jsxDEV("div",{className:"animate-pulse rounded-full h-16 w-16 border-4 border-yellow-400 flex items-center justify-center",children:e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:39,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:38,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:37,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:36,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-lg text-white mb-2",children:[e.jsxDEV("span",{className:"font-bold",children:v.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:44,columnNumber:21},void 0),"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:43,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-300",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:46,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-4xl font-mono font-bold my-4 text-white",children:[s,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:47,columnNumber:17},void 0),g&&e.jsxDEV("p",{className:"text-sm text-red-400 bg-red-900/50 p-2 rounded-md",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:49,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:34,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisconnectionModal.tsx",lineNumber:33,columnNumber:9},void 0)},lV=({session:o,onStart:a,onClose:c})=>{const m=gl.find(h=>h.id===o.stageId);if(!m)return null;(h=>{const N=st.find(E=>E.mode===h);if(N)return N.name;const y=dt.find(E=>E.mode===h);return y?y.name:h})(o.mode);const p=m.blackTurnLimit!==void 0||o.mode===I.Capture,s=!p&&m.timeControl.type==="fischer",x=m.placements.blackPattern||0,v=m.placements.whitePattern||0,g=x>0||v>0,f=()=>{const h=o.effectiveCaptureTargets,N=h==null?void 0:h[oe.Black],y=h==null?void 0:h[oe.White];if(m.survivalTurns){const E=m.targetScore.black;return`(AI) ${m.survivalTurns}  (${E})   () .     `}if(p){if(m.blackTurnLimit&&typeof N=="number"&&N!==999)return typeof y=="number"&&y!==999?`${m.blackTurnLimit}   ${N}   ( ${y}   )`:`${m.blackTurnLimit}   ${N}   `;if(typeof N=="number"&&N!==999&&typeof y=="number"&&y!==999)return` ${N} /  ${y}  `;if(typeof N=="number"&&N!==999)return` ${N}    `;if(typeof y=="number"&&y!==999)return` ${y}    `;if(typeof o.settings.captureTarget=="number")return` ${o.settings.captureTarget}    `}return s?"       .   5 1  .":m.blackTurnLimit&&m.targetScore.black>0?`${m.blackTurnLimit}  ${m.targetScore.black}  `:m.targetScore.black>0&&m.targetScore.white>0?`   ${m.targetScore.black},  ${m.targetScore.white}  `:"       "};return e.jsxDEV("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-600",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-4 border-b border-gray-600 pb-3",children:[m.name," -  "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:99,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-4 text-white",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2 flex items-center gap-2",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:107,columnNumber:33},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:108,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:106,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3",children:e.jsxDEV("p",{className:"text-gray-200 font-medium",children:f()},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:111,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:110,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:105,columnNumber:25},void 0),g&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:118,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3 space-y-3",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[x>0&&e.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:[e.jsxDEV("div",{className:"relative w-16 h-16",children:e.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-black border-2 border-gray-400 flex items-center justify-center",children:e.jsxDEV("img",{src:"/images/single/BlackDouble.png",alt:" ",className:"w-12 h-12 object-contain",onError:h=>{const N=h.target;N.style.display="none";const y=N.parentElement;y&&(y.innerHTML='<span class="text-white text-xl"></span>')}},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:127,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:126,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:125,columnNumber:49},void 0),e.jsxDEV("span",{className:"text-xs text-gray-300",children:[" ",x,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:142,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:124,columnNumber:45},void 0),v>0&&e.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:[e.jsxDEV("div",{className:"relative w-16 h-16",children:e.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-white border-2 border-gray-400 flex items-center justify-center",children:e.jsxDEV("img",{src:"/images/single/WhiteDouble.png",alt:" ",className:"w-12 h-12 object-contain",onError:h=>{const N=h.target;N.style.display="none";const y=N.parentElement;y&&(y.innerHTML='<span class="text-black text-xl"></span>')}},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:150,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:149,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:148,columnNumber:49},void 0),e.jsxDEV("span",{className:"text-xs text-gray-300",children:[" ",v,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:165,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:147,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-gray-200 text-sm mb-2",children:["  ",e.jsxDEV("span",{className:"text-green-400 font-bold",children:"2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:170,columnNumber:58},void 0)," ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:169,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-gray-300 text-xs",children:["   ",e.jsxDEV("span",{className:"text-red-400 font-bold",children:"2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:173,columnNumber:64},void 0)," ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:172,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:168,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:121,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:119,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:117,columnNumber:29},void 0),m.survivalTurns&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2 flex items-center gap-2",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:185,columnNumber:37},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:186,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:184,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3",children:e.jsxDEV("p",{className:"text-gray-200",children:["(AI) ",e.jsxDEV("span",{className:"text-red-400 font-bold",children:[m.survivalTurns,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:190,columnNumber:48},void 0),"  ()   .",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:191,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-blue-400",children:"        ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:192,columnNumber:41},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:193,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-green-400",children:"    ,      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:194,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:189,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:188,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:183,columnNumber:29},void 0),s&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2 flex items-center gap-2",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:"",className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:204,columnNumber:37},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:205,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:203,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3 space-y-2",children:[e.jsxDEV("p",{className:"text-gray-200",children:["     ",e.jsxDEV("span",{className:"text-blue-300 font-semibold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:209,columnNumber:58},void 0),"   ( ) ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:208,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-gray-200",children:["   ",e.jsxDEV("span",{className:"text-green-300 font-semibold",children:"  5 1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:212,columnNumber:49},void 0),"    ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:211,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-gray-300 text-sm",children:"   ,      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:214,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:207,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:202,columnNumber:29},void 0),m.blackTurnLimit&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2 flex items-center gap-2",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:"",className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:225,columnNumber:37},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:226,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:224,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3",children:e.jsxDEV("p",{className:"text-gray-200",children:["() ",e.jsxDEV("span",{className:"text-red-400 font-bold",children:[m.blackTurnLimit,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:230,columnNumber:48},void 0),"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:229,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:228,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:223,columnNumber:29},void 0),m.autoScoringTurns&&m.autoScoringTurns>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-400 mb-2 flex items-center gap-2",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:"",className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:240,columnNumber:37},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:241,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:239,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3",children:e.jsxDEV("p",{className:"text-gray-200",children:[e.jsxDEV("span",{className:"text-blue-400 font-bold",children:[m.autoScoringTurns,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:245,columnNumber:41},void 0),"    ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:244,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:243,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:238,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:103,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-600",children:[c&&e.jsxDEV(ae,{onClick:c,colorScheme:"gray",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:255,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:a,colorScheme:"accent",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:263,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:253,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:98,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:97,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerGameDescriptionModal.tsx",lineNumber:96,columnNumber:9},void 0)},bD=[{term:"()",meaning:"   ."},{term:"()",meaning:"    ,   ."},{term:"()",meaning:"        ."},{term:"()",meaning:"        ."},{term:"()",meaning:"     ."},{term:"()",meaning:"      ."},{term:"()",meaning:",    ."},{term:"()",meaning:"      ."},{term:"()",meaning:"      ."},{term:"()",meaning:"       ."},{term:"()",meaning:"        ."},{term:"   ",meaning:"       ."}],aV=({onClose:o})=>{const[a]=b.useState(()=>Math.floor(Math.random()*bD.length)),c=bD[a];return e.jsxDEV("div",{className:"bg-gray-800/80 backdrop-blur-sm p-3 rounded-md flex-1 border border-gray-700/50 text-stone-300 flex flex-col min-h-0",children:[e.jsxDEV("h3",{className:"text-base font-bold border-b border-gray-700 pb-1 mb-2 text-amber-300 flex justify-between items-center flex-shrink-0",children:[e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:25,columnNumber:17},void 0),o&&e.jsxDEV("button",{onClick:o,className:"text-xl font-bold text-gray-400 hover:text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:26,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:24,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow flex flex-col items-center justify-center text-center min-h-0",children:[e.jsxDEV("p",{className:"text-2xl font-semibold text-stone-100",children:c.term},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:29,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-stone-300 mt-2",children:c.meaning},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:30,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerInfoPanel.tsx",lineNumber:23,columnNumber:9},void 0)},rV={gold:"",diamonds:""},gx=b.memo(({icon:o,value:a,className:c})=>{const m=b.useMemo(()=>a.toLocaleString(),[a]);return e.jsxDEV("div",{className:`flex items-center gap-1 bg-primary/40 rounded-full py-1 pl-1 pr-2 shadow-inner border border-white/5 ${c??""}`,children:[e.jsxDEV("div",{className:"bg-primary/80 w-6 h-6 flex items-center justify-center rounded-full text-xs",children:e.jsxDEV("img",{src:Jd[o],alt:rV[o],className:"w-4 h-4 object-contain",loading:"lazy",decoding:"async"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:26,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:25,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-semibold text-[11px] text-text-primary whitespace-nowrap",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:24,columnNumber:9},void 0)});gx.displayName="ResourceBadge";const ND=({session:o,gameChat:a=[],onAction:c,currentUser:m,onTogglePause:u,isPaused:p=!1,resumeCountdown:s=0,pauseButtonCooldown:x=0,onClose:v,onOpenSettings:g})=>{const{handlers:f,activeNegotiation:h,negotiations:N,onlineUsers:y,waitingRoomChats:E}=ot();if(!m)return null;const j=m.actionPoints||{current:0,max:30},U=m.gold??0,S=m.diamonds??0;return e.jsxDEV("div",{className:"flex flex-col h-full gap-1.5 bg-gray-900/80 rounded-lg p-2 border border-color",children:[g&&e.jsxDEV("div",{className:"flex-shrink-0 flex justify-end mb-1",children:e.jsxDEV("button",{onClick:g,className:"text-xl p-1.5 rounded hover:bg-gray-700/50 transition-colors",title:"",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:70,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:69,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 space-y-2",children:[e.jsxDEV(NS,{session:o,onClose:v,onOpenSettings:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:80,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 bg-gray-800/80 rounded-xl border border-stone-700 px-3 py-2 overflow-x-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-1 bg-primary/30 rounded-full border border-primary/40 px-2 py-1 shadow-inner",children:[e.jsxDEV("span",{className:"font-semibold text-[11px] text-text-primary whitespace-nowrap flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-sm leading-none",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:84,columnNumber:29},void 0),`${j.current}/${j.max}`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:83,columnNumber:25},void 0),e.jsxDEV(rS,{user:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:87,columnNumber:25},void 0),e.jsxDEV("button",{type:"button",className:"w-7 h-7 flex items-center justify-center rounded-full bg-primary/60 hover:bg-primary transition-colors border border-primary/60",onClick:()=>f.openShop("misc"),title:"  ( )",children:e.jsxDEV("img",{src:Jd.actionPlus,alt:" ",className:"w-4 h-4 object-contain",loading:"lazy",decoding:"async"},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:94,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:88,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:82,columnNumber:21},void 0),e.jsxDEV(gx,{icon:"gold",value:U},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:97,columnNumber:21},void 0),e.jsxDEV(gx,{icon:"diamonds",value:S},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:98,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:81,columnNumber:17},void 0),e.jsxDEV(aV,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:100,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 mt-2 min-h-0",children:e.jsxDEV(xS,{session:o,isSpectator:!1,onAction:c||(()=>{}),waitingRoomChat:E.global||[],gameChat:a,onViewUser:()=>{},onlineUsers:y,currentUser:m,activeNegotiation:h,negotiations:Array.isArray(N)?N:Object.values(N||{})},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:103,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:102,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-shrink-0 pt-2",children:u&&e.jsxDEV(ae,{onClick:u,colorScheme:p?"green":"yellow",className:"w-full",disabled:p&&s>0||!p&&x>0,children:p?s>0?`  (${s})`:" ":x>0?`  (${x})`:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:118,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/game/SinglePlayerSidebar.tsx",lineNumber:66,columnNumber:9},void 0)},sV=(o,a={})=>{const[c,m]=b.useState({black:o.blackTimeLeft,white:o.whiteTimeLeft});return b.useEffect(()=>{if(["ended","no_contest","scoring"].includes(o.gameStatus)){m({black:o.blackTimeLeft,white:o.whiteTimeLeft});return}if(a.isPaused)return;if(o.gameStatus==="pending"){m({black:o.blackTimeLeft,white:o.whiteTimeLeft});return}const p=o.turnDeadline||o.alkkagiTurnDeadline||o.curlingTurnDeadline||o.alkkagiPlacementDeadline||o.turnChoiceDeadline||o.guessDeadline||o.basePlacementDeadline||o.captureBidDeadline||o.itemUseDeadline;if(!p){m({black:o.blackTimeLeft,white:o.whiteTimeLeft});return}const s=["base_placement","komi_bidding","capture_bidding","alkkagi_simultaneous_placement"].includes(o.gameStatus);let x;const v=()=>{const g=Math.max(0,(p-Date.now())/1e3);s?m({black:g,white:g}):o.currentPlayer===oe.Black?m({black:g,white:o.whiteTimeLeft}):o.currentPlayer===oe.White?m({black:o.blackTimeLeft,white:g}):m({black:o.blackTimeLeft,white:o.whiteTimeLeft}),x=requestAnimationFrame(v)};return x=requestAnimationFrame(v),()=>cancelAnimationFrame(x)},[o.turnDeadline,o.alkkagiTurnDeadline,o.curlingTurnDeadline,o.alkkagiPlacementDeadline,o.turnChoiceDeadline,o.guessDeadline,o.basePlacementDeadline,o.captureBidDeadline,o.itemUseDeadline,o.currentPlayer,o.blackTimeLeft,o.whiteTimeLeft,o.gameStatus,o.id,a.isPaused]),{clientTimes:c}};function Va(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const cV=({session:o})=>{var nn,Sn,Nn,wn;const{currentUser:a,currentUserWithStatus:c,handlers:m,onlineUsers:u,waitingRoomChats:p,gameChats:s,negotiations:x,activeNegotiation:v,settings:g}=ot(),{id:f,currentPlayer:h,gameStatus:N,player1:y,player2:E,mode:j,blackPlayerId:U,whitePlayerId:S}=o;if(!(y!=null&&y.id)||!(E!=null&&E.id)||!a||!c)return e.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:51,columnNumber:16},void 0);const[M,C]=b.useState(null),[w,R]=b.useState(!1),[O,V]=b.useState(!1),[$,z]=b.useState(!1),[P,G]=b.useState(null),[q,B]=b.useState(!1),[X,H]=b.useState(!1),[Q,Z]=b.useState(0),ne=b.useRef(null),le=b.useRef(null),[L,ue]=b.useState(0),pe=sV(o,o.isSinglePlayer?{isPaused:X}:{}),ie=Va(N);Va(h);const fe=Va(o.captures),W=Va((nn=o.animation)==null?void 0:nn.type),Pe=b.useRef(!1),me=Va((Sn=o.moveHistory)==null?void 0:Sn.length),de=b.useMemo(()=>(c==null?void 0:c.status)==="spectating",[c]),Ge=o.isSinglePlayer,[ve,an]=b.useState(window.innerWidth<1024),[ye,De]=b.useState(!1),[We,Ie]=b.useState(!1),Je=b.useMemo(()=>s[o.id]||[],[s,o.id]),K=Va(Je.length);b.useEffect(()=>{const on=()=>an(window.innerWidth<1024);return window.addEventListener("resize",on),()=>window.removeEventListener("resize",on)},[]),b.useEffect(()=>{!ye&&K!==void 0&&Je.length>K&&Ie(!0)},[Je.length,K,ye]);const J=()=>{De(!0),Ie(!1)};b.useEffect(()=>{((N==="ended"||N==="no_contest")&&ie!=="ended"&&ie!=="no_contest"&&ie!=="rematch_pending"||N==="scoring"&&ie!=="scoring"&&ie!=="ended")&&(R(!0),N==="ended"&&V(!0))},[N,ie]);const ke=b.useMemo(()=>{var on;return de?oe.None:U===a.id?oe.Black:S===a.id?oe.White:(j===I.Base||j===I.Mix&&((on=o.settings.mixedModes)!=null&&on.includes(I.Base)))&&N==="base_placement"?a.id===y.id?oe.Black:oe.White:oe.None},[a.id,U,S,de,j,N,y.id,E.id,o.settings.mixedModes]),Te=b.useMemo(()=>{var on,$n;if(de)return!1;if(N==="alkkagi_simultaneous_placement"&&o.settings.alkkagiPlacementType===" "){const mt=(o.alkkagiStones||[]).filter(It=>It.player===ke).length,Bt=((on=a.id===y.id?o.alkkagiStones_p1:o.alkkagiStones_p2)==null?void 0:on.length)||0;return mt+Bt<(o.settings.alkkagiStoneCount||5)}switch(N){case"dice_turn_rolling":return(($n=o.turnOrderRolls)==null?void 0:$n[a.id])===null;case"dice_turn_choice":return o.turnChooserId===a.id;case"playing":case"hidden_placing":case"scanning":case"missile_selecting":case"alkkagi_placement":case"alkkagi_playing":case"curling_playing":case"dice_rolling":case"dice_placing":case"thief_rolling":case"thief_placing":return ke!==oe.None&&ke===h;case"base_placement":{const mt=a.id===y.id?o.baseStones_p1:o.baseStones_p2;return((mt==null?void 0:mt.length)||0)<(o.settings.baseStones||4)}default:return!1}},[ke,h,N,de,o,a.id,y.id,o.settings]),be=Va(Te);b.useEffect(()=>{Te&&!be&&[I.Dice,I.Thief,I.Alkkagi,I.Curling].includes(o.mode)&&et.myTurn()},[Te,be,o.mode]);const Ce=Va(o.lastMove);b.useEffect(()=>{o.lastMove&&o.lastMove.x!==-1&&JSON.stringify(o.lastMove)!==JSON.stringify(Ce)&&(st.some($n=>$n.mode===o.mode)||[I.Omok,I.Ttamok,I.Dice,I.Thief].includes(o.mode))&&et.placeStone()},[o.lastMove,Ce,o.mode]),b.useEffect(()=>{},[o.captures,fe,o.justCaptured,o.blackPlayerId,a.id]),b.useEffect(()=>(N==="scanning"&&ie!=="scanning"?et.playScanBgm():N!=="scanning"&&ie==="scanning"&&et.stopScanBgm(),()=>{N==="scanning"&&et.stopScanBgm()}),[N,ie]),b.useEffect(()=>{const on=o.animation;if(on&&on.type!==W)switch(on.type){case"missile":case"hidden_missile":et.launchMissile();break;case"hidden_reveal":$||et.revealHiddenStone();break;case"scan":z(!0),setTimeout(()=>z(!1),1e3),on.success?et.scanSuccess():et.scanFail();break}},[o.animation,W,$]),b.useEffect(()=>{const on=["playing","alkkagi_placement","alkkagi_simultaneous_placement","curling_playing","dice_rolling","thief_rolling"];on.includes(N)&&(ie===void 0||!on.includes(ie))&&et.gameStart()},[N,ie]),b.useEffect(()=>()=>et.stopScanBgm(),[]),b.useEffect(()=>{const on=["ended","no_contest","scoring"].includes(N),$n=me!==void 0&&o.moveHistory&&o.moveHistory.length>me;if((!Te||$n||on)&&Pe.current&&(et.stopTimerWarning(),Pe.current=!1),Te&&!on){const mt=ke===oe.Black?pe.clientTimes.black:pe.clientTimes.white;mt<=10&&mt>0&&!Pe.current&&(et.timerWarning(),Pe.current=!0)}},[Te,pe.clientTimes,ke,o.moveHistory,me,N]);const Re=["hidden_placing","scanning","missile_selecting","missile_animating","scanning_animating"].includes(N),Ze=b.useCallback((on,$n)=>{if(et.stopTimerWarning(),de||N==="missile_animating"||o.isSinglePlayer&&X)return;if(ve&&g.features.mobileConfirm&&Te&&!Re){if(P&&P.x===on&&P.y===$n)return;G({x:on,y:$n});return}let mt=null,Bt={gameId:f,x:on,y:$n};if((j===I.Omok||j===I.Ttamok)&&N==="playing"&&Te)mt="OMOK_PLACE_STONE";else if(N==="scanning"&&Te)et.stopScanBgm(),mt="SCAN_BOARD";else if(N==="base_placement"){const It=a.id===y.id?o.baseStones_p1:o.baseStones_p2;((It==null?void 0:It.length)||0)<(o.settings.baseStones||4)&&(mt="PLACE_BASE_STONE")}else["playing","hidden_placing"].includes(N)&&Te&&(mt="PLACE_STONE",Bt.isHidden=N==="hidden_placing",Bt.isHidden&&et.stopScanBgm());mt&&m.handleAction({type:mt,payload:Bt})},[de,N,Te,f,m.handleAction,a.id,y.id,o.baseStones_p1,o.baseStones_p2,o.settings.baseStones,j,ve,g.features.mobileConfirm,P,Re,o.isSinglePlayer,X]),Se=b.useCallback(()=>{if(et.stopTimerWarning(),!P)return;let on=null,$n={gameId:f,x:P.x,y:P.y};(j===I.Omok||j===I.Ttamok)&&N==="playing"&&Te?on="OMOK_PLACE_STONE":["playing","hidden_placing"].includes(N)&&Te&&(on="PLACE_STONE",$n.isHidden=N==="hidden_placing"),on&&m.handleAction({type:on,payload:$n}),G(null)},[P,f,m,N,Te,j]),Fe=b.useCallback(()=>G(null),[]),tn=b.useCallback(()=>{le.current&&(clearInterval(le.current),le.current=null)},[]),Rn=b.useCallback(()=>{if(X&&!(Q>0)){if(H(!1),Z(0),ue(5),ne.current){const on=Date.now()-ne.current;ne.current=null;const $n=o.turnDeadline?o.turnDeadline+on:void 0,mt=o.itemUseDeadline?o.itemUseDeadline+on:void 0,Bt=o.basePlacementDeadline?o.basePlacementDeadline+on:void 0;($n||mt||Bt)&&(o.turnDeadline=$n??o.turnDeadline,o.itemUseDeadline=mt??o.itemUseDeadline,o.basePlacementDeadline=Bt??o.basePlacementDeadline)}tn()}},[X,Q,tn,o]),Dn=b.useCallback(()=>{X||L>0||(et.stopTimerWarning(),ne.current=Date.now(),H(!0),Z(5),tn(),le.current=setInterval(()=>{Z(on=>on<=1?(tn(),0):on-1)},1e3))},[X,L,tn]),Ue=b.useCallback(()=>{o.isSinglePlayer&&(X?Rn():Dn())},[X,Dn,Rn,o.isSinglePlayer]);b.useEffect(()=>{if(L<=0)return;const on=setInterval(()=>{ue($n=>$n<=1?(clearInterval(on),0):$n-1)},1e3);return()=>clearInterval(on)},[L]);const Be=b.useMemo(()=>{var on,$n;return((on=o.analysisResult)==null?void 0:on[a.id])??(["ended","no_contest"].includes(N)?($n=o.analysisResult)==null?void 0:$n.system:null)},[o.analysisResult,a.id,N]),qe=b.useMemo(()=>{var on;return de||o.isAiGame?!1:!!((on=o.canRequestNoContest)!=null&&on[a.id])},[o.canRequestNoContest,a.id,de,o.isAiGame]),Ee=b.useCallback(()=>{if(de){m.handleAction({type:"LEAVE_SPECTATING"});return}if(["ended","no_contest","rematch_pending"].includes(N)){const on=o.isAiGame?"LEAVE_AI_GAME":"LEAVE_GAME_ROOM";o.isSinglePlayer&&sessionStorage.setItem("postGameRedirect","#/singleplayer"),m.handleAction({type:on,payload:{gameId:f}});return}qe?window.confirm("       ?")&&m.handleAction({type:"REQUEST_NO_CONTEST_LEAVE",payload:{gameId:f}}):C("resign")},[de,m.handleAction,o.isAiGame,o.isSinglePlayer,f,N,qe]);b.useEffect(()=>()=>{tn()},[tn]),b.useEffect(()=>{o.isSinglePlayer&&X&&["ended","no_contest"].includes(N)&&Rn()},[o.isSinglePlayer,X,N,Rn]),b.useEffect(()=>{H(!1),Z(0),ue(0),ne.current=null,tn()},[o.id,tn]);const ze=b.useMemo(()=>p.global||[],[p]),ln=b.useCallback(()=>{R(!1),V(!1)},[]),yn=Ge&&N==="pending";b.useEffect(()=>{Ge&&console.log("[Game] Single player game status:",{gameStatus:N,isSinglePlayer:Ge,showGameDescription:yn,gameId:o.id,stageId:o.stageId})},[Ge,N,yn,o.id,o.stageId]);const Ln=b.useCallback(()=>{m.handleAction({type:"CONFIRM_SINGLE_PLAYER_GAME_START",payload:{gameId:f}})},[m.handleAction,f]),Bn={session:o,onAction:m.handleAction,currentUser:c,waitingRoomChat:ze,gameChat:Je,isSpectator:de,onlineUsers:u,activeNegotiation:v,negotiations:Object.values(x),onViewUser:m.openViewingUser},zn={session:o,isMyTurn:Te,isSpectator:de,onAction:m.handleAction,setShowResultModal:R,setConfirmModalType:C,currentUser:c,onlineUsers:u,pendingMove:P,onConfirmMove:Se,onCancelMove:Fe,settings:g,isMobile:ve};if(Ge)return e.jsxDEV("div",{className:"w-full h-dvh flex flex-col p-1 lg:p-2 relative max-w-full bg-single-player-background text-stone-200",children:[yn&&e.jsxDEV(lV,{session:o,onStart:Ln},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:441,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col lg:flex-row gap-2 min-h-0",children:[e.jsxDEV("main",{className:"flex-1 flex items-center justify-center min-w-0 min-h-0",children:e.jsxDEV("div",{className:"w-full h-full max-h-full max-w-full lg:max-w-[calc(100vh-8rem)] flex flex-col items-center gap-1 lg:gap-2",children:[e.jsxDEV("div",{className:"flex-shrink-0 w-full flex items-center gap-2",children:e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV(aD,{...Bn,clientTimes:pe.clientTimes,isSinglePlayer:!0,isMobile:ve},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:451,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:450,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:449,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 w-full relative",children:e.jsxDEV("div",{className:"absolute inset-0",children:e.jsxDEV(oD,{...Bn,isMyTurn:Te,myPlayerEnum:ke,handleBoardClick:Ze,isItemModeActive:Re,showTerritoryOverlay:O,isMobile:ve,myRevealedMoves:((Nn=o.revealedHiddenMoves)==null?void 0:Nn[a.id])||[],showLastMoveMarker:g.features.lastMoveMarker,isSinglePlayerPaused:X,resumeCountdown:Q},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:456,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:455,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:454,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-shrink-0 w-full flex flex-col gap-1",children:[e.jsxDEV(fD,{session:o,isPaused:X,isMobile:ve,onOpenSidebar:()=>De(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:472,columnNumber:33},void 0),e.jsxDEV(pD,{...zn,isSinglePlayer:!0,isSinglePlayerPaused:X},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:478,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:471,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:448,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:447,columnNumber:21},void 0),!ve&&e.jsxDEV("div",{className:"w-full lg:w-[320px] xl:w-[360px] flex-shrink-0",children:e.jsxDEV(ND,{session:o,gameChat:Je,onAction:m.handleAction,currentUser:c,isPaused:X,resumeCountdown:Q,pauseButtonCooldown:L,onTogglePause:Ue,onOpenSettings:m.openSettingsModal},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:485,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:484,columnNumber:25},void 0),ve&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[280px] bg-secondary shadow-2xl z-50 transition-transform duration-300 ease-in-out ${ye?"translate-x-0":"translate-x-full"}`,children:e.jsxDEV(ND,{session:o,gameChat:Je,onAction:m.handleAction,currentUser:c,onClose:()=>De(!1),onOpenSettings:m.openSettingsModal,isPaused:X,resumeCountdown:Q,pauseButtonCooldown:L,onTogglePause:Ue},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:502,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:501,columnNumber:29},void 0),ye&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>De(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:515,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:500,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:446,columnNumber:17},void 0),e.jsxDEV(uD,{...Bn,confirmModalType:M,onHideConfirmModal:()=>C(null),showResultModal:w,onCloseResults:ln},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:520,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:439,columnNumber:13},void 0);const Xe=b.useMemo(()=>st.some(on=>on.mode===j)?"bg-strategic-background":dt.some(on=>on.mode===j)?"bg-playful-background":"bg-tertiary",[j]);return e.jsxDEV("div",{className:`w-full h-dvh flex flex-col p-1 lg:p-2 relative max-w-full ${Xe}`,children:[o.disconnectionState&&e.jsxDEV(iV,{session:o,currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:544,columnNumber:44},void 0),o.gameStatus==="scoring"&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-30",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-gray-100 mb-4"},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:547,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-white",children:" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:548,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:546,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col lg:flex-row gap-2 min-h-0",children:[e.jsxDEV("main",{className:"flex-1 flex items-center justify-center min-w-0 min-h-0",children:e.jsxDEV("div",{className:"w-full h-full max-h-full max-w-full lg:max-w-[calc(100vh-8rem)] flex flex-col items-center gap-1 lg:gap-2",children:[e.jsxDEV("div",{className:"flex-shrink-0 w-full flex items-center gap-2",children:e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV(aD,{...Bn,clientTimes:pe.clientTimes,isMobile:ve},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:556,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:555,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:554,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 w-full relative",children:e.jsxDEV("div",{className:"absolute inset-0",children:e.jsxDEV(oD,{...Bn,isMyTurn:Te,myPlayerEnum:ke,handleBoardClick:Ze,isItemModeActive:Re,showTerritoryOverlay:O,isMobile:ve,myRevealedMoves:((wn=o.revealedHiddenMoves)==null?void 0:wn[a.id])||[],showLastMoveMarker:g.features.lastMoveMarker},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:561,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:560,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:559,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-shrink-0 w-full flex flex-col gap-1",children:[e.jsxDEV(fD,{session:o,isMobile:ve,onOpenSidebar:ve?J:void 0,sidebarNotification:We},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:575,columnNumber:29},void 0),e.jsxDEV(pD,{...zn},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:581,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:574,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:553,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:552,columnNumber:17},void 0),!ve&&e.jsxDEV("div",{className:"w-full lg:w-[320px] xl:w-[360px] flex-shrink-0",children:e.jsxDEV(iD,{...Bn,onLeaveOrResign:Ee,isNoContestLeaveAvailable:qe,onOpenSettings:m.openSettingsModal},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:588,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:587,columnNumber:22},void 0),ve&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[280px] bg-secondary shadow-2xl z-50 transition-transform duration-300 ease-in-out ${ye?"translate-x-0":"translate-x-full"}`,children:e.jsxDEV(iD,{...Bn,onLeaveOrResign:Ee,isNoContestLeaveAvailable:qe,onClose:()=>De(!1),onOpenSettings:m.openSettingsModal},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:600,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:599,columnNumber:25},void 0),ye&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>De(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:608,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:598,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:551,columnNumber:13},void 0),q&&Be&&e.jsxDEV(K3,{session:o,result:Be,onClose:()=>B(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:614,columnNumber:17},void 0),e.jsxDEV(uD,{...Bn,confirmModalType:M,onHideConfirmModal:()=>C(null),showResultModal:w,onCloseResults:ln},void 0,!1,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:617,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/Game.tsx",lineNumber:543,columnNumber:9},void 0)},mV=({onNavigate:o,onBackToProfile:a,liveGames:c,onAction:m,currentUser:u})=>{const p=x=>{window.confirm(`[${x.player1.nickname} vs ${x.player2.nickname}]   ?`)&&m({type:"ADMIN_FORCE_DELETE_GAME",payload:{gameId:x.id}})},s=x=>{const g={neighborhood:"",national:"",world:""}[x];window.confirm(`${g}    ?`)&&m({type:"ADMIN_RESET_TOURNAMENT_SESSION",payload:{targetUserId:u.id,tournamentType:x}})};return e.jsxDEV("div",{className:"bg-primary text-primary",children:[e.jsxDEV("header",{className:"flex justify-between items-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:41,columnNumber:17},void 0),e.jsxDEV("button",{onClick:a,className:"p-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:43,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:42,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{onClick:()=>o("userManagement"),className:"bg-blue-800/50 hover:bg-blue-700/50 p-6 rounded-lg shadow-lg cursor-pointer transition-all transform hover:-translate-y-1 border border-color",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-blue-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:48,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-gray-400",children:"  ,  ,    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:49,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:47,columnNumber:17},void 0),e.jsxDEV("div",{onClick:()=>o("mailSystem"),className:"bg-green-800/50 hover:bg-green-700/50 p-6 rounded-lg shadow-lg cursor-pointer transition-all transform hover:-translate-y-1 border border-color",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-green-300",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:52,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-gray-400",children:"      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:53,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:51,columnNumber:17},void 0),e.jsxDEV("div",{onClick:()=>o("serverSettings"),className:"bg-yellow-800/50 hover:bg-yellow-700/50 p-6 rounded-lg shadow-lg cursor-pointer transition-all transform hover:-translate-y-1 border border-color",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-yellow-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:56,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-gray-400",children:",        ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:57,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:55,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-8 bg-panel border border-color p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2 text-on-panel",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:62,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400 mb-4",children:"         ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV(ae,{onClick:()=>s("neighborhood"),colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:65,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>s("national"),colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:72,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>s("world"),colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:79,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:61,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-8 bg-panel border border-color p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2 text-on-panel",children:["  (",c.length,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:90,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-[40vh] overflow-y-auto",children:e.jsxDEV("table",{className:"w-full text-sm text-left text-secondary",children:[e.jsxDEV("thead",{className:"text-xs text-secondary uppercase bg-secondary sticky top-0",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{scope:"col",className:"px-4 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:95,columnNumber:33},void 0),e.jsxDEV("th",{scope:"col",className:"px-4 py-3",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:96,columnNumber:33},void 0),e.jsxDEV("th",{scope:"col",className:"px-4 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:97,columnNumber:33},void 0),e.jsxDEV("th",{scope:"col",className:"px-4 py-3",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:98,columnNumber:33},void 0),e.jsxDEV("th",{scope:"col",className:"px-4 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:99,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:94,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:93,columnNumber:25},void 0),e.jsxDEV("tbody",{children:c.map(x=>e.jsxDEV("tr",{className:"bg-primary border-b border-color hover:bg-secondary/50",children:[e.jsxDEV("td",{className:"px-4 py-4 font-medium text-primary whitespace-nowrap",children:[x.player1.nickname," vs ",x.player2.nickname]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:105,columnNumber:37},void 0),e.jsxDEV("td",{className:"px-4 py-4",children:x.mode},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:106,columnNumber:37},void 0),e.jsxDEV("td",{className:"px-4 py-4",children:x.gameStatus},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:107,columnNumber:37},void 0),e.jsxDEV("td",{className:"px-4 py-4",children:new Date(x.createdAt).toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:108,columnNumber:37},void 0),e.jsxDEV("td",{className:"px-4 py-4",children:e.jsxDEV("button",{onClick:()=>p(x),className:"font-medium text-red-500 hover:underline",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:110,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:109,columnNumber:37},void 0)]},x.id,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:104,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:102,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:92,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:91,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/AdminDashboard.tsx",lineNumber:39,columnNumber:9},void 0)},uV=({user:o,currentUser:a,onClose:c,onAction:m})=>{var w,R,O;const[u,p]=b.useState(JSON.parse(JSON.stringify(o))),[s,x]=b.useState("general"),v=V=>{const{name:$,value:z}=V.target;p(P=>({...P,[$]:Number(z)}))},g=V=>{const{name:$,value:z}=V.target;p(P=>({...P,[$]:z}))},f=V=>{const{name:$,checked:z}=V.target;p(P=>({...P,[$]:z}))},h=(V,$)=>{p(z=>{const P={...z.stats||{}};return P[V]||(P[V]={wins:0,losses:0,rankingScore:1200}),P[V].rankingScore=Number($),{...z,stats:P}})},N=(V,$,z,P)=>{p(G=>{const q=JSON.parse(JSON.stringify(G.quests||{}));if(q[V]&&q[V].quests){const B=q[V].quests.find(X=>X.id===$);B&&(B[z]=P)}return{...G,quests:q}})},y=(V,$)=>{p(z=>{const P=JSON.parse(JSON.stringify(z.quests||{}));return P[V]?P[V].activityProgress=$:P[V]||(P[V]={quests:[],activityProgress:$,claimedMilestones:[!1,!1,!1,!1,!1],lastReset:0}),{...z,quests:P}})},E=(V,$,z)=>{p(P=>{const G=JSON.parse(JSON.stringify(P.quests||{}));return G[V]&&G[V].claimedMilestones&&(G[V].claimedMilestones[$]=z),{...P,quests:G}})},j=()=>{m({type:"ADMIN_UPDATE_USER_DETAILS",payload:{targetUserId:o.id,updatedDetails:u}}),c()},U=V=>{const $=V==="full"?` [${o.nickname}]     ?`:` [${o.nickname}]    ?`;window.confirm($)&&m({type:"ADMIN_RESET_USER_DATA",payload:{targetUserId:o.id,resetType:V}})},S=()=>{window.confirm(` [${o.nickname}]   ?`)&&(m({type:"ADMIN_DELETE_USER",payload:{targetUserId:o.id}}),c())},M=V=>e.jsxDEV("div",{className:"space-y-2",children:V.map(({mode:$})=>{var z,P;return e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{className:"text-secondary col-span-1",children:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:106,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",value:((P=(z=u.stats)==null?void 0:z[$])==null?void 0:P.rankingScore)??1200,onChange:G=>h($,G.target.value),className:"bg-tertiary p-1 rounded col-span-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:107,columnNumber:21},void 0)]},$,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:105,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:103,columnNumber:9},void 0),C=({title:V,questType:$,questData:z})=>e.jsxDEV("div",{className:"bg-tertiary/50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-highlight mb-2",children:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:120,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("label",{className:"text-sm font-medium text-secondary whitespace-nowrap",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:122,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:(z==null?void 0:z.activityProgress)||0,onChange:P=>y($,parseInt(P.target.value,10)||0),className:"bg-secondary p-1 rounded w-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxDEV("label",{className:"text-sm font-medium text-secondary whitespace-nowrap",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-wrap",children:Array.from({length:5}).map((P,G)=>{var q;return e.jsxDEV("label",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV("input",{type:"checkbox",checked:((q=z==null?void 0:z.claimedMilestones)==null?void 0:q[G])||!1,onChange:B=>E($,G,B.target.checked),className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:130,columnNumber:29},void 0),G+1]},G,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:129,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 border-t border-color pt-2",children:((z==null?void 0:z.quests)||[]).map(P=>e.jsxDEV("div",{className:"bg-primary/50 p-2 rounded-md text-xs",children:[e.jsxDEV("p",{className:"font-semibold truncate",title:P.title,children:P.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:139,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between gap-2 mt-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:142,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:P.progress,onChange:G=>N($,P.id,"progress",parseInt(G.target.value,10)||0),className:"w-16 bg-secondary p-0.5 rounded text-center"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:143,columnNumber:33},void 0),e.jsxDEV("span",{children:["/ ",P.target]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:144,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:141,columnNumber:29},void 0),e.jsxDEV("label",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"checkbox",checked:P.isClaimed,onChange:G=>N($,P.id,"isClaimed",G.target.checked),className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:147,columnNumber:33},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:148,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:146,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:140,columnNumber:25},void 0)]},P.id,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:138,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:136,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:119,columnNumber:9},void 0);return e.jsxDEV(mn,{title:`  : ${o.nickname}`,onClose:c,windowId:`user-edit-${o.id}`,initialWidth:600,children:e.jsxDEV("div",{className:"flex flex-col h-[60vh]",children:[e.jsxDEV("div",{className:"flex border-b border-color mb-4",children:[e.jsxDEV("button",{onClick:()=>x("general"),className:`px-4 py-2 ${s==="general"?"border-b-2 border-accent text-primary":"text-tertiary"}`,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:161,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("strategic"),className:`px-4 py-2 ${s==="strategic"?"border-b-2 border-accent text-primary":"text-tertiary"}`,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:162,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("playful"),className:`px-4 py-2 ${s==="playful"?"border-b-2 border-accent text-primary":"text-tertiary"}`,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:163,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("quests"),className:`px-4 py-2 ${s==="quests"?"border-b-2 border-accent text-primary":"text-tertiary"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:164,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("danger"),className:`px-4 py-2 ${s==="danger"?"border-b-2 border-danger text-danger":"text-tertiary"}`,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:165,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2",children:[s==="general"&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:171,columnNumber:69},void 0),e.jsxDEV("input",{type:"text",name:"nickname",value:u.nickname,onChange:g,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:171,columnNumber:87},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:171,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:172,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"strategyLevel",value:u.strategyLevel,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:172,columnNumber:89},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:172,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:" XP"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:173,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"strategyXp",value:u.strategyXp,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:173,columnNumber:89},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:173,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:174,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"playfulLevel",value:u.playfulLevel,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:174,columnNumber:89},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:174,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:" XP"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:175,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"playfulXp",value:u.playfulXp,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:175,columnNumber:89},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:175,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:176,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"gold",value:u.gold,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:176,columnNumber:86},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:176,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:177,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"diamonds",value:u.diamonds,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:177,columnNumber:87},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:177,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:178,columnNumber:69},void 0),e.jsxDEV("input",{type:"number",name:"mannerScore",value:u.mannerScore,onChange:v,className:"bg-tertiary p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:178,columnNumber:89},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:178,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center",children:[e.jsxDEV("label",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:180,columnNumber:33},void 0),e.jsxDEV("input",{type:"checkbox",name:"isAdmin",checked:!!u.isAdmin,onChange:f,className:"w-5 h-5",disabled:o.id===a.id,title:o.id===a.id?"     .":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:181,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:179,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:170,columnNumber:25},void 0),s==="strategic"&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center font-bold text-sm mb-2 px-1",children:[e.jsxDEV("span",{className:"col-span-1",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:194,columnNumber:107},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:194,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:194,columnNumber:26},void 0),s==="strategic"&&M(st),s==="playful"&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 items-center font-bold text-sm mb-2 px-1",children:[e.jsxDEV("span",{className:"col-span-1",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:198,columnNumber:107},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:198,columnNumber:148},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:198,columnNumber:26},void 0),s==="playful"&&M(dt),s==="quests"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(C,{title:" ",questType:"daily",questData:(w=u.quests)==null?void 0:w.daily},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:203,columnNumber:28},void 0),e.jsxDEV(C,{title:" ",questType:"weekly",questData:(R=u.quests)==null?void 0:R.weekly},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:204,columnNumber:28},void 0),e.jsxDEV(C,{title:" ",questType:"monthly",questData:(O=u.quests)==null?void 0:O.monthly},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:205,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:202,columnNumber:25},void 0),s==="danger"&&e.jsxDEV("div",{className:"space-y-4 p-4 border border-danger/50 rounded-lg",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-danger",children:":    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:210,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>U("stats"),colorScheme:"yellow",className:"w-full",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:211,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>U("full"),colorScheme:"orange",className:"w-full",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:212,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:S,colorScheme:"red",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:213,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-6 pt-6 border-t border-color",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-yellow-400 mb-3",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:216,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400 mb-4",children:"       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:217,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ae,{onClick:()=>{window.confirm(`[${o.nickname}]      ?`)&&m({type:"ADMIN_RESET_TOURNAMENT_SESSION",payload:{targetUserId:o.id,tournamentType:"neighborhood"}})},colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:219,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>{window.confirm(`[${o.nickname}]      ?`)&&m({type:"ADMIN_RESET_TOURNAMENT_SESSION",payload:{targetUserId:o.id,tournamentType:"national"}})},colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:230,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>{window.confirm(`[${o.nickname}]      ?`)&&m({type:"ADMIN_RESET_TOURNAMENT_SESSION",payload:{targetUserId:o.id,tournamentType:"world"}})},colorScheme:"purple",className:"w-full",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:241,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:218,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:215,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:209,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-4 mt-4 pt-4 border-t border-color",children:[e.jsxDEV(ae,{onClick:c,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:259,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:j,colorScheme:"green",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:260,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:258,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:159,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:158,columnNumber:9},void 0)},dV=({allUsers:o,onAction:a,onBack:c,currentUser:m})=>{const{handlers:u}=ot(),[p,s]=b.useState(""),[x,v]=b.useState(null),[g,f]=b.useState(""),[h,N]=b.useState(""),[y,E]=b.useState(""),j=S=>{if(S.preventDefault(),!g||!h||!y){alert("  .");return}a({type:"ADMIN_CREATE_USER",payload:{username:g,password:h,nickname:y}}),f(""),N(""),E("")},U=b.useMemo(()=>{if(!p.trim())return o;const S=p.toLowerCase();return o.filter(M=>M.nickname.toLowerCase().includes(S)||M.username.toLowerCase().includes(S))},[o,p]);return e.jsxDEV("div",{className:"space-y-8 bg-primary text-primary",children:[x&&e.jsxDEV(uV,{user:x,currentUser:m,onClose:()=>v(null),onAction:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:299,columnNumber:30},void 0),e.jsxDEV("header",{className:"flex justify-between items-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:301,columnNumber:17},void 0),e.jsxDEV("button",{onClick:c,className:"p-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:302,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:300,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2 bg-panel border border-color text-on-panel p-6 rounded-lg shadow-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:["  (",U.length,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:310,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",placeholder:"   ...",value:p,onChange:S=>s(S.target.value),className:"bg-secondary border border-color text-primary text-sm rounded-lg focus:ring-accent focus:border-accent w-1/3 p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:311,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:309,columnNumber:21},void 0),e.jsxDEV("div",{className:"max-h-[60vh] overflow-y-auto",children:e.jsxDEV("table",{className:"w-full text-sm text-left text-secondary",children:[e.jsxDEV("thead",{className:"text-xs text-secondary uppercase bg-secondary sticky top-0",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{scope:"col",className:"px-6 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:317,columnNumber:37},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:318,columnNumber:37},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3",children:" (/)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:319,columnNumber:37},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:320,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:316,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:315,columnNumber:29},void 0),e.jsxDEV("tbody",{children:U.map(S=>e.jsxDEV("tr",{className:"bg-primary border-b border-color hover:bg-secondary/50",children:[e.jsxDEV("th",{scope:"row",className:"px-6 py-4 font-medium text-primary whitespace-nowrap cursor-pointer hover:text-accent",onClick:()=>u.openViewingUser(S.id),title:`${S.nickname}  `,children:[S.nickname," ",S.isAdmin&&e.jsxDEV("span",{className:"text-xs text-purple-400 ml-2",children:"[]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:332,columnNumber:78},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:326,columnNumber:41},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:S.username},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:334,columnNumber:41},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:["S.",S.strategyLevel," / P.",S.playfulLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:335,columnNumber:41},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("button",{onClick:M=>{M.stopPropagation(),v(S)},className:"font-medium text-blue-500 hover:underline",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:337,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:336,columnNumber:41},void 0)]},S.id,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:325,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:323,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:314,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:313,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:308,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:346,columnNumber:21},void 0),e.jsxDEV("form",{onSubmit:j,className:"space-y-4",children:[e.jsxDEV("input",{type:"text",name:"username",value:g,onChange:S=>f(S.target.value),placeholder:"",className:"bg-secondary border border-color text-primary text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:348,columnNumber:25},void 0),e.jsxDEV("input",{type:"password",name:"password",value:h,onChange:S=>N(S.target.value),placeholder:"",className:"bg-secondary border border-color text-primary text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:349,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",name:"nickname",value:y,onChange:S=>E(S.target.value),placeholder:"",className:"bg-secondary border border-color text-primary text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:350,columnNumber:25},void 0),e.jsxDEV(ae,{type:"submit",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:351,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:347,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:345,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:307,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/UserManagementPanel.tsx",lineNumber:298,columnNumber:9},void 0)},fV=({onAddItem:o,onClose:a})=>{const[c,m]=b.useState("equipment"),[u,p]=b.useState(null),[s,x]=b.useState(1),v=b.useMemo(()=>{switch(c){case"equipment":return Dx;case"consumable":return vl;case"material":return Object.values(ui);default:return[]}},[c]),g=()=>{u&&s>0&&(o({...u,quantity:s}),p(null),x(1))};return e.jsxDEV(mn,{title:" ",onClose:a,windowId:"mail-item-selection",initialWidth:600,children:e.jsxDEV("div",{className:"h-[60vh] flex flex-col",children:[e.jsxDEV("div",{className:"flex bg-tertiary/70 p-1 rounded-lg mb-4 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>m("equipment"),className:`flex-1 py-2 text-sm font-semibold rounded-md ${c==="equipment"?"bg-accent":"text-tertiary"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:41,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>m("consumable"),className:`flex-1 py-2 text-sm font-semibold rounded-md ${c==="consumable"?"bg-accent":"text-tertiary"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:42,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>m("material"),className:`flex-1 py-2 text-sm font-semibold rounded-md ${c==="material"?"bg-accent":"text-tertiary"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:43,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:40,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2 grid grid-cols-4 gap-2",children:v.map(f=>e.jsxDEV("div",{onClick:()=>p({name:f.name,type:f.type}),className:`p-2 rounded-lg border-2 ${(u==null?void 0:u.name)===f.name?"border-accent ring-2 ring-accent":"border-color bg-secondary/50"} cursor-pointer flex flex-col items-center`,children:[e.jsxDEV("img",{src:f.image,alt:f.name,className:"w-16 h-16 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:52,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs text-center mt-1",children:f.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:53,columnNumber:29},void 0)]},f.name,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:47,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:45,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 mt-4 pt-4 border-t border-color flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{children:": "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:59,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",value:s,onChange:f=>x(Math.max(1,parseInt(f.target.value,10)||1)),className:"bg-tertiary w-20 p-1 rounded"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:60,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:58,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:g,disabled:!u,children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:62,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:39,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:38,columnNumber:9},void 0)},pV=({allUsers:o,onAction:a,onBack:c})=>{const[m,u]=b.useState("all"),[p,s]=b.useState(""),[x,v]=b.useState(""),[g,f]=b.useState(""),[h,N]=b.useState(0),[y,E]=b.useState(0),[j,U]=b.useState(0),[S,M]=b.useState(7),[C,w]=b.useState([]),[R,O]=b.useState(!1),[V,$]=b.useState([]),z=G=>{const q=G.target.value;if(s(q),q.length>1){const B=o.filter(X=>X.nickname.toLowerCase().includes(q.toLowerCase())||X.username.toLowerCase().includes(q.toLowerCase())).map(X=>X.nickname).slice(0,5);w(B)}else w([])},P=G=>{if(G.preventDefault(),!x.trim()||!g.trim()){alert("   .");return}if(m==="specific"&&!p.trim()){alert("       .");return}a({type:"ADMIN_SEND_MAIL",payload:{targetSpecifier:m==="all"?"all":p,title:x,message:g,expiresInDays:S,attachments:{gold:h,diamonds:y,actionPoints:j,items:V}}}),v(""),f(""),N(0),E(0),U(0),M(7),s(""),$([])};return e.jsxDEV("div",{className:"max-w-4xl mx-auto bg-primary text-primary",children:[R&&e.jsxDEV(fV,{onClose:()=>O(!1),onAddItem:G=>$(q=>[...q,G])},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:138,columnNumber:33},void 0),e.jsxDEV("header",{className:"flex justify-between items-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:140,columnNumber:17},void 0),e.jsxDEV("button",{onClick:c,className:"p-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:142,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:141,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-panel border border-color p-6 rounded-lg shadow-lg text-on-panel",children:e.jsxDEV("form",{onSubmit:P,className:"space-y-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:149,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"radio",name:"targetType",value:"all",checked:m==="all",onChange:()=>u("all"),className:"mr-2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:151,columnNumber:66},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:151,columnNumber:29},void 0),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"radio",name:"targetType",value:"specific",checked:m==="specific",onChange:()=>u("specific"),className:"mr-2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:152,columnNumber:66},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:152,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:150,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:148,columnNumber:21},void 0),m==="specific"&&e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:158,columnNumber:29},void 0),e.jsxDEV("input",{type:"text",value:p,onChange:z,className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5",required:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:159,columnNumber:29},void 0),C.length>0&&e.jsxDEV("ul",{className:"absolute z-10 w-full bg-secondary border border-color rounded-lg mt-1",children:C.map(G=>e.jsxDEV("li",{onClick:()=>{s(G),w([])},className:"px-4 py-2 hover:bg-accent cursor-pointer",children:G},G,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:169,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:167,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:157,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:177,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",value:x,onChange:G=>v(G.target.value),required:!0,className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:178,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:176,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:181,columnNumber:25},void 0),e.jsxDEV("textarea",{value:g,onChange:G=>f(G.target.value),rows:4,required:!0,className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:182,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:180,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:"  (0 = )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:185,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",min:"0",value:S,onChange:G=>M(parseInt(G.target.value,10)||0),className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:186,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:184,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:191,columnNumber:29},void 0),e.jsxDEV("input",{type:"number",min:"0",value:j,onChange:G=>U(parseInt(G.target.value,10)||0),className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:192,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:190,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:195,columnNumber:29},void 0),e.jsxDEV("input",{type:"number",min:"0",value:h,onChange:G=>N(parseInt(G.target.value,10)||0),className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:196,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:194,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block mb-1 font-medium text-secondary",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:199,columnNumber:29},void 0),e.jsxDEV("input",{type:"number",min:"0",value:y,onChange:G=>E(parseInt(G.target.value,10)||0),className:"bg-secondary border border-color text-primary rounded-lg block w-full p-2.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:200,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:198,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:189,columnNumber:21},void 0),e.jsxDEV("div",{className:"pt-2 border-t border-color",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("label",{className:"block font-medium text-secondary",children:["  (",V.length,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:206,columnNumber:30},void 0),e.jsxDEV(ae,{type:"button",onClick:()=>O(!0),colorScheme:"blue",className:"!py-1 !text-xs",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:207,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:205,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-tertiary/50 p-2 rounded-md min-h-[50px] space-y-1",children:[V.map((G,q)=>e.jsxDEV("div",{className:"flex justify-between items-center bg-primary/50 p-1 rounded",children:[e.jsxDEV("span",{children:[G.name," x ",G.quantity]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:212,columnNumber:37},void 0),e.jsxDEV("button",{type:"button",onClick:()=>$(B=>B.filter((X,H)=>H!==q)),className:"text-red-500 hover:text-red-400 font-bold px-2",children:"X"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:213,columnNumber:37},void 0)]},q,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:211,columnNumber:33},void 0)),V.length===0&&e.jsxDEV("p",{className:"text-tertiary text-center text-xs py-2",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:216,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:209,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:204,columnNumber:21},void 0),e.jsxDEV(ae,{type:"submit",className:"w-full py-3",colorScheme:"green",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:221,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:147,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/MailSystemPanel.tsx",lineNumber:137,columnNumber:9},void 0)},bV=o=>{const{gameModeAvailability:a,announcements:c,globalOverrideAnnouncement:m,announcementInterval:u,onAction:p,onBack:s}=o,[x,v]=b.useState(""),[g,f]=b.useState((m==null?void 0:m.message)||""),[h,N]=b.useState(c),[y,E]=b.useState(u),j=b.useRef(null),U=b.useRef(null);b.useEffect(()=>{N(c)},[c]),b.useEffect(()=>{E(u)},[u]),b.useEffect(()=>{f((m==null?void 0:m.message)||"")},[m]);const S=()=>{if(j.current===null||U.current===null||j.current===U.current){j.current=null,U.current=null;return}const R=[...h],O=R.splice(j.current,1)[0];R.splice(U.current,0,O),j.current=null,U.current=null,N(R),p({type:"ADMIN_REORDER_ANNOUNCEMENTS",payload:{announcements:R}})},M=R=>{R.preventDefault(),x.trim()&&(p({type:"ADMIN_ADD_ANNOUNCEMENT",payload:{message:x}}),v(""))},C=R=>{R.preventDefault(),g.trim()&&p({type:"ADMIN_SET_OVERRIDE_ANNOUNCEMENT",payload:{message:g}})},w=b.useMemo(()=>[...st,...dt],[]);return e.jsxDEV("div",{className:"space-y-8 bg-primary text-primary",children:[e.jsxDEV("header",{className:"flex justify-between items-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:62,columnNumber:17},void 0),e.jsxDEV("button",{onClick:s,className:"p-0 flex items-center justify-center w-10 h-10 rounded-full transition-all duration-100 active:shadow-inner active:scale-95 active:translate-y-0.5",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:64,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:63,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:61,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"space-y-8",children:e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:72,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:w.map(R=>e.jsxDEV("label",{className:"flex items-center gap-2 p-2 bg-secondary/50 rounded-md",children:[e.jsxDEV("input",{type:"checkbox",checked:a[R.mode]??R.available,onChange:O=>p({type:"ADMIN_TOGGLE_GAME_MODE",payload:{mode:R.mode,isAvailable:O.target.checked}}),className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:76,columnNumber:37},void 0),e.jsxDEV("span",{children:R.mode},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:77,columnNumber:37},void 0)]},R.mode,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:75,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:73,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:71,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:87,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:h.map((R,O)=>e.jsxDEV("div",{draggable:!0,onDragStart:()=>j.current=O,onDragEnter:()=>U.current=O,onDragEnd:S,onDragOver:V=>V.preventDefault(),className:"flex items-center justify-between p-2 bg-secondary/50 rounded-md cursor-grab",children:[e.jsxDEV("span",{className:"text-sm",children:R.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:91,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>p({type:"ADMIN_REMOVE_ANNOUNCEMENT",payload:{id:R.id}}),className:"text-red-500 hover:text-red-400 font-bold",children:"X"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:92,columnNumber:37},void 0)]},R.id,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:90,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:88,columnNumber:25},void 0),e.jsxDEV("form",{onSubmit:M,className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:x,onChange:R=>v(R.target.value),placeholder:" ...",className:"flex-grow bg-secondary border border-color rounded-lg p-2 text-sm"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:97,columnNumber:29},void 0),e.jsxDEV(ae,{type:"submit",colorScheme:"green",className:"!text-sm",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:98,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:96,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxDEV("label",{className:"text-sm",children:"():"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:101,columnNumber:29},void 0),e.jsxDEV("input",{type:"number",min:"1",max:"60",value:y,onChange:R=>E(parseInt(R.target.value,10)),className:"w-20 bg-secondary border border-color rounded-lg p-1 text-sm"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:102,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>p({type:"ADMIN_SET_ANNOUNCEMENT_INTERVAL",payload:{interval:y}}),className:"!text-xs",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:103,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:100,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:86,columnNumber:22},void 0),e.jsxDEV("div",{className:"bg-panel border border-color text-on-panel p-6 rounded-lg shadow-lg",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-4 border-b border-color pb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:107,columnNumber:25},void 0),e.jsxDEV("form",{onSubmit:C,className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:g,onChange:R=>f(R.target.value),placeholder:"  ...",className:"flex-grow bg-secondary border border-color rounded-lg p-2 text-sm"},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:109,columnNumber:29},void 0),e.jsxDEV(ae,{type:"submit",colorScheme:"yellow",className:"!text-sm",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:110,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:108,columnNumber:25},void 0),m&&e.jsxDEV(ae,{onClick:()=>p({type:"ADMIN_CLEAR_OVERRIDE_ANNOUNCEMENT"}),colorScheme:"red",className:"mt-2 w-full !text-sm",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:112,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:106,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/admin/ServerSettingsPanel.tsx",lineNumber:60,columnNumber:9},void 0)},NV=()=>{const[o,a]=b.useState("dashboard"),{currentUserWithStatus:c,allUsers:m,liveGames:u,adminLogs:p,gameModeAvailability:s,announcements:x,globalOverrideAnnouncement:v,announcementInterval:g,handlers:f}=ot(),h=()=>{o==="dashboard"?window.location.hash="#/profile":a("dashboard")},N={currentUser:c,allUsers:m,liveGames:Object.values(u),adminLogs:p,onAction:f.handleAction,onBack:h,gameModeAvailability:s,announcements:x,globalOverrideAnnouncement:v,announcementInterval:g},y=()=>{switch(o){case"userManagement":return e.jsxDEV(dV,{...N},void 0,!1,{fileName:"C:/project/SUDAMR/components/Admin.tsx",lineNumber:38,columnNumber:24},void 0);case"mailSystem":return e.jsxDEV(pV,{...N},void 0,!1,{fileName:"C:/project/SUDAMR/components/Admin.tsx",lineNumber:40,columnNumber:24},void 0);case"serverSettings":return e.jsxDEV(bV,{...N},void 0,!1,{fileName:"C:/project/SUDAMR/components/Admin.tsx",lineNumber:42,columnNumber:24},void 0);case"dashboard":default:return e.jsxDEV(mV,{onNavigate:a,onBackToProfile:h,...N},void 0,!1,{fileName:"C:/project/SUDAMR/components/Admin.tsx",lineNumber:45,columnNumber:24},void 0)}};return e.jsxDEV("div",{className:"p-4 lg:p-8",children:y()},void 0,!1,{fileName:"C:/project/SUDAMR/components/Admin.tsx",lineNumber:50,columnNumber:9},void 0)},xV=9*60*60*1e3,zd=(o=Date.now())=>{const a=typeof o=="number"?o:o.getTime();return new Date(a+xV)},gV=(o,a)=>{if(!o||o===0)return!1;const c=zd(o),m=zd(a);return c.getUTCFullYear()===m.getUTCFullYear()&&c.getUTCMonth()===m.getUTCMonth()&&c.getUTCDate()===m.getUTCDate()},hV=(o,a)=>{if(!o||o===0)return!0;const c=zd(o),m=zd(a);if(c.getUTCFullYear()!==m.getUTCFullYear())return!0;const u=c.getUTCDay(),p=c.getUTCDate()-u+(u===0?-6:1),s=new Date(c);s.setUTCDate(p),s.setUTCHours(0,0,0,0);const x=m.getUTCDay(),v=m.getUTCDate()-x+(x===0?-6:1),g=new Date(m);return g.setUTCDate(v),g.setUTCHours(0,0,0,0),s.getTime()!==g.getTime()},vV=(o,a)=>o===a?`${o}`:`${o}-${a}`,yV=(o,a)=>{if(a==="promote"&&o===rt.Challenger)return"";switch(a){case"promote":return"";case"maintain":return"";case"demote":return"";default:return""}},DV=(o,a)=>{const c={promote:[],maintain:[],demote:[]};a.forEach(u=>{c[u.outcome].push(vV(u.rankStart,u.rankEnd))});const m=[];return["promote","maintain","demote"].forEach(u=>{if(c[u].length>0){const p=yV(o,u);m.push(`${p}: ${c[u].join(", ")}`)}}),m.join(" / ")},SV=({onClose:o,isTopmost:a})=>{const c=m=>{const u=m.rankStart===m.rankEnd?`${m.rankStart}`:`${m.rankStart}-${m.rankEnd}`;let p="",s="";switch(m.outcome){case"promote":p="",s="text-green-400";break;case"maintain":p="",s="text-gray-400";break;case"demote":p="",s="text-red-400";break}return e.jsxDEV("li",{className:"flex justify-between items-center bg-gray-700/50 px-3 py-1.5 rounded-md",children:[e.jsxDEV("span",{className:"font-semibold",children:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:79,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"flex items-center gap-1 text-yellow-300",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:82,columnNumber:25},void 0),m.diamonds]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:81,columnNumber:21},void 0),e.jsxDEV("span",{className:`font-bold w-12 text-center ${s}`,children:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:85,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:80,columnNumber:17},void 0)]},m.rankStart,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:78,columnNumber:13},void 0)};return e.jsxDEV(mn,{title:"  ",onClose:o,windowId:"league-tier-info-modal",initialWidth:550,isTopmost:a,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-300 text-center",children:" 16      ,      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:94,columnNumber:17},void 0),e.jsxDEV("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:jr.map(m=>{const u=mw[m.tier];return e.jsxDEV("li",{className:"p-3 bg-gray-900/50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("img",{src:m.icon,alt:m.name,className:"w-12 h-12 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:104,columnNumber:36},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-bold",children:m.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:106,columnNumber:38},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:"    (    )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:107,columnNumber:38},void 0),e.jsxDEV("p",{className:"text-[11px] text-gray-500 mt-1",children:DV(m.tier,u)},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:108,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:105,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:103,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-700/50",children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-400 mb-1.5",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:114,columnNumber:36},void 0),e.jsxDEV("ul",{className:"space-y-1 text-xs",children:u.map(c)},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:115,columnNumber:36},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:113,columnNumber:33},void 0)]},m.tier,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:102,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:98,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:93,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/LeagueTierInfoModal.tsx",lineNumber:92,columnNumber:9},void 0)},xD=()=>{const o=[{type:"neighborhood",arena:"",title:""},{type:"national",arena:"",title:""},{type:"world",arena:"",title:""}];return e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 h-full flex flex-col",children:[e.jsxDEV("h3",{className:"text-base font-bold text-center mb-3 flex-shrink-0",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:14,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-1 space-y-3",children:o.map(a=>{const c=eS[a.type],m=Object.keys(c).map(Number).sort((u,p)=>u-p);return e.jsxDEV("div",{className:"bg-gray-900/50 p-2 rounded-md shadow-inner",children:[e.jsxDEV("h4",{className:"text-sm font-bold text-accent mb-1.5 border-b border-accent/50 pb-0.5",children:a.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:22,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-2 gap-y-0.5",children:m.map(u=>{const p=c[u],s=u===1?"text-yellow-400":u===2?"text-gray-400":u===3?"text-amber-600":"text-gray-300",x=u===5&&a.type==="world"?"8 ":u===9&&a.type==="world"?"16 ":u===5&&a.type==="national"?"8 ":`${u}`;return e.jsxDEV("div",{className:"flex justify-between items-center text-xs",children:[e.jsxDEV("span",{className:"font-semibold truncate",children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:33,columnNumber:45},void 0),e.jsxDEV("span",{className:`font-bold ${s} flex-shrink-0 ml-1`,children:[p,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:34,columnNumber:45},void 0)]},u,!0,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:32,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:23,columnNumber:29},void 0)]},a.arena,!0,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:21,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:15,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PointsInfoPanel.tsx",lineNumber:13,columnNumber:9},void 0)},jV=({onClose:o,isTopmost:a})=>e.jsxDEV(mn,{title:" ",onClose:o,windowId:"championship-help",initialWidth:700,isTopmost:a,children:e.jsxDEV("div",{className:"max-h-[70vh] overflow-y-auto pr-2 text-gray-300",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/championship/Champ1.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:15,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:17,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm mb-2",children:"  0()    .   , ,      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:18,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:16,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:14,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/championship/Champ1.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:26,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:28,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"6    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:30,columnNumber:33},void 0),e.jsxDEV("li",{children:"5  ,     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:31,columnNumber:33},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:32,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:33,columnNumber:33},void 0),e.jsxDEV("li",{children:"  0    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:34,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:29,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:27,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:25,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxDEV("img",{src:"/images/championship/Champ2.png",alt:"",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:41,columnNumber:29},void 0),e.jsxDEV("img",{src:"/images/championship/Champ3.png",alt:"",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:42,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:40,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" / "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:45,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"   (8, 4,  )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:47,columnNumber:33},void 0),e.jsxDEV("li",{children:" ,     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:48,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:49,columnNumber:33},void 0),e.jsxDEV("li",{children:"     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:50,columnNumber:33},void 0),e.jsxDEV("li",{children:"    ,   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:51,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:46,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:44,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:39,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/PlayingArena.png",alt:" ",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:57,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"50  , // "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:61,columnNumber:33},void 0),e.jsxDEV("li",{children:" : , , "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:62,columnNumber:33},void 0),e.jsxDEV("li",{children:" : , , , "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:63,columnNumber:33},void 0),e.jsxDEV("li",{children:" : , , "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:64,columnNumber:33},void 0),e.jsxDEV("li",{children:"5 30%    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:65,columnNumber:33},void 0),e.jsxDEV("li",{children:"     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:66,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:58,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:56,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/use/con1.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:72,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:74,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"   40~100    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:76,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:77,columnNumber:33},void 0),e.jsxDEV("li",{children:"    (    )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:78,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:75,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:73,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:71,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/championship/Ranking.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:84,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:86,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:88,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:89,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:90,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:87,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:83,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:13,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:12,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChampionshipHelpModal.tsx",lineNumber:11,columnNumber:9},void 0),gD=o=>{let a=0;if(o.length===0)return a;for(let c=0;c<o.length;c++){const m=o.charCodeAt(c);a=(a<<5)-a+m,a|=0}return a},ax=o=>{const a=Math.sin(o)*1e4;return a-Math.floor(a)},hD=({setHasRankChanged:o})=>{const{currentUserWithStatus:a,allUsers:c,handlers:m}=ot(),u=b.useRef(null),[p,s]=b.useState(""),[x,v]=b.useState(()=>{const h=Date.now(),N=new Date(h+324e5);return new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime()});b.useEffect(()=>{const h=setInterval(()=>{const N=Date.now(),y=new Date(N+324e5),E=new Date(y.getFullYear(),y.getMonth(),y.getDate()).getTime();E!==x&&v(E)},6e4);return()=>clearInterval(h)},[x]),b.useEffect(()=>{const f=()=>{const N=new Date,y=N.getDay(),E=y===0?1:8-y,j=new Date(N.getFullYear(),N.getMonth(),N.getDate()+E);j.setHours(0,0,0,0);const U=j.getTime()-N.getTime(),S=Math.floor(U/(1e3*60*60*24)),M=Math.floor(U%(1e3*60*60*24)/(1e3*60*60)),C=Math.floor(U%(1e3*60*60)/(1e3*60)),w=Math.floor(U%(1e3*60)/1e3);s(`${S}D ${String(M).padStart(2,"0")}:${String(C).padStart(2,"0")}:${String(w).padStart(2,"0")}`)};f();const h=setInterval(f,1e3);return()=>clearInterval(h)},[]);const g=b.useMemo(()=>{var j,U;if(!(a!=null&&a.weeklyCompetitors))return[];const f=9*60*60*1e3,h=a.lastWeeklyCompetitorsUpdate||x,N=new Date(h+f);N.setHours(0,0,0,0),Math.max(0,x-N.getTime());let y=a.weeklyCompetitors.map(S=>{var M,C;if(S.id.startsWith("bot-")){const R=((C=(M=a.weeklyCompetitorsBotScores)==null?void 0:M[S.id])==null?void 0:C.score)||0,O=R-S.initialScore;return{...S,liveScore:R,scoreChange:O}}else{const w=c.find(V=>V.id===S.id),R=w?w.tournamentScore:S.initialScore,O=R-S.initialScore;return{...S,liveScore:R,scoreChange:O}}});const E=16;if(y.length<E){const S=E-y.length;for(let M=0;M<S;M++){const C=`bot-${x}-${M}`,w=gD(C),R=0,O=Jn[Math.floor(ax(w+1)*Jn.length)],V=Zn[Math.floor(ax(w+2)*Zn.length)],z=((U=(j=a.weeklyCompetitorsBotScores)==null?void 0:j[C])==null?void 0:U.score)||0,P=z-R,G=["","","","","","","","","","","","","","100%","","","","",""];let q=`Bot ${M+1}`;const B=y.filter(H=>H.id.startsWith("bot-")).map(H=>H.nickname),X=G.filter(H=>!B.includes(H));if(X.length>0){const H=gD(C+"nickname");q=X[Math.floor(ax(H)*X.length)]}else G.length>0&&(q=`${G[M%G.length]} ${Math.floor(Math.random()*100)}`);y.push({id:C,nickname:q,avatarId:O.id,borderId:V.id,initialScore:R,liveScore:z,scoreChange:P,league:a.league})}}return y.sort((S,M)=>M.liveScore-S.liveScore)},[a==null?void 0:a.weeklyCompetitors,a==null?void 0:a.lastWeeklyCompetitorsUpdate,c,x]);return b.useEffect(()=>{if(!a)return;const f=g.findIndex(h=>h.id===a.id)+1;f>0&&(u.current!==null&&u.current!==f&&o(!0),u.current=f)},[g,a,o]),!a||!a.weeklyCompetitors||a.weeklyCompetitors.length===0?e.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 flex flex-col shadow-lg h-full min-h-0 items-center justify-center text-gray-500",children:"     ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:174,columnNumber:14},void 0):e.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 flex flex-col shadow-lg h-full min-h-0",children:[e.jsxDEV("div",{className:"flex-shrink-0 text-center mb-3 border-b border-gray-700 pb-2",children:[e.jsxDEV("h2",{className:"text-xl font-bold",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-yellow-300 font-mono",children:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:184,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:182,columnNumber:13},void 0),e.jsxDEV("ul",{className:"space-y-1.5 overflow-y-auto pr-2 flex-grow min-h-0",children:g.map((f,h)=>{var C,w;const N=h+1,y=f.id===a.id,E=f.scoreChange>0?"text-green-400":f.scoreChange<0?"text-red-400":"text-gray-400",j=f.scoreChange>0?"":f.scoreChange<0?"":"",U=(C=Jn.find(R=>R.id===f.avatarId))==null?void 0:C.url,S=(w=Zn.find(R=>R.id===f.borderId))==null?void 0:w.url,M=!y&&!f.id.startsWith("bot-");return e.jsxDEV("li",{className:`flex items-center gap-3 p-1.5 rounded-md ${y?"bg-blue-900/50":"bg-gray-900/50"} ${M?"transition-colors cursor-pointer hover:bg-gray-700/50":""}`,onClick:M?()=>m.openViewingUser(f.id):void 0,title:M?`${f.nickname}  `:"",children:[e.jsxDEV("span",{className:"font-bold text-lg w-6 text-center flex-shrink-0",children:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:204,columnNumber:29},void 0),e.jsxDEV(_n,{userId:f.id,userName:f.nickname,avatarUrl:U,borderUrl:S,size:28},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:205,columnNumber:30},void 0),e.jsxDEV("span",{className:"flex-grow font-semibold text-sm truncate",children:f.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:206,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-baseline gap-1 text-xs",children:[e.jsxDEV("span",{className:"font-mono text-yellow-300",children:f.liveScore.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:208,columnNumber:33},void 0),e.jsxDEV("span",{className:E,children:f.scoreChange===0?`(${j})`:`(${j}${Math.abs(f.scoreChange)})`},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:209,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:207,columnNumber:29},void 0)]},f.id,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:198,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:186,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:181,columnNumber:10},void 0)},vD=({user:o,rank:a,isMyRankDisplay:c})=>{var M,C;const{currentUserWithStatus:m,handlers:u}=ot();if(!m)return null;const p=o.tournamentScore||0,s=b.useMemo(()=>a===1?e.jsxDEV("span",{className:"text-3xl",role:"img","aria-label":"Gold Trophy",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:234,columnNumber:32},void 0):a===2?e.jsxDEV("span",{className:"text-3xl",role:"img","aria-label":"Silver Trophy",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:235,columnNumber:32},void 0):a===3?e.jsxDEV("span",{className:"text-3xl",role:"img","aria-label":"Bronze Trophy",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:236,columnNumber:32},void 0):e.jsxDEV("span",{className:"text-2xl font-bold text-gray-300",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:237,columnNumber:16},void 0),[a]),x=!c&&o.id===m.id,v="flex items-center rounded-lg",g="bg-yellow-900/40 border border-yellow-700",f="bg-blue-900/60 border border-blue-600",h="bg-gray-900/50",N=!c&&o.id!==m.id,y=`${v} ${c?g:x?f:h} p-1.5 lg:p-2 ${N?"cursor-pointer hover:bg-gray-700/50":""}`,E=(M=Jn.find(w=>w.id===o.avatarId))==null?void 0:M.url,j=(C=Zn.find(w=>w.id===o.borderId))==null?void 0:C.url,U=jr.find(w=>w.tier===o.league),S=U==null?void 0:U.icon;return e.jsxDEV("li",{className:y,onClick:N?()=>u.openViewingUser(o.id):void 0,title:N?`${o.nickname}  `:"",children:[e.jsxDEV("div",{className:"w-12 text-center flex-shrink-0 flex flex-col items-center justify-center",children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:259,columnNumber:13},void 0),S&&e.jsxDEV("img",{src:S,alt:o.league,className:"w-8 h-8 mr-2 flex-shrink-0",title:o.league},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:262,columnNumber:27},void 0),e.jsxDEV(_n,{userId:o.id,userName:o.nickname,size:32,avatarUrl:E,borderUrl:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:263,columnNumber:13},void 0),e.jsxDEV("div",{className:"ml-2 lg:ml-3 flex-grow overflow-hidden",children:[e.jsxDEV("p",{className:"font-semibold text-sm truncate",children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:265,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-yellow-400 font-mono",children:[p.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:266,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:264,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:254,columnNumber:9},void 0)},yD=({compactTierIcons:o=!1})=>{const{currentUserWithStatus:a,allUsers:c,handlers:m}=ot(),[u,p]=b.useState(jr[0].tier),[s,x]=b.useState(!1);b.useEffect(()=>{a!=null&&a.league&&p(a.league)},[a==null?void 0:a.league]);const v=b.useMemo(()=>a?[...c].filter(h=>h.league===u&&typeof h.tournamentScore=="number").sort((h,N)=>N.tournamentScore-h.tournamentScore):[],[c,u,a]),g=b.useMemo(()=>{if(!a)return{rank:-1,user:null};const h=[...c].filter(y=>y.league===a.league&&typeof y.tournamentScore=="number").sort((y,E)=>E.tournamentScore-y.tournamentScore),N=h.findIndex(y=>y.id===a.id);return{rank:N!==-1?N+1:-1,user:N!==-1?h[N]:null}},[c,a]);if(!a)return e.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 flex flex-col shadow-lg h-full min-h-0 items-center justify-center text-gray-500",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:304,columnNumber:14},void 0);const f=v.slice(0,100);return e.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 flex flex-col shadow-lg h-full min-h-0",children:[s&&e.jsxDEV(SV,{onClose:()=>x(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:314,columnNumber:43},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-3 border-b border-gray-700 pb-2 flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-xl font-bold",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:316,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>x(!0),className:"text-xs bg-gray-600 hover:bg-gray-500 text-white font-bold px-2 py-1 rounded-md transition-colors",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:317,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV("div",{className:`flex flex-wrap justify-start bg-gray-900/50 p-1 rounded-lg mb-3 flex-shrink-0 ${o?"gap-0.5":"gap-1"} tier-tabs-container`,children:jr.map(h=>e.jsxDEV("button",{onClick:()=>p(h.tier),className:`p-0.5 rounded-md transition-all duration-200 flex-shrink-0 ${o?"min-w-[30px]":""} ${u===h.tier?"bg-purple-600 ring-2 ring-purple-400":"hover:bg-gray-600"}`,title:h.name,children:e.jsxDEV("img",{src:h.icon,alt:h.name,className:o?"w-6 h-6 sm:w-7 sm:h-7":"w-8 h-8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:332,columnNumber:25},void 0)},h.tier,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:326,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:324,columnNumber:13},void 0),g.user&&e.jsxDEV("div",{className:"flex-shrink-0 mb-3",children:e.jsxDEV(vD,{user:g.user,rank:g.rank,isMyRankDisplay:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:342,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:341,columnNumber:15},void 0),e.jsxDEV("ul",{className:"space-y-2 overflow-y-auto pr-2 flex-grow min-h-0",children:f.length>0?f.map((h,N)=>e.jsxDEV(vD,{user:h,rank:N+1,isMyRankDisplay:!1},h.id,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:346,columnNumber:71},void 0)):e.jsxDEV("p",{className:"text-center text-gray-500 pt-8",children:[u,"    ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:347,columnNumber:21},void 0)},u,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:313,columnNumber:9},void 0)},rx=({type:o,onClick:a,onContinue:c,inProgress:m,currentUser:u})=>{const p=ws[o],s=m&&m.status==="round_in_progress",x=m&&(m.status==="complete"||m.status==="eliminated"),v=m&&!x&&(m.status==="bracket_ready"||m.status==="round_complete"),g=Date.now();let f,h;switch(o){case"neighborhood":f="lastNeighborhoodPlayedDate",h="neighborhoodRewardClaimed";break;case"national":f="lastNationalPlayedDate",h="nationalRewardClaimed";break;case"world":f="lastWorldPlayedDate",h="worldRewardClaimed";break}const N=u[f],E=N&&gV(N,g)?0:1,j=u[h],U=x&&!j;let S="",M=a;return m&&(s?S=" ":x?S=" ":v&&(S=""),M=c),e.jsxDEV("div",{className:"group bg-gray-800 rounded-lg p-2 sm:p-3 flex flex-col text-center transition-all transform hover:-translate-y-1 shadow-lg hover:shadow-purple-500/30 cursor-pointer h-full relative",onClick:M,children:[U&&e.jsxDEV("div",{className:"absolute top-1.5 right-1.5 sm:top-2 sm:right-2 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-red-500 rounded-full z-10 border-2 border-gray-800"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:415,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-1.5 sm:mb-2",children:[e.jsxDEV("h2",{className:"text-xs sm:text-sm lg:text-lg font-bold",children:p.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:418,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-[10px] sm:text-xs text-gray-400",children:["(",E,"/1)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:419,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:417,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full aspect-video bg-gray-700 rounded-md flex items-center justify-center text-gray-500 overflow-hidden relative flex-grow",children:e.jsxDEV("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:422,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:421,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-bold text-[10px] sm:text-xs lg:text-sm mt-1.5 sm:mt-2 text-yellow-300",children:[S," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:424,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:409,columnNumber:9},void 0)},sx=o=>o||null,MV={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},CV=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-purple-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},RV={[_.Concentration]:"",[_.ThinkingSpeed]:"",[_.Judgment]:"",[_.Calculation]:"",[_.CombatPower]:"",[_.Stability]:""},DD=({currentUser:o})=>{const{coreStatBonuses:a}=b.useMemo(()=>Kd(o),[o]);return e.jsxDEV("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:Object.values(_).map(c=>{var s;const m=(o.baseStats[c]||0)+(((s=o.spentStatPoints)==null?void 0:s[c])||0),u=Math.floor((m+a[c].flat)*(1+a[c].percent/100)),p=u-m;return e.jsxDEV("div",{className:"bg-gray-700/50 p-1.5 sm:p-2 rounded-md flex items-center justify-between text-[10px] sm:text-xs",children:[e.jsxDEV("span",{className:"font-semibold text-gray-300",children:RV[c]},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:489,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-mono font-bold",title:`: ${m}, : ${p}`,children:[u,p>0&&e.jsxDEV("span",{className:"text-green-400 text-[9px] sm:text-xs ml-0.5",children:["(+",p,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:492,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:490,columnNumber:25},void 0)]},c,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:488,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:481,columnNumber:9},void 0)},SD=({slot:o,item:a,onClick:c})=>{const m=a&&c?"cursor-pointer hover:scale-105 transition-transform":"";if(a){const u=hl[a.grade],p=`${a.name} (  : ${u}) -  `,s=CV(a.stars);return e.jsxDEV("div",{className:`relative w-full aspect-square rounded-lg border-2 border-gray-600/50 bg-gray-700/50 ${m}`,title:p,onClick:c,children:[e.jsxDEV("img",{src:MV[a.grade],alt:a.grade,className:"absolute inset-0 w-full h-full object-cover rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:514,columnNumber:17},void 0),a.stars>0&&e.jsxDEV("div",{className:`absolute top-1 right-1.5 text-sm font-bold z-10 ${s.colorClass}`,style:{textShadow:"1px 1px 2px black"},children:["",a.stars]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:516,columnNumber:21},void 0),a.image&&e.jsxDEV("img",{src:a.image,alt:a.name,className:"relative w-full h-full object-contain p-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:520,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:509,columnNumber:13},void 0)}else return e.jsxDEV("img",{src:wm[o],alt:`${o} empty slot`,className:"w-full aspect-square rounded-lg bg-gray-700/50 border-2 border-gray-600/50"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:525,columnNumber:14},void 0)},EV=()=>{const{currentUserWithStatus:o,allUsers:a,handlers:c,waitingRoomChats:m,presets:u}=ot(),[p,s]=b.useState(null),[x,v]=b.useState(window.innerWidth<1024),[g,f]=b.useState(!1),[h,N]=b.useState(!1),[y,E]=b.useState(null),[j,U]=b.useState(0),[S,M]=b.useState(!1);if(b.useEffect(()=>{const q=()=>v(window.innerWidth<1024);return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),!o)return e.jsxDEV("div",{className:"p-4 sm:p-6 lg:p-8 max-w-screen-2xl mx-auto flex flex-col h-[calc(100vh-5rem)] relative text-gray-500 items-center justify-center",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:549,columnNumber:13},void 0);const C=sx(o.lastNeighborhoodTournament),w=sx(o.lastNationalTournament),R=sx(o.lastWorldTournament),O=b.useCallback(async q=>{await c.handleAction({type:"START_TOURNAMENT_SESSION",payload:{type:q}}),window.location.hash=`#/tournament/${q}`},[c]),V=b.useCallback(async q=>{await c.handleAction({type:"START_TOURNAMENT_ROUND",payload:{type:q}}),window.location.hash=`#/tournament/${q}`},[c]),$=b.useMemo(()=>o!=null&&o.inventory?o.inventory.filter(q=>q.isEquipped):[],[o==null?void 0:o.inventory]),z=q=>$.find(B=>B.slot===q),P=q=>{const B=Number(q.target.value);U(B);const X=u==null?void 0:u[B];X?c.applyPreset(X):u&&c.applyPreset({name:` ${B+1}`,equipment:{}})},G=x?"min-h-screen overflow-y-auto":"h-[calc(100vh-5rem)] overflow-hidden";return e.jsxDEV("div",{className:`p-4 sm:p-6 lg:p-8 w-full flex flex-col relative ${G}`,children:[e.jsxDEV("header",{className:"flex justify-between items-center mb-4 sm:mb-6 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>window.location.hash="#/profile",className:"transition-transform active:scale-90 filter hover:drop-shadow-lg",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:598,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:597,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 text-center flex items-center justify-center gap-3",children:[e.jsxDEV("h1",{className:"text-xl sm:text-2xl lg:text-4xl font-bold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:601,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>M(!0),className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center transition-transform hover:scale-110","aria-label":"",title:"",children:e.jsxDEV("img",{src:"/images/button/help.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:608,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:602,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:600,columnNumber:17},void 0),x?e.jsxDEV("button",{onClick:()=>f(!0),className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center bg-gray-800/80 backdrop-blur-sm rounded-lg hover:bg-gray-700/80 transition-colors","aria-label":" ",children:e.jsxDEV("span",{className:"text-lg sm:text-2xl font-bold text-white",children:"<"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:617,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:612,columnNumber:21},void 0):e.jsxDEV("div",{className:"w-10"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:620,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:596,columnNumber:13},void 0),e.jsxDEV("div",{className:`${x?"":"flex-1"} flex flex-col lg:flex-row gap-6 min-h-0 ${x?"":"overflow-hidden"}`,children:[e.jsxDEV("main",{className:"flex-grow flex flex-col gap-6 min-h-0 overflow-hidden",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[e.jsxDEV(rx,{type:"neighborhood",onClick:()=>O("neighborhood"),onContinue:()=>V("neighborhood"),inProgress:C||null,currentUser:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:627,columnNumber:25},void 0),e.jsxDEV(rx,{type:"national",onClick:()=>O("national"),onContinue:()=>V("national"),inProgress:w||null,currentUser:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:628,columnNumber:25},void 0),e.jsxDEV(rx,{type:"world",onClick:()=>O("world"),onContinue:()=>V("world"),inProgress:R||null,currentUser:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:629,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:626,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col lg:grid lg:grid-cols-12 gap-3 sm:gap-4 lg:gap-6 min-h-0 overflow-hidden",children:[e.jsxDEV("div",{className:"lg:hidden grid grid-cols-2 gap-3 sm:gap-4 flex-shrink-0",children:[e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-2 sm:p-3 shadow-lg min-h-0 flex flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex flex-col gap-2 h-full min-h-0",children:[e.jsxDEV("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2",children:["fan","top","bottom","board","bowl","stones"].map(q=>{const B=z(q);return e.jsxDEV("div",{className:"w-full",children:e.jsxDEV(SD,{slot:q,item:B,onClick:()=>B&&c.openViewingItem(B,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:647,columnNumber:57},void 0)},q,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:646,columnNumber:53},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:642,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV(ae,{onClick:c.openEquipmentEffectsModal,colorScheme:"blue",className:"!text-[10px] sm:!text-xs w-full !py-1 !px-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:657,columnNumber:45},void 0),e.jsxDEV("div",{children:e.jsxDEV("select",{value:j,onChange:P,className:"bg-gray-700 border border-gray-600 text-[10px] sm:text-xs rounded-md p-1 sm:p-1.5 focus:ring-purple-500 focus:border-purple-500 w-full text-gray-200",children:u&&u.map((q,B)=>e.jsxDEV("option",{value:B,children:q.name},B,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:671,columnNumber:57},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:665,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:664,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:656,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:641,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 flex-1 min-h-0",children:e.jsxDEV("div",{className:"flex-1 min-h-0",children:e.jsxDEV(DD,{currentUser:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:681,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:680,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:679,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:639,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:638,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col min-h-0 overflow-hidden",children:e.jsxDEV(xD,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:689,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:688,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:636,columnNumber:25},void 0),e.jsxDEV("div",{className:`flex-1 lg:col-span-6 bg-gray-800/50 rounded-lg shadow-lg min-h-0 flex flex-col overflow-hidden ${x?"min-h-[240px]":""}`,children:e.jsxDEV(Um,{messages:m.global||[],mode:"global",onAction:c.handleAction,onViewUser:c.openViewingUser,locationPrefix:"[]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:695,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:694,columnNumber:25},void 0),e.jsxDEV("div",{className:"hidden lg:flex col-span-3 bg-gray-800/50 rounded-lg p-4 shadow-lg min-h-0 flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex flex-col gap-4 h-full min-h-0",children:[e.jsxDEV("div",{className:"flex flex-col gap-3 flex-shrink-0",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["fan","top","bottom","board","bowl","stones"].map(q=>{const B=z(q);return e.jsxDEV("div",{className:"w-full",children:e.jsxDEV(SD,{slot:q,item:B,onClick:()=>B&&c.openViewingItem(B,!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:714,columnNumber:53},void 0)},q,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:713,columnNumber:49},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:709,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(ae,{onClick:c.openEquipmentEffectsModal,colorScheme:"blue",className:"!text-xs w-full",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:724,columnNumber:41},void 0),e.jsxDEV("div",{children:e.jsxDEV("select",{value:j,onChange:P,className:"bg-gray-700 border border-gray-600 text-xs rounded-md p-2 focus:ring-purple-500 focus:border-purple-500 w-full text-gray-200",children:u&&u.map((q,B)=>e.jsxDEV("option",{value:B,children:q.name},B,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:738,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:732,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:731,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:723,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:708,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3 flex-1 min-h-0",children:e.jsxDEV("div",{className:"flex-1 min-h-0",children:e.jsxDEV(DD,{currentUser:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:748,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:747,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:746,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:706,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:705,columnNumber:25},void 0),e.jsxDEV("div",{className:"hidden lg:flex col-span-3 flex flex-col min-h-0 overflow-hidden",children:e.jsxDEV(xD,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:756,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:755,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:634,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("aside",{className:"hidden lg:flex flex-col lg:w-[560px] flex-shrink-0 gap-6 min-h-0 overflow-hidden",children:[e.jsxDEV("div",{className:"flex-1 flex flex-row gap-4 items-stretch min-h-0 overflow-hidden",children:[e.jsxDEV("div",{className:"flex-1 min-w-0 min-h-0 overflow-hidden",children:e.jsxDEV(hD,{setHasRankChanged:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:763,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:762,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-24 flex-shrink-0",children:e.jsxDEV(Is,{fillHeight:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:766,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:765,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:761,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsxDEV(yD,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:770,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:769,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:760,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:624,columnNumber:13},void 0),x&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[320px] sm:w-[360px] bg-gray-800 shadow-2xl z-50 transition-transform duration-300 ease-in-out ${g?"translate-x-0":"translate-x-full"} flex flex-col`,children:[e.jsxDEV("div",{className:"flex justify-between items-center p-2 sm:p-3 border-b border-gray-600 flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg font-bold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:780,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>f(!1),className:"text-xl sm:text-2xl font-bold text-gray-300 hover:text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:781,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:779,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 p-2 flex-grow min-h-0 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex-shrink-0 p-1.5 sm:p-2 bg-gray-900/50 rounded-lg border border-gray-700",children:e.jsxDEV(Is,{mobile:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:786,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:785,columnNumber:29},void 0),e.jsxDEV("div",{className:"h-[250px] sm:h-[300px] min-h-[250px] sm:min-h-[300px] bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:e.jsxDEV(hD,{setHasRankChanged:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:790,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:789,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 min-h-[250px] sm:min-h-[300px] bg-gray-900/50 rounded-lg border border-gray-700 overflow-hidden",children:e.jsxDEV(yD,{compactTierIcons:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:794,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:793,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:783,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:778,columnNumber:21},void 0),g&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>f(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:798,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:777,columnNumber:17},void 0),S&&e.jsxDEV(jV,{onClose:()=>M(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:801,columnNumber:40},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentLobby.tsx",lineNumber:595,columnNumber:9},void 0)},vS=({datasets:o,maxStatValue:a=200,size:c=250})=>{const m=c/2,u=Object.values(_),p=u.length,s=Math.PI*2/p,x=(N,y)=>{const E=s*y-Math.PI/2,j=Math.min(N,a)/a*(m*.8);return{x:m+j*Math.cos(E),y:m+j*Math.sin(E)}},v=[],g=[],f=[],h=c<150?8:10;for(let N=0;N<p;N++){const y=x(a,N);v.push(e.jsxDEV("line",{x1:m,y1:m,x2:y.x,y2:y.y,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1"},`axis-${N}`,!1,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:40,columnNumber:13},void 0));const E=x(a*1.15,N);g.push(e.jsxDEV("text",{x:E.x,y:E.y,fontSize:h,fill:"rgba(255, 255, 255, 0.7)",textAnchor:"middle",dy:".3em",children:u[N]},`label-${N}`,!1,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:53,columnNumber:13},void 0))}for(let N=1;N<=4;N++){const y=N*.25,E=u.map((j,U)=>x(a*y,U));f.push(e.jsxDEV("polygon",{points:E.map(j=>`${j.x},${j.y}`).join(" "),fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"0.5"},`grid-${N}`,!1,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:71,columnNumber:13},void 0))}return e.jsxDEV("svg",{viewBox:`0 0 ${c} ${c}`,width:"100%",height:"100%",children:[e.jsxDEV("g",{children:[f,v,g]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:84,columnNumber:13},void 0),o.map((N,y)=>{const j=u.map((U,S)=>x(N.stats[U]||0,S)).map(U=>`${U.x},${U.y}`).join(" ");return e.jsxDEV("polygon",{points:j,fill:N.fill,stroke:N.color,strokeWidth:"2"},`dataset-${y}`,!1,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:94,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RadarChart.tsx",lineNumber:83,columnNumber:9},void 0)},AV=o=>{try{const a=o.match(/SZ\[(\d+)\]/),c=a?parseInt(a[1],10):19,m=[],u=/;([BW])\[([a-s]{2})\]/g;let p;for(;(p=u.exec(o))!==null;){const s=p[1]==="B"?oe.Black:oe.White,x=p[2],v=x.charCodeAt(0)-97,g=x.charCodeAt(1)-97;m.push({player:s,x:v,y:g})}return{boardSize:c,moves:m}}catch(a){return console.error("Failed to parse SGF:",a),null}},yS=(o,a,c)=>{const m=[];return o>0&&m.push({x:o-1,y:a}),o<c-1&&m.push({x:o+1,y:a}),a>0&&m.push({x:o,y:a-1}),a<c-1&&m.push({x:o,y:a+1}),m},UV=(o,a,c,m,u)=>{var g;if(a<0||a>=u||o<0||o>=u||((g=m[a])==null?void 0:g[o])!==c)return null;const p=[{x:o,y:a}],s=new Set([`${o},${a}`]);let x=0;const v=[{x:o,y:a}];for(;p.length>0;){const{x:f,y:h}=p.shift();for(const N of yS(f,h,u)){const y=`${N.x},${N.y}`,E=m[N.y][N.x];E===oe.None?x++:E===c&&(s.has(y)||(s.add(y),p.push(N),v.push(N)))}}return{stones:v,liberties:x}},wV=({timeElapsed:o=0,fileIndex:a,showLastMoveOnly:c})=>{const[m,u]=b.useState(null),[p,s]=b.useState(!0),[x,v]=b.useState(null),g=50;b.useEffect(()=>{(async()=>{if(s(!0),v(null),a==null){u({boardSize:19,moves:[]}),s(!1);return}const O=`/sgf/Gibo${a}.sgf`;try{const V=await fetch(O);if(!V.ok)throw new Error(`Failed to fetch SGF file: ${V.statusText}`);const $=await V.text(),z=AV($);if(!z)throw new Error("Failed to parse SGF data.");u(z)}catch(V){v(V.message)}finally{s(!1)}})()},[a]);const f=b.useMemo(()=>{if(!m)return 0;if(c)return m.moves.length;if(o===0)return 0;const R=o/g,O=Math.floor(R*m.moves.length);return Math.min(O,m.moves.length)},[o,m,g,c]),h=b.useMemo(()=>{if(!m)return[];const{boardSize:R,moves:O}=m,V=Array(R).fill(null).map(()=>Array(R).fill(oe.None));for(let $=0;$<f;$++){const z=O[$];V[z.y]&&V[z.y][z.x]!==void 0&&(V[z.y][z.x]=z.player);const P=z.player===oe.Black?oe.White:oe.Black,G=yS(z.x,z.y,R);for(const q of G)if(V[q.y][q.x]===P){const B=UV(q.x,q.y,P,V,R);if(B&&B.liberties===0)for(const X of B.stones)V[X.y][X.x]=oe.None}}return V},[f,m]),N=b.useMemo(()=>{const R=m==null?void 0:m.boardSize;return R?R===19?[{x:3,y:3},{x:9,y:3},{x:15,y:3},{x:3,y:9},{x:9,y:9},{x:15,y:9},{x:3,y:15},{x:9,y:15},{x:15,y:15}]:R===13?[{x:3,y:3},{x:9,y:3},{x:3,y:9},{x:9,y:9},{x:6,y:6}]:R===11?[{x:2,y:2},{x:8,y:2},{x:5,y:5},{x:2,y:8},{x:8,y:8}]:R===9?[{x:2,y:2},{x:6,y:2},{x:4,y:4},{x:2,y:6},{x:6,y:6}]:[]:[]},[m]);if(p)return e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:159,columnNumber:25},void 0);if(x)return e.jsxDEV("div",{className:"flex items-center justify-center h-full text-red-400",children:[": ",x]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:160,columnNumber:23},void 0);if(!m)return null;const{boardSize:y,moves:E}=m,j=300,U=j/y,S=U/2,M=U*.45,C=R=>({cx:S+R.x*U,cy:S+R.y*U}),w=E.slice(0,f);return e.jsxDEV("div",{className:"w-full h-full bg-gray-900 rounded-lg overflow-hidden border-2 border-gray-700 relative",children:e.jsxDEV("svg",{viewBox:`0 0 ${j} ${j}`,className:"w-full h-full",children:[e.jsxDEV("rect",{width:j,height:j,fill:"#DDAA77"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:179,columnNumber:17},void 0),Array.from({length:y}).map((R,O)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:S+O*U,y1:S,x2:S+O*U,y2:j-S,stroke:"#54432a",strokeWidth:"0.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:182,columnNumber:25},void 0),e.jsxDEV("line",{x1:S,y1:S+O*U,x2:j-S,y2:S+O*U,stroke:"#54432a",strokeWidth:"0.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:183,columnNumber:25},void 0)]},O,!0,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:181,columnNumber:21},void 0)),N.map((R,O)=>e.jsxDEV("circle",{...C(R),r:y>9?3:2,fill:"#54432a"},`star-${O}`,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:186,columnNumber:43},void 0)),h.map((R,O)=>R.map((V,$)=>{if(V===oe.None)return null;const{cx:z,cy:P}=C({x:$,y:O});let G=-1;for(let B=w.length-1;B>=0;B--)if(w[B].x===$&&w[B].y===O){G=B;break}const q=G===f-1;return e.jsxDEV("g",{children:[e.jsxDEV("circle",{cx:z,cy:P,r:M,fill:V===oe.Black?"black":"white"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:203,columnNumber:29},void 0),c&&G!==-1&&e.jsxDEV("text",{x:z,y:P,textAnchor:"middle",dy:".35em",fontSize:M*1.2,fontWeight:"bold",fill:V===oe.Black?"white":"black",children:G+1},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:205,columnNumber:33},void 0),q&&e.jsxDEV("circle",{cx:z,cy:P,r:M*.4,fill:"rgba(239, 68, 68, 0.8)",className:"animate-pulse"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:209,columnNumber:45},void 0)]},`${$}-${O}`,!0,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:202,columnNumber:25},void 0)}))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:178,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SgfViewer.tsx",lineNumber:177,columnNumber:9},void 0)},Es={small:{name:"()",image:"/images/use/con1.png",minRecovery:1,maxRecovery:10,price:100,grade:"normal"},medium:{name:"()",image:"/images/use/con2.png",minRecovery:10,maxRecovery:20,price:150,grade:"uncommon"},large:{name:"()",image:"/images/use/con3.png",minRecovery:20,maxRecovery:30,price:200,grade:"rare"}},VV=({currentUser:o,currentCondition:a,onClose:c,onConfirm:m,isTopmost:u})=>{const{handlers:p,currentUserWithStatus:s,updateTrigger:x}=ot(),v=s||o,[g,f]=b.useState(null);if(!v)return null;const h=b.useMemo(()=>{const U={small:0,medium:0,large:0};return v!=null&&v.inventory&&v.inventory.filter(S=>S.type==="consumable"&&S.name.startsWith("")).forEach(S=>{S.name==="()"?U.small+=S.quantity||1:S.name==="()"?U.medium+=S.quantity||1:S.name==="()"&&(U.large+=S.quantity||1)}),U},[v==null?void 0:v.inventory,x]),N=b.useMemo(()=>{if(!g)return null;const U=Es[g],S=Math.min(100,a+U.minRecovery),M=Math.min(100,a+U.maxRecovery);return{min:S,max:M,avg:Math.floor((S+M)/2)}},[g,a]),y=b.useMemo(()=>g?v.gold>=Es[g].price:!1,[g,v.gold]),E=b.useMemo(()=>g?h[g]>0:!1,[g,h]),j=()=>{if(g){if(!E){p.openShop("consumables");return}y&&m(g)}};return e.jsxDEV(mn,{title:"  ",initialWidth:600,initialHeight:650,onClose:c,isTopmost:u,windowId:"condition-potion-modal",children:e.jsxDEV("div",{className:"text-white flex flex-col h-full",children:[e.jsxDEV("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:Object.keys(Es).map(U=>{const S=Es[U],M=h[U],C=g===U;return e.jsxDEV("div",{onClick:()=>f(U),className:`bg-gray-800/50 rounded-lg p-3 border-2 cursor-pointer transition-all ${C?"border-yellow-400 bg-gray-700/50":"border-gray-700 hover:border-gray-600"}`,children:e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV("img",{src:S.image,alt:S.name,className:"w-16 h-16"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:151,columnNumber:41},void 0),e.jsxDEV("h3",{className:"font-bold text-sm text-center",children:S.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:152,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 text-center",children:[S.minRecovery,"~",S.maxRecovery," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:153,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:157,columnNumber:45},void 0),e.jsxDEV("span",{className:v.gold>=S.price?"text-green-400":"text-red-400",children:S.price},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:158,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:156,columnNumber:41},void 0),e.jsxDEV("p",{className:`text-xs ${M>0?"text-blue-300":"text-red-400"}`,children:[": ",M,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:162,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:150,columnNumber:37},void 0)},U,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:143,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:136,columnNumber:21},void 0),g&&!E&&e.jsxDEV("p",{className:"text-red-400 text-sm text-center",children:["  ",Es[g].name,"() .  ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:172,columnNumber:25},void 0),g&&!y&&E&&e.jsxDEV("p",{className:"text-red-400 text-sm text-center",children:[" . (: ",Es[g].price," )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:178,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:135,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-800/50 rounded-lg p-4 border border-gray-700 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-gray-300",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:186,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-yellow-300 font-bold text-lg",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:187,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:185,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-300",children:"   :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:190,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-green-300 font-bold text-lg",children:N?`${N.min} ~ ${N.max}`:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:191,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:189,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 w-full mt-4 flex-shrink-0",children:[e.jsxDEV(ae,{onClick:c,colorScheme:"gray",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:198,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:j,colorScheme:"green",className:"flex-1",disabled:!g,children:g&&!E?" ":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:205,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:134,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ConditionPotionModal.tsx",lineNumber:126,columnNumber:9},void 0)},kV=({onClose:o,isTopmost:a})=>e.jsxDEV(mn,{title:"  ",onClose:o,windowId:"simulation-arena-help",initialWidth:700,isTopmost:a,children:e.jsxDEV("div",{className:"max-h-[70vh] overflow-y-auto pr-2 text-gray-300",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/PlayingArena.png",alt:" ",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:15,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:17,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm mb-2",children:"      .  50  , // ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:18,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:16,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:14,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:27,columnNumber:29},void 0),e.jsxDEV("img",{src:"/images/materials/materials1.png",alt:"",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:28,columnNumber:29},void 0),e.jsxDEV("img",{src:"/images/Box/EquipmentBox1.png",alt:"",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:29,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:26,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:32,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:34,columnNumber:37},void 0),"  "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:34,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:35,columnNumber:37},void 0)," () "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:35,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:36,columnNumber:37},void 0),"   "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:36,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:33,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:31,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:25,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-green-500 via-yellow-500 to-red-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-2xl font-bold text-white",children:"50"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:43,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:42,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:46,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"(1-15):   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:48,columnNumber:33},void 0),e.jsxDEV("li",{children:"(16-35):   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:49,columnNumber:33},void 0),e.jsxDEV("li",{children:"(36-50):   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:50,columnNumber:33},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:51,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:47,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:45,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:41,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex flex-col gap-1 flex-shrink-0 text-xs text-center",children:[e.jsxDEV("div",{className:"bg-green-600/50 p-2 rounded",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:58,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-yellow-600/50 p-2 rounded",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-red-600/50 p-2 rounded",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:57,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:63,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:65,columnNumber:37},void 0)," , , "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:65,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:66,columnNumber:37},void 0)," , , , "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:66,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:67,columnNumber:37},void 0)," , , "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:67,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:64,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:62,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:56,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-3xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:74,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:73,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:77,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"5 30%  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:79,columnNumber:33},void 0),e.jsxDEV("li",{children:"4 :  (),  (),  (),  ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:80,columnNumber:33},void 0),e.jsxDEV("li",{children:"     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:81,columnNumber:33},void 0),e.jsxDEV("li",{children:"   2~10%  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:82,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:78,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:76,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:72,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-red-600 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:89,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:88,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:92,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:94,columnNumber:33},void 0),e.jsxDEV("li",{children:"     "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:95,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:96,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:93,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:91,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:87,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start gap-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("img",{src:"/images/use/con1.png",alt:"",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:102,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mb-2",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:104,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxDEV("li",{children:"   40~100    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:106,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:107,columnNumber:33},void 0),e.jsxDEV("li",{children:"    (   )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:108,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:105,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:103,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:101,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:13,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:12,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SimulationArenaHelpModal.tsx",lineNumber:11,columnNumber:9},void 0),TV={early:[_.CombatPower,_.ThinkingSpeed,_.Concentration],mid:[_.CombatPower,_.Judgment,_.Concentration,_.Stability],end:[_.Calculation,_.Stability,_.Concentration]},PV={early:{[_.CombatPower]:.4,[_.ThinkingSpeed]:.3,[_.Concentration]:.3},mid:{[_.CombatPower]:.3,[_.Judgment]:.3,[_.Concentration]:.2,[_.Stability]:.2},end:{[_.Calculation]:.5,[_.Stability]:.3,[_.Concentration]:.2}},jD=({player:o,initialPlayer:a,allUsers:c,currentUserId:m,onViewUser:u,highlightPhase:p,isUserMatch:s,onUseConditionPotion:x,onOpenShop:v,timeElapsed:g=0,tournamentStatus:f,isMobile:h=!1})=>{var B,X;if(!o)return e.jsxDEV("div",{className:"p-2 text-center text-gray-500 flex items-center justify-center h-full bg-gray-900/50 rounded-lg",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:87,columnNumber:25},void 0);const N=b.useMemo(()=>c.find(H=>H.id===o.id),[c,o.id]),y=b.useMemo(()=>jr.find(H=>H.tier===o.league),[o.league]),E=b.useMemo(()=>{const H={wins:0,losses:0};return N!=null&&N.stats&&Object.values(N.stats).forEach(Q=>{H.wins+=Q.wins,H.losses+=Q.losses}),H},[N]),j=!o.id.startsWith("bot-")&&o.id!==m,U=(B=Jn.find(H=>H.id===o.avatarId))==null?void 0:B.url,S=(X=Zn.find(H=>H.id===o.borderId))==null?void 0:X.url,M=o.id===m,C=b.useMemo(()=>{const H={small:0,medium:0,large:0};return N!=null&&N.inventory&&N.inventory.filter(Q=>Q.type==="consumable"&&Q.name.startsWith("")).forEach(Q=>{Q.name==="()"?H.small+=Q.quantity||1:Q.name==="()"?H.medium+=Q.quantity||1:Q.name==="()"&&(H.large+=Q.quantity||1)}),H},[N==null?void 0:N.inventory]),w=C.small+C.medium+C.large,[R,O]=b.useState({}),V=b.useMemo(()=>o!=null&&o.originalStats?{...o.originalStats}:a!=null&&a.stats?{...a.stats}:{...(o==null?void 0:o.stats)||{}},[o==null?void 0:o.originalStats,a==null?void 0:a.stats,o==null?void 0:o.stats]),$=b.useRef({...(o==null?void 0:o.stats)||{}});b.useEffect(()=>{if(!o||g===0){$.current={...o.stats||{}};return}const H={};Object.values(_).forEach(Q=>{const Z=$.current[Q]??o.stats[Q],ne=o.stats[Q];Z!==ne&&(H[Q]=ne-Z)}),Object.keys(H).length>0&&(O(H),setTimeout(()=>{O({})},2e3)),$.current={...o.stats||{}}},[o==null?void 0:o.stats,g]);const z=H=>p==="none"?!1:TV[p].includes(H),P=b.useMemo(()=>f==="round_in_progress"?o.stats:o.originalStats?o.originalStats:N?Pa(N):o.stats,[o.stats,o.originalStats,N,f]),G=b.useMemo(()=>Math.round(Object.values(P).reduce((H,Q)=>H+(Q||0),0)),[P]),q=b.useMemo(()=>{const H=Q=>{const Z=PV[Q];let ne=0;for(const le in Z){const L=le,ue=Z[L];ne+=(P[L]||0)*ue}return ne};return{early:Math.round(H("early")),mid:Math.round(H("mid")),end:Math.round(H("end"))}},[P,o.condition]);return e.jsxDEV("div",{className:`bg-gray-900/50 p-2 md:p-3 rounded-lg flex flex-col gap-1 md:gap-2 h-full min-h-0 overflow-hidden ${j?"cursor-pointer hover:bg-gray-700/50":""}`,onClick:j?()=>u(o.id):void 0,title:j?`${o.nickname}  `:"",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 md:gap-3 w-full flex-shrink-0",children:[y&&e.jsxDEV("img",{src:y.icon,alt:y.name,className:"w-6 h-6 md:w-9 md:h-9 object-contain drop-shadow-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:227,columnNumber:21},void 0),e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:U,borderUrl:S,size:h?24:32,className:`${h?"w-6 h-6":"md:w-10 md:h-10"} flex-shrink-0`},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:233,columnNumber:18},void 0),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-0.5 sm:gap-1 md:gap-1.5",children:[e.jsxDEV("h4",{className:`font-bold ${h?"text-[10px]":"text-xs md:text-base"} truncate`,children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:236,columnNumber:25},void 0),e.jsxDEV("span",{className:`${h?"text-[8px]":"text-[10px] md:text-xs"} text-blue-300 font-semibold whitespace-nowrap`,children:[": ",G]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:237,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:235,columnNumber:21},void 0),e.jsxDEV("p",{className:`${h?"text-[8px]":"text-[10px] md:text-xs"} text-gray-400 truncate`,children:["(",E.wins," ",E.losses,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:239,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:234,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:225,columnNumber:13},void 0),f!=="complete"&&f!=="eliminated"&&e.jsxDEV("div",{className:`font-bold ${h?"text-[8px]":"text-xs md:text-sm"} mt-0.5 relative flex items-center gap-1 md:gap-2 w-full justify-center flex-shrink-0`,children:[e.jsxDEV("span",{className:h?"text-[8px]":"text-[10px] md:text-sm",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:245,columnNumber:21},void 0)," ",e.jsxDEV("span",{className:`text-yellow-300 ${h?"text-[8px]":"text-xs md:text-sm"}`,children:o.condition===1e3?"-":o.condition},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:245,columnNumber:102},void 0),M&&o.condition!==1e3&&o.condition<100&&f!=="round_in_progress"&&f!=="complete"&&f!=="eliminated"&&e.jsxDEV("button",{onClick:H=>{H.stopPropagation(),w===0&&v?v():x&&x()},className:`${h?"w-4 h-4 text-[8px]":"w-5 h-5 md:w-6 md:h-6 text-[10px] md:text-xs"} bg-green-600 hover:bg-green-700 text-white rounded-full flex items-center justify-center font-bold transition-colors`,title:w===0?"  .  .":"   (    )",children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:247,columnNumber:25},void 0),M&&o.condition!==1e3&&o.condition<100&&(f==="complete"||f==="eliminated")&&e.jsxDEV("button",{disabled:!0,className:"w-5 h-5 md:w-6 md:h-6 bg-gray-600 text-gray-400 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold cursor-not-allowed",title:"    ",children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:264,columnNumber:25},void 0),M&&o.condition!==1e3&&o.condition>=100&&x&&f!=="round_in_progress"&&e.jsxDEV("button",{disabled:!0,className:"w-5 h-5 md:w-6 md:h-6 bg-gray-600 text-gray-400 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold cursor-not-allowed",title:" ",children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:273,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:244,columnNumber:17},void 0),e.jsxDEV("div",{className:`w-full grid grid-cols-2 md:grid-cols-4 gap-x-0.5 md:gap-x-1 lg:gap-x-3 gap-y-0.5 ${h?"text-[8px]":"text-[10px] md:text-xs"} mt-0.5 md:mt-1 border-t border-gray-600 pt-0.5 md:pt-1 flex-shrink-0`,children:Object.values(_).map(H=>{var le;const Q=V[H]??((le=a==null?void 0:a.stats)==null?void 0:le[H])??P[H],ne=P[H]-Q;return e.jsxDEV(to.Fragment,{children:[e.jsxDEV("span",{className:`text-gray-400 truncate whitespace-nowrap ${z(H)?"text-yellow-400 font-bold":""}`,children:H},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:291,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end items-baseline relative min-w-0",children:[e.jsxDEV("span",{className:`font-mono text-white ${z(H)?"text-yellow-400 font-bold":""} ${h?"min-w-[20px] text-[8px]":"min-w-[25px] sm:min-w-[30px] md:min-w-[40px] text-right text-[9px] sm:text-[10px] md:text-xs"} whitespace-nowrap`,children:P[H]},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:293,columnNumber:33},void 0),e.jsxDEV("span",{className:`ml-0.5 md:ml-1 font-bold ${h?"text-[7px] min-w-[22px]":"text-[8px] sm:text-[9px] md:text-xs min-w-[28px] sm:min-w-[35px] md:min-w-[45px]"} text-right whitespace-nowrap`,children:a&&ne!==0?e.jsxDEV("span",{className:`${ne>0?"text-green-400":"text-red-400"}`,children:["[",ne>0?"+":"",ne,"]"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:297,columnNumber:41},void 0):null},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:295,columnNumber:33},void 0),e.jsxDEV("span",{className:"ml-0.5 md:ml-1 font-bold text-[9px] sm:text-[10px] md:text-sm min-w-[32px] sm:min-w-[40px] md:min-w-[50px] text-right relative",children:[e.jsxDEV("span",{className:"absolute right-0 top-0 whitespace-nowrap",style:{animation:R[H]!==void 0&&R[H]!==0&&f==="round_in_progress"?"statChangeFade 2s ease-out forwards":"none",opacity:R[H]!==void 0&&R[H]!==0&&f==="round_in_progress"?1:0,pointerEvents:"none"},children:R[H]!==void 0&&R[H]!==0&&f==="round_in_progress"?e.jsxDEV("span",{className:`text-[9px] sm:text-[10px] md:text-sm ${R[H]>0?"text-green-300":"text-red-300"}`,children:["(",R[H]>0?"+":"",R[H],")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:314,columnNumber:45},void 0):null},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:305,columnNumber:37},void 0),e.jsxDEV("span",{className:"invisible whitespace-nowrap text-[9px] sm:text-[10px] md:text-sm",children:"(+99)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:320,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:304,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:292,columnNumber:29},void 0)]},H,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:290,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:283,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full border-t border-gray-600 mt-0.5 md:mt-1 pt-0.5 md:pt-1 flex-shrink-0",children:e.jsxDEV("div",{className:`grid grid-cols-3 gap-1 md:gap-2 ${h?"text-[8px]":"text-[9px] md:text-xs"}`,children:[e.jsxDEV("div",{className:`bg-blue-900/30 rounded ${h?"px-0.5 py-0.5":"px-1 md:px-2 py-0.5 md:py-1"} text-center border border-blue-700/50`,children:[e.jsxDEV("div",{className:`text-gray-300 font-semibold ${h?"mb-0":"mb-0.5"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:333,columnNumber:25},void 0),e.jsxDEV("div",{className:`text-blue-300 font-bold ${h?"text-[8px]":"text-[10px] md:text-sm"}`,children:q.early},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:334,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:332,columnNumber:21},void 0),e.jsxDEV("div",{className:`bg-purple-900/30 rounded ${h?"px-0.5 py-0.5":"px-1 md:px-2 py-0.5 md:py-1"} text-center border border-purple-700/50`,children:[e.jsxDEV("div",{className:`text-gray-300 font-semibold ${h?"mb-0":"mb-0.5"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:337,columnNumber:25},void 0),e.jsxDEV("div",{className:`text-purple-300 font-bold ${h?"text-[8px]":"text-[10px] md:text-sm"}`,children:q.mid},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:338,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV("div",{className:`bg-orange-900/30 rounded ${h?"px-0.5 py-0.5":"px-1 md:px-2 py-0.5 md:py-1"} text-center border border-orange-700/50`,children:[e.jsxDEV("div",{className:`text-gray-300 font-semibold ${h?"mb-0":"mb-0.5"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:341,columnNumber:25},void 0),e.jsxDEV("div",{className:`text-orange-300 font-bold ${h?"text-[8px]":"text-[10px] md:text-sm"}`,children:q.end},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:342,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:340,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:331,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:330,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:224,columnNumber:9},void 0)},IV=({timeElapsed:o,totalDuration:a})=>{const c=o/a*100,m=15,u=20,p=15,s=m+u+p,x=m/s*a,v=u/s*a,g=p/s*a,f=Math.min(c,x/a*100),h=Math.min(Math.max(0,c-x/a*100),v/a*100),N=Math.min(Math.max(0,c-(x+v)/a*100),g/a*100);return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"w-full bg-gray-900 rounded-full h-2 flex border border-gray-600",children:[e.jsxDEV("div",{className:"bg-green-500 h-full rounded-l-full",style:{width:`${f}%`},title:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:370,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-yellow-500 h-full",style:{width:`${h}%`},title:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:371,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-red-500 h-full rounded-r-full",style:{width:`${N}%`},title:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:372,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex text-xs text-gray-400 mt-1",children:[e.jsxDEV("div",{style:{width:`${x/a*100}%`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:375,columnNumber:17},void 0),e.jsxDEV("div",{style:{width:`${v/a*100}%`},className:"text-center",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV("div",{style:{width:`${g/a*100}%`},className:"text-right",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:377,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:374,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:368,columnNumber:9},void 0)},_V=({p1Percent:o,p2Percent:a,p1Nickname:c,p2Nickname:m,lastScoreIncrement:u})=>{var N,y;const[p,s]=b.useState(null),[x,v]=b.useState(null),g=b.useRef(null),f=b.useRef(null),h=b.useRef(null);return b.useEffect(()=>{if(u!=null&&u.player1&&h.current){const E=u.player1.actual;if(g.current!==E){const j=h.current.getBoundingClientRect();s({value:E,isCritical:u.player1.isCritical,key:Date.now(),startX:o,graphRect:j}),setTimeout(()=>s(null),1500),g.current=E}}else u!=null&&u.player1||s(null)},[(N=u==null?void 0:u.player1)==null?void 0:N.actual,o]),b.useEffect(()=>{if(u!=null&&u.player2&&h.current){const E=u.player2.actual;if(f.current!==E){const j=h.current.getBoundingClientRect();v({value:E,isCritical:u.player2.isCritical,key:Date.now(),startX:a,graphRect:j}),setTimeout(()=>v(null),1500),f.current=E}}else u!=null&&u.player2||v(null)},[(y=u==null?void 0:u.player2)==null?void 0:y.actual,a]),e.jsxDEV("div",{children:[c&&m&&e.jsxDEV("div",{className:"flex justify-between text-xs px-1 mb-0.5 font-bold",children:[e.jsxDEV("span",{className:"truncate max-w-[45%]",children:[": ",c]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:450,columnNumber:21},void 0),e.jsxDEV("span",{className:"truncate max-w-[45%] text-right",children:[": ",m]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:451,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:449,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex justify-between text-xs px-1 mb-0.5 font-bold",children:[e.jsxDEV("span",{className:"text-gray-300",children:[o.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:456,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-gray-300",children:[a.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:455,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",style:{paddingTop:"40px"},children:[e.jsxDEV("div",{ref:h,className:"flex w-full h-3 bg-gray-700 rounded-full overflow-hidden border-2 border-black/30 relative",children:[e.jsxDEV("div",{className:"bg-black transition-all duration-500 ease-in-out",style:{width:`${o}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:461,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-white transition-all duration-500 ease-in-out",style:{width:`${a}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:462,columnNumber:25},void 0),e.jsxDEV("div",{className:"absolute top-0 bottom-0 left-1/2 -translate-x-1/2 w-0.5 bg-gray-400/50",title:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:463,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:460,columnNumber:21},void 0),(p&&p.graphRect||x&&x.graphRect)&&h.current&&e.jsxDEV("div",{className:"absolute pointer-events-none",style:{left:"50%",top:"0px",transform:"translateX(-50%)",animation:"slideToCenter 1.5s ease-out forwards",zIndex:99999},children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[p&&e.jsxDEV("div",{className:`px-3 py-1.5 rounded-lg ${p.isCritical?"bg-black border-2 border-yellow-400 shadow-lg shadow-yellow-500/50":"bg-black border-2 border-gray-600 shadow-lg"}`,children:e.jsxDEV("span",{className:`font-bold ${p.isCritical?"text-yellow-300 text-xl animate-pulse":"text-white text-lg"}`,children:p.isCritical?`+${Math.round(p.value)}! `:`+${Math.round(p.value)}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:487,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:482,columnNumber:37},void 0),x&&e.jsxDEV("div",{className:`px-3 py-1.5 rounded-lg ${x.isCritical?"bg-white border-2 border-red-500 shadow-lg shadow-red-500/50":"bg-white border-2 border-gray-400 shadow-lg"}`,children:e.jsxDEV("span",{className:`font-bold ${x.isCritical?"text-red-600 text-xl animate-pulse":"text-black text-lg"}`,children:x.isCritical?`+${Math.round(x.value)}! `:`+${Math.round(x.value)}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:504,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:499,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:479,columnNumber:29},void 0)},`${(p==null?void 0:p.key)||0}-${(x==null?void 0:x.key)||0}`,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:468,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:459,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:454,columnNumber:13},void 0),e.jsxDEV("style",{children:`
                @keyframes slideToCenter {
                    0% {
                        opacity: 1;
                        transform: translateX(-50%) translateY(0) scale(1);
                        filter: brightness(1);
                    }
                    30% {
                        opacity: 1;
                        transform: translateX(-50%) translateY(-15px) scale(1.15);
                        filter: brightness(1.1);
                    }
                    60% {
                        opacity: 1;
                        transform: translateX(-50%) translateY(-25px) scale(1.25);
                        filter: brightness(1.2);
                    }
                    100% {
                        opacity: 0;
                        transform: translateX(-50%) translateY(-40px) scale(0.7);
                        filter: brightness(0.8);
                    }
                }
            `},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:519,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:447,columnNumber:9},void 0)},BV=o=>{const{text:a,isRandomEvent:c}=o;let m="";if(a===" . (: , , )"?m="text-green-400":a===" . (: , , , )"?m="text-yellow-400":a===" . (: , , )"&&(m="text-red-400"),a.startsWith("  !")||a.startsWith("[]"))return e.jsxDEV("strong",{className:"text-yellow-400",children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:561,columnNumber:16},void 0);const u=/(\d+\.\d+|\d+\.5)/g,p=a.split(u),s=m||(c?"text-cyan-400":"");return e.jsxDEV("span",{className:s,children:p.map((x,v)=>u.test(x)?e.jsxDEV("strong",{className:"text-yellow-400",children:x},v,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:574,columnNumber:21},void 0):e.jsxDEV("span",{children:x},v,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:576,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:571,columnNumber:9},void 0)},LV=({commentary:o,isSimulating:a})=>{const c=b.useRef(null);return b.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[o]),e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",style:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxDEV("h4",{className:"text-center font-bold text-sm mb-2 text-gray-400 py-1 flex-shrink-0",children:[" ",a&&e.jsxDEV("span",{className:"ml-2 text-yellow-400 animate-pulse",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:595,columnNumber:34},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:593,columnNumber:13},void 0),e.jsxDEV("div",{ref:c,className:"flex-1 min-h-0 overflow-y-auto space-y-2 text-sm text-gray-300 p-2 bg-gray-900/40 rounded-md",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",flex:"1 1 0",minHeight:0,maxHeight:"100%"},children:o.length>0?o.map((m,u)=>e.jsxDEV("p",{className:"animate-fade-in break-words",children:BV(m)},u,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:609,columnNumber:53},void 0)):e.jsxDEV("p",{className:"text-gray-500 text-center h-full flex items-center justify-center",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:611,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:592,columnNumber:9},void 0)},$V=({tournamentState:o,currentUser:a,onAction:c})=>{var $;const m=o.status==="complete",u=o.status==="eliminated",p=o.status==="round_in_progress"||o.status==="bracket_ready",s=o.status==="round_complete",{type:x,rounds:v}=o,g=ws[x],f=bw[x];let h=-1;if(x==="neighborhood"){const z={};o.players.forEach(q=>{z[q.id]=0}),v[0].matches.forEach(q=>{q.winner&&(z[q.winner.id]=(z[q.winner.id]||0)+1)});const P=[...o.players].sort((q,B)=>z[B.id]-z[q.id]);let G=-1;for(let q=0;q<P.length;q++)if(q===0?G=1:z[P[q].id]<z[P[q-1].id]&&(G=q+1),P[q].id===a.id){h=G;break}}else{const z=v.length;let P=-1;for(let G=0;G<z;G++){const B=v[G].matches.find(X=>X.isUserMatch);if(B&&(($=B.winner)==null?void 0:$.id)!==a.id){P=G;break}}if(P===-1)h=1;else{const G=g.players/Math.pow(2,P);if(z===3&&P===1){const q=v.find(B=>B.name==="3,4");q&&q.matches.some(X=>X.isUserMatch)?h=q.matches.some(H=>{var Q;return H.isUserMatch&&((Q=H.winner)==null?void 0:Q.id)===a.id})?3:4:h=4}else h=G}}const N=o.type==="neighborhood"&&o.accumulatedGold||0,y=o.type==="national"?o.accumulatedMaterials||{}:{},E=o.type==="world"?o.accumulatedEquipmentBoxes||{}:{},j=eS[x];let U=9;h>0&&(x==="neighborhood"?U=h:x==="national"?U=h<=4?h:5:h<=4?U=h:h<=8?U=5:U=9);const S=(j==null?void 0:j[U])||0;let M;h>0?x==="neighborhood"?M=h<=3?h:4:x==="national"?M=h<=4?h:5:h<=4?M=h:h<=8?M=5:M=9:M=x==="neighborhood"?4:x==="national"?5:9;const C=f==null?void 0:f.rewards[M],w=`${x}RewardClaimed`,R=!!a[w],O=(m||u)&&!R,V=()=>{O&&(et.claimReward(),c({type:"CLAIM_TOURNAMENT_REWARD",payload:{tournamentType:x}}))};return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",style:{height:"100%",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[e.jsxDEV("h4",{className:"text-center font-bold text-base mb-2 text-gray-400 py-1 flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:746,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-2 p-2 bg-gray-900/40 rounded-md",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",flex:"1 1 0",minHeight:0,maxHeight:"100%"},children:[(m||u)&&R&&e.jsxDEV("div",{className:"mb-2 px-2 py-1.5 bg-green-900/30 rounded-lg border border-green-700/50",children:e.jsxDEV("p",{className:"text-xs text-green-400 text-center font-semibold",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:751,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:750,columnNumber:17},void 0),p&&e.jsxDEV("div",{className:"mb-2 px-2 py-1.5 bg-blue-900/30 rounded-lg border border-blue-700/50",children:e.jsxDEV("p",{className:"text-xs text-blue-400 text-center",children:"   -   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:758,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:757,columnNumber:17},void 0),S>0&&e.jsxDEV("div",{className:`mb-2 bg-green-900/30 px-2 py-2 rounded-lg border border-green-700/50 ${R?"opacity-75":""}`,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:766,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-green-300",children:[" : +",S,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:768,columnNumber:29},void 0),h>0&&e.jsxDEV("div",{className:"text-xs text-gray-400",children:["( : ",h,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:770,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:767,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:765,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:764,columnNumber:17},void 0),N>0&&e.jsxDEV("div",{className:`mb-2 bg-yellow-900/30 px-2 py-2 rounded-lg border border-yellow-700/50 ${R?"opacity-75":""}`,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-6 h-6 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:781,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"text-sm font-semibold text-yellow-300",children:[" : ",N.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:783,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:782,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:780,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:779,columnNumber:17},void 0),Object.keys(y).length>0&&e.jsxDEV("div",{className:`mb-2 ${R?"opacity-75":""}`,children:[e.jsxDEV("div",{className:"text-sm font-semibold text-blue-300 mb-1.5",children:"  ():"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:792,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:Object.entries(y).map(([z,P])=>{const G=ui[z],q=(G==null?void 0:G.image)||"";return e.jsxDEV("div",{className:"flex items-center gap-2 bg-blue-900/30 px-2 py-1.5 rounded-lg border border-blue-700/50",children:[e.jsxDEV("img",{src:q,alt:z,className:"w-6 h-6 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:801,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"text-sm font-semibold text-blue-300 truncate",children:[z," x",P]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:803,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:802,columnNumber:37},void 0)]},z,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:800,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:795,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:791,columnNumber:17},void 0),Object.keys(E).length>0&&e.jsxDEV("div",{className:`mb-2 ${R?"opacity-75":""}`,children:[e.jsxDEV("div",{className:"text-sm font-semibold text-purple-300 mb-1.5",children:"  ():"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:815,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:Object.entries(E).map(([z,P])=>{const G=vl.find(B=>B.name===z),q=(G==null?void 0:G.image)||"";return e.jsxDEV("div",{className:"flex items-center gap-2 bg-purple-900/30 px-2 py-1.5 rounded-lg border border-purple-700/50",children:[e.jsxDEV("img",{src:q,alt:z,className:"w-6 h-6 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:824,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"text-sm font-semibold text-purple-300 truncate",children:[z," x",P]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:826,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:825,columnNumber:37},void 0)]},z,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:823,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:818,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:814,columnNumber:17},void 0),(m||u||R)&&C&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-gray-300 mb-2 text-center",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:838,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:(C.items||[]).map((z,P)=>{const G="itemId"in z?z.itemId:z.name,q=vl.find(le=>le.name===G),B=(q==null?void 0:q.image)||"",X=G.includes(""),H=G.includes(""),Q=X?"bg-yellow-900/30":H?"bg-blue-900/30":"bg-purple-900/30",Z=X?"border-yellow-700/50":H?"border-blue-700/50":"border-purple-700/50",ne=X?"text-yellow-300":H?"text-blue-300":"text-purple-300";return e.jsxDEV("div",{className:`flex items-center gap-2 ${Q} px-2 py-1.5 rounded-lg border ${Z} ${R?"opacity-75":""}`,children:[e.jsxDEV("img",{src:B,alt:G,className:"w-6 h-6 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:853,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:`text-sm font-semibold ${ne} truncate`,children:[G," x",z.quantity]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:855,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:854,columnNumber:37},void 0)]},P,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:852,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:839,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:837,columnNumber:17},void 0),p&&(!C||(C.items||[]).length===0)&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-700",children:e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:"      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:867,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:866,columnNumber:17},void 0),S===0&&N===0&&Object.keys(y).length===0&&Object.keys(E).length===0&&(!C||(C.items||[]).length===0)&&e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:874,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:873,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:747,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-shrink-0 pt-2 border-t border-gray-700 mt-2",children:[(m||u)&&C&&e.jsxDEV(e.Fragment,{children:R?e.jsxDEV("button",{disabled:!0,className:"w-full bg-green-600/50 text-green-300 py-2 px-4 rounded-lg font-semibold text-sm cursor-not-allowed opacity-75",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:885,columnNumber:29},void 0):e.jsxDEV("button",{onClick:V,disabled:!O,className:`w-full py-2 px-4 rounded-lg font-semibold text-sm transition-colors ${O?"bg-green-600 hover:bg-green-700 text-white cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:O?"":"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:892,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:883,columnNumber:21},void 0),(p||s)&&e.jsxDEV("div",{className:"w-full bg-blue-900/30 text-blue-300 py-2 px-4 rounded-lg font-semibold text-sm text-center border border-blue-700/50",children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:909,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:880,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:745,columnNumber:9},void 0)},yr=({match:o,currentUser:a,tournamentState:c})=>{var M,C;const m=o.players[0],u=o.players[1],p=w=>{var V,$;if(w!==a.id||!c)return null;const R=c.type==="national",O=c.type==="world";if(R||O){const z=c.rounds.find(q=>q.matches.some(B=>B.id===o.id));if(!z||!o.isFinished||!(((V=o.winner)==null?void 0:V.id)===w))return null;const G=z.name;return G==="16"?"8 ":G==="8"?"4 ":G==="4"?" ":G===""?"":G==="3,4"?"3/4 ":null}else{const P=c.rounds.flatMap(Q=>Q.matches).filter(Q=>Q.isUserMatch&&Q.players.some(Z=>(Z==null?void 0:Z.id)===w)).filter(Q=>Q.isFinished),G=P.filter(Q=>{var Z;return((Z=Q.winner)==null?void 0:Z.id)===w}).length,q=P.length-G;if(P.length===0)return null;const X=(($=P[P.length-1].winner)==null?void 0:$.id)===w;return`${P.length} ${X?"":""}! (${G} ${q})`}},s=b.useMemo(()=>{if(!c)return!1;const w=c.rounds.find(R=>R.name==="");return(w==null?void 0:w.matches.some(R=>R.id===o.id))||!1},[c,o.id]),x=(c==null?void 0:c.status)==="complete",v=({player:w,isWinner:R})=>{var B,X,H;const O=(c==null?void 0:c.type)==="national",V=(c==null?void 0:c.type)==="world",$=O||V;if(!w)return e.jsxDEV("div",{className:`${$?"h-16":"h-10"} flex items-center justify-center ${$?"px-4":"px-2"}`,children:e.jsxDEV("span",{className:`text-gray-500 italic ${$?"text-base":"text-sm"}`,children:" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:987,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:986,columnNumber:17},void 0);const z=(B=Jn.find(Q=>Q.id===w.avatarId))==null?void 0:B.url,P=(X=Zn.find(Q=>Q.id===w.borderId))==null?void 0:X.url,G=p(w.id),q=s&&x&&R&&w.id===((H=o.winner)==null?void 0:H.id)&&o.isFinished;if($){const Q=R&&o.isFinished?(()=>{if(!o.finalScore)return"";const Z=o.finalScore.player1,le=Math.abs(Z-50)*2/2,ue=Math.round(le)+.5;return`${ue<.5?"0.5":ue.toFixed(1)} `})():null;return e.jsxDEV("div",{className:`flex flex-col items-center justify-center ${R?"px-3 py-2":"px-2 py-1.5"} rounded-lg transition-all ${R?"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border border-yellow-400/50 shadow-lg shadow-yellow-500/20":o.isFinished?"opacity-50":"hover:bg-gray-700/30"}`,children:[e.jsxDEV("div",{className:"flex-shrink-0 mb-1.5",children:e.jsxDEV(_n,{userId:w.id,userName:w.nickname,avatarUrl:z,borderUrl:P,size:36},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1020,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1019,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-1 w-full min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-1.5 flex-wrap",children:[e.jsxDEV("span",{className:`text-center font-semibold text-sm break-words ${R?"text-yellow-300 font-bold":o.isFinished?"text-gray-400":"text-gray-200"}`,children:w.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1027,columnNumber:29},void 0),o.isFinished&&R&&Q&&e.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-black font-bold text-xs px-2 py-0.5 rounded-full shadow-lg flex items-center gap-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1038,columnNumber:37},void 0),e.jsxDEV("span",{children:Q},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1039,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1037,columnNumber:33},void 0),q&&e.jsxDEV("img",{src:"/images/championship/Ranking.png",alt:"Trophy",className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1043,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1026,columnNumber:25},void 0),G&&e.jsxDEV("div",{className:"text-yellow-400 font-semibold text-xs text-center break-words",children:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1053,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1024,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1011,columnNumber:17},void 0)}else return e.jsxDEV("div",{className:`flex items-center gap-2 ${R?"px-2 py-2":"px-2 py-1.5"} rounded-md transition-all ${R?"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border border-yellow-400/50 shadow-lg shadow-yellow-500/20":o.isFinished?"opacity-50":"hover:bg-gray-700/30"}`,children:[e.jsxDEV(_n,{userId:w.id,userName:w.nickname,avatarUrl:z,borderUrl:P,size:32},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1070,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:`truncate font-semibold text-sm ${R?"text-yellow-300 font-bold":o.isFinished?"text-gray-400":"text-gray-200"}`,children:w.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1073,columnNumber:29},void 0),o.isFinished&&R&&E&&e.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-black font-bold text-xs px-2 py-0.5 rounded-full shadow-lg flex items-center gap-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1084,columnNumber:37},void 0),e.jsxDEV("span",{children:[E," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1085,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1083,columnNumber:33},void 0),q&&e.jsxDEV("img",{src:"/images/championship/Ranking.png",alt:"Trophy",className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1089,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1072,columnNumber:25},void 0),G&&e.jsxDEV("span",{className:"text-yellow-400 font-semibold text-xs truncate",children:G},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1097,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1071,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1063,columnNumber:17},void 0)},g=o.isFinished&&((M=o.winner)==null?void 0:M.id)===(m==null?void 0:m.id),f=o.isFinished&&((C=o.winner)==null?void 0:C.id)===(u==null?void 0:u.id),h=(m==null?void 0:m.id)===a.id||(u==null?void 0:u.id)===a.id,N=o.isFinished,E=(()=>{if(!N||!o.finalScore)return"";const w=o.finalScore.player1,O=Math.abs(w-50)*2/2,$=Math.round(O)+.5;return $<.5?"0.5":$.toFixed(1)})(),j=(c==null?void 0:c.type)==="national",U=(c==null?void 0:c.type)==="world",S=j||U;return e.jsxDEV("div",{className:`relative w-full rounded-xl overflow-hidden transition-all duration-300 ${h?"bg-gradient-to-br from-blue-900/60 via-blue-800/50 to-indigo-900/60 border-2 border-blue-500/70 shadow-lg shadow-blue-500/20":"bg-gradient-to-br from-gray-800/80 via-gray-700/70 to-gray-800/80 border border-gray-600/50 shadow-md"} ${N?"":"hover:scale-[1.02] hover:shadow-xl"}`,children:S?e.jsxDEV("div",{className:"p-3",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0 flex justify-center",children:e.jsxDEV(v,{player:m,isWinner:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1142,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1141,columnNumber:25},void 0),!N&&e.jsxDEV("div",{className:"text-sm text-gray-400 font-semibold flex-shrink-0",children:"VS"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1145,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0 flex justify-center",children:e.jsxDEV(v,{player:u,isWinner:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1148,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1147,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1140,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1139,columnNumber:17},void 0):e.jsxDEV("div",{className:"p-3 space-y-2",children:[e.jsxDEV(v,{player:m,isWinner:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1155,columnNumber:21},void 0),!N&&e.jsxDEV("div",{className:"flex items-center justify-center py-1",children:e.jsxDEV("div",{className:"text-xs text-gray-400 font-semibold",children:"VS"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1158,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1157,columnNumber:25},void 0),e.jsxDEV(v,{player:u,isWinner:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1161,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1154,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1131,columnNumber:9},void 0)},MD=({name:o,matches:a,currentUser:c,tournamentState:m})=>{const u=o.includes("")||o.includes("3,4"),p=(m==null?void 0:m.type)==="national",s=(m==null?void 0:m.type)==="world",x=p||s;return e.jsxDEV("div",{className:`flex flex-col justify-around h-full ${x?"gap-6":"gap-4"} flex-shrink-0 ${x?"min-w-[280px]":"min-w-[200px]"}`,children:[e.jsxDEV("div",{className:`text-center font-bold ${x?"text-lg py-3 px-5":"text-base py-2 px-4"} rounded-lg ${u?"bg-gradient-to-r from-purple-600/80 to-pink-600/80 text-white shadow-lg shadow-purple-500/30 border-2 border-purple-400/50":"bg-gradient-to-r from-gray-700/80 to-gray-600/80 text-gray-200 shadow-md border border-gray-500/50"}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1176,columnNumber:13},void 0),e.jsxDEV("div",{className:`flex flex-col justify-around h-full ${x?"gap-6":"gap-4"}`,children:a==null?void 0:a.map(v=>e.jsxDEV(yr,{match:v,currentUser:c,tournamentState:m},v.id,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1185,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1183,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1175,columnNumber:9},void 0)},OV=({tournamentState:o,currentUser:a})=>{const[c,m]=b.useState("round"),{players:u,rounds:p,status:s,currentRoundRobinRound:x,type:v}=o,g=s==="complete"?5:x||1,[f,h]=b.useState(g),N=b.useMemo(()=>p.flatMap(w=>w.matches),[p]),y=b.useMemo(()=>{const w={};return u.forEach(R=>{w[R.id]={wins:0,losses:0}}),N.forEach(R=>{if(R.isFinished&&R.winner){const O=R.winner.id;w[O]&&w[O].wins++;const V=R.players.find($=>$&&$.id!==O);V&&w[V.id]&&w[V.id].losses++}}),w},[u,N]),E=b.useMemo(()=>[...u].sort((w,R)=>{var P,G,q,B;const O=((P=y[w.id])==null?void 0:P.wins)||0,V=((G=y[R.id])==null?void 0:G.wins)||0;if(O!==V)return V-O;const $=((q=y[w.id])==null?void 0:q.losses)||0,z=((B=y[R.id])==null?void 0:B.losses)||0;return $-z}),[u,y]),j=s==="complete"?5:x||1,U=b.useMemo(()=>p.find(w=>w.name===`${f}`),[p,f]),S=(U==null?void 0:U.matches)||[],M=b.useRef(!1);b.useEffect(()=>{!M.current&&j&&f!==j&&h(j),M.current=!1},[j,f]);const C=w=>{M.current=!0,h(w)};return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",children:[e.jsxDEV("h4",{className:"font-bold text-center mb-2 flex-shrink-0 text-gray-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1265,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>m("round"),className:`flex-1 py-1 text-xs font-semibold rounded-md transition-all ${c==="round"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1267,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m("ranking"),className:`flex-1 py-1 text-xs font-semibold rounded-md transition-all ${c==="ranking"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:s==="complete"?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1266,columnNumber:13},void 0),e.jsxDEV("div",{className:"overflow-y-auto pr-2 flex-grow min-h-0",children:c==="round"?e.jsxDEV("div",{className:"flex flex-col h-full",children:[e.jsxDEV("div",{className:"flex gap-1 mb-2 flex-shrink-0",children:[1,2,3,4,5].map(w=>e.jsxDEV("button",{onClick:()=>C(w),className:`flex-1 py-1 text-xs font-semibold rounded-md transition-all ${f===w?"bg-blue-700 text-white":w<=j?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,disabled:w>j,children:[w,""]},w,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1276,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1274,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col items-center justify-around flex-grow gap-4 min-h-0 px-2",children:S.length>0?S.map(w=>e.jsxDEV("div",{className:"w-full max-w-md",children:e.jsxDEV(yr,{match:w,currentUser:a,tournamentState:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1297,columnNumber:41},void 0)},w.id,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1296,columnNumber:37},void 0)):e.jsxDEV("div",{className:"text-gray-400 text-sm italic",children:" ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1301,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1293,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1272,columnNumber:21},void 0):e.jsxDEV("ul",{className:"space-y-2",children:E.map((w,R)=>{var q,B;const O=y[w.id],V=w.id===a.id,$=R<3,z=(q=Jn.find(X=>X.id===w.avatarId))==null?void 0:q.url,P=(B=Zn.find(X=>X.id===w.borderId))==null?void 0:B.url,G=s==="complete"&&R===0;return e.jsxDEV("li",{className:`flex items-center gap-3 p-3 rounded-lg transition-all ${V?"bg-gradient-to-r from-blue-600/60 to-indigo-600/60 border-2 border-blue-400/70 shadow-lg":$?"bg-gradient-to-r from-yellow-900/40 to-amber-900/40 border border-yellow-600/50 shadow-md":"bg-gray-700/50 border border-gray-600/30 hover:bg-gray-700/70"}`,children:[e.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm flex-shrink-0 ${R===0?"bg-gradient-to-br from-yellow-400 to-amber-500 text-black shadow-lg":R===1?"bg-gradient-to-br from-gray-300 to-gray-400 text-gray-800 shadow-md":R===2?"bg-gradient-to-br from-amber-600 to-orange-600 text-white shadow-md":"bg-gray-600 text-gray-200"}`,children:R+1},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1323,columnNumber:38},void 0),e.jsxDEV(_n,{userId:w.id,userName:w.nickname,avatarUrl:z,borderUrl:P,size:36},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1334,columnNumber:38},void 0),e.jsxDEV("span",{className:`flex-grow font-semibold text-sm truncate ${V?"text-blue-200":"text-gray-200"}`,children:w.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1335,columnNumber:38},void 0),G&&e.jsxDEV("img",{src:"/images/championship/Ranking.png",alt:"Trophy",className:"w-6 h-6 flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1341,columnNumber:42},void 0),e.jsxDEV("div",{className:"flex items-baseline gap-2 text-xs font-semibold",children:[e.jsxDEV("span",{className:"text-green-400",children:[O.wins,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1348,columnNumber:42},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1349,columnNumber:42},void 0),e.jsxDEV("span",{className:"text-red-400",children:[O.losses,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1350,columnNumber:42},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1347,columnNumber:38},void 0)]},w.id,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1316,columnNumber:34},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1306,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1270,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1264,columnNumber:9},void 0)},GV=({rounds:o,currentUser:a,tournamentType:c,tournamentState:m,nextRoundTrigger:u})=>{const p=b.useMemo(()=>{const N=new Map;o.forEach(j=>N.set(j.name,j.matches));let y=[];if(c==="world")y=["16","8","4","&3/4"];else if(c==="national")y=["8","4","&3/4"];else return null;return y.map(j=>{let U=[];return j==="  3/4"||j==="&3/4"?U=(N.get("")||[]).concat(N.get("3,4")||[]):j==="4"?U=N.get("4")||[]:U=N.get(j)||[],{name:j,matches:U,isInProgress:U.length>0&&U.some(S=>!S.isFinished)}})},[o,c]),s=()=>{if(!p)return 0;if(m&&(m.status==="complete"||m.status==="eliminated"))return Math.max(0,p.length-1);const N=p.findIndex(y=>y.isInProgress);return N!==-1?N:0},[x,v]=b.useState(s),g=b.useRef(u||0);if(b.useEffect(()=>{var N;if(u!==void 0&&u>g.current&&p){const y=(N=p[x])==null?void 0:N.name;if(c==="national"){if(y==="8"){const E=p.findIndex(j=>j.name==="4");E!==-1&&v(E)}else if(y==="4"){const E=p.findIndex(j=>j.name==="&3/4");E!==-1&&v(E)}}else if(c==="world"){if(y==="16"){const E=p.findIndex(j=>j.name==="8");E!==-1&&v(E)}else if(y==="8"){const E=p.findIndex(j=>j.name==="4");E!==-1&&v(E)}else if(y==="4"){const E=p.findIndex(j=>j.name==="&3/4");E!==-1&&v(E)}}g.current=u}else u!==void 0&&(g.current=u)},[u,x,p,c]),!p){const N=["16","8","4","3,4",""],y=[...o].sort((E,j)=>N.indexOf(E.name)-N.indexOf(j.name));return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",children:[e.jsxDEV("h4",{className:"font-bold text-center mb-2 flex-shrink-0 text-gray-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1489,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-auto flex items-center justify-center p-2 space-x-4",children:y.map(E=>e.jsxDEV(MD,{name:E.name,matches:E.matches,currentUser:a,tournamentState:m},E.id,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1492,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1490,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1488,columnNumber:13},void 0)}const f=p[x],h=N=>{if(c==="national"||c==="world"){if(N.name==="&3/4"){const y=N.matches.filter(j=>{var U;return((U=o.find(S=>S.matches.includes(j)))==null?void 0:U.name)===""}),E=N.matches.filter(j=>{var U;return((U=o.find(S=>S.matches.includes(j)))==null?void 0:U.name)==="3,4"});return e.jsxDEV("div",{className:"flex flex-col items-center justify-start gap-4 p-4 overflow-y-auto h-full",children:[y.length>0&&e.jsxDEV("div",{className:"w-full max-w-[280px]",children:e.jsxDEV(yr,{match:y[0],currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1639,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1638,columnNumber:29},void 0),E.length>0&&e.jsxDEV("div",{className:"w-full max-w-[280px]",children:e.jsxDEV(yr,{match:E[0],currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1644,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1643,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1636,columnNumber:21},void 0)}return e.jsxDEV("div",{className:"flex flex-col items-center justify-start gap-4 p-4 overflow-y-auto h-full",children:N.matches.map(y=>e.jsxDEV("div",{className:"w-full max-w-[280px]",children:e.jsxDEV(yr,{match:y,currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1658,columnNumber:29},void 0)},y.id,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1657,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1655,columnNumber:17},void 0)}if(N.name==="  3/4"){const y=N.matches.filter(j=>{var U;return((U=o.find(S=>S.matches.includes(j)))==null?void 0:U.name)===""}),E=N.matches.filter(j=>{var U;return((U=o.find(S=>S.matches.includes(j)))==null?void 0:U.name)==="3,4"});return e.jsxDEV("div",{className:"flex flex-col justify-center items-center h-full gap-8 p-4",children:[y.length>0&&e.jsxDEV("div",{className:"w-full max-w-[200px]",children:e.jsxDEV(yr,{match:y[0],currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1673,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1672,columnNumber:25},void 0),E.length>0&&e.jsxDEV("div",{className:"w-full max-w-[200px]",children:e.jsxDEV(yr,{match:E[0],currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1678,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1677,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1670,columnNumber:17},void 0)}return e.jsxDEV("div",{className:"flex justify-center items-center h-full gap-4 p-4",children:e.jsxDEV(MD,{name:N.name,matches:N.matches,currentUser:a,tournamentState:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1687,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1686,columnNumber:14},void 0)};return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",children:[e.jsxDEV("h4",{className:"font-bold text-center mb-3 flex-shrink-0 text-gray-200 text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1696,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex bg-gradient-to-r from-gray-800/90 to-gray-700/90 p-1 rounded-xl mb-3 flex-shrink-0 border border-gray-600/50 shadow-lg",children:p.map((N,y)=>e.jsxDEV("button",{onClick:()=>v(y),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 ${x===y?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg scale-105":"text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:N.name},N.name,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1699,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1697,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-hidden min-h-0",children:f&&h(f)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1713,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1695,columnNumber:9},void 0)},zV=o=>{var ke,Te;const{tournament:a,currentUser:c,onBack:m,allUsersForRanking:u,onViewUser:p,onAction:s,onStartNextRound:x,onReset:v,onSkip:g,onOpenShop:f,isMobile:h}=o,[N,y]=b.useState(!1),[E,j]=b.useState(null),[U,S]=b.useState({p1:null,p2:null}),[M,C]=b.useState(!1),[w,R]=b.useState(!1),O=b.useRef(a.status),[V,$]=b.useState(0),[z,P]=b.useState(50),G=b.useMemo(()=>Array.isArray(a.rounds)?a.rounds:[],[a.rounds]);b.useEffect(()=>{if(c!=null&&c.id)return s({type:"ENTER_TOURNAMENT_VIEW"}),()=>{s({type:"LEAVE_TOURNAMENT_VIEW"})}},[s,c==null?void 0:c.id]),b.useEffect(()=>{const be=a.status;if(O.current,be==="round_complete"||be==="eliminated"||be==="complete"){const Ce=[...G].reverse().flatMap(Re=>Re.matches).find(Re=>Re.isUserMatch&&Re.isFinished);Ce&&Ce.sgfFileIndex!==void 0&&j(Ce.sgfFileIndex)}else if(be==="bracket_ready")j(null);else if(be==="round_in_progress"&&a.timeElapsed===1){const Ce=a.currentSimulatingMatch;if(Ce){const Re=G[Ce.roundIndex].matches[Ce.matchIndex],Ze=a.players.find(Fe=>{var tn;return Fe.id===((tn=Re.players[0])==null?void 0:tn.id)})||null,Se=a.players.find(Fe=>{var tn;return Fe.id===((tn=Re.players[1])==null?void 0:tn.id)})||null;S({p1:Ze?JSON.parse(JSON.stringify(Ze)):null,p2:Se?JSON.parse(JSON.stringify(Se)):null})}}else be!=="round_in_progress"&&S({p1:null,p2:null});O.current=be},[a,G]);const q=b.useCallback(()=>{a.status==="round_in_progress"?window.confirm("  .   ?    .")&&s({type:"FORFEIT_CURRENT_MATCH",payload:{type:a.type}}):m()},[m,s,a.status,a.type]),B=b.useCallback(()=>{window.confirm("  ?    .")&&s({type:"FORFEIT_TOURNAMENT",payload:{type:a.type}})},[s,a.type]),X=a.status==="round_in_progress",H=X&&a.currentSimulatingMatch?G[a.currentSimulatingMatch.roundIndex].matches[a.currentSimulatingMatch.matchIndex]:null,Q=b.useMemo(()=>[...G].reverse().flatMap(be=>be.matches).find(be=>be.isUserMatch&&be.isFinished),[G]),Z=b.useMemo(()=>{var be;return X?H:a.type==="neighborhood"&&a.status==="round_complete"&&Q?Q:G.flatMap(Ce=>Ce.matches).find(Ce=>Ce.isUserMatch&&!Ce.isFinished)||Q||G.flatMap(Ce=>Ce.matches).find(Ce=>Ce.isUserMatch)||((be=G[0])==null?void 0:be.matches[0])},[X,H,a.type,a.status,G,Q]),ne=b.useMemo(()=>G.flatMap(be=>be.matches).find(be=>be.isUserMatch&&!be.isFinished),[G]),le=b.useMemo(()=>a.players.find(be=>be.id===c.id),[a.players,c.id]),L=b.useMemo(()=>{var be;if(a.status!=="complete")return null;if(a.type==="neighborhood"){const Ce={};return a.players.forEach(Re=>Ce[Re.id]=0),G[0].matches.forEach(Re=>{Re.winner&&Ce[Re.winner.id]++}),[...a.players].sort((Re,Ze)=>Ce[Ze.id]-Ce[Re.id])[0]}else{const Ce=G.find(Re=>Re.name==="");return(be=Ce==null?void 0:Ce.matches[0])==null?void 0:be.winner}},[a.status,a.type,a.players,G]);b.useMemo(()=>{var Ce,Re;if(a.status==="complete"||a.status==="eliminated"){if(a.type==="neighborhood"){const Se=G.flatMap(qe=>qe.matches).filter(qe=>qe.isUserMatch&&qe.isFinished),Fe=Se.filter(qe=>{var Ee;return((Ee=qe.winner)==null?void 0:Ee.id)===c.id}).length,tn=Se.length-Fe,Rn={};a.players.forEach(qe=>{Rn[qe.id]=0}),G[0].matches.forEach(qe=>{qe.winner&&(Rn[qe.winner.id]=(Rn[qe.winner.id]||0)+1)});const Dn=[...a.players].sort((qe,Ee)=>Rn[Ee.id]-Rn[qe.id]);let Ue=-1,Be=1;for(let qe=0;qe<Dn.length;qe++)if(qe>0&&Rn[Dn[qe].id]<Rn[Dn[qe-1].id]&&(Be=qe+1),Dn[qe].id===c.id){Ue=Be;break}return`${Fe} ${tn}! ${Ue}`}if((L==null?void 0:L.id)===c.id)return" !";const Ze=[...G].reverse().flatMap(Se=>Se.matches).find(Se=>Se.isUserMatch&&Se.isFinished);if(Ze){const Se=G.find(Fe=>Fe.matches.some(tn=>tn.id===Ze.id));if((Se==null?void 0:Se.name)==="")return"!";if((Se==null?void 0:Se.name)==="4"){const Fe=G.flatMap(tn=>tn.matches).find(tn=>{const Rn=G.find(Dn=>Dn.matches.some(Ue=>Ue.id===tn.id));return tn.isUserMatch&&(Rn==null?void 0:Rn.name)==="3,4"});if(Fe)return((Ce=Fe.winner)==null?void 0:Ce.id)===c.id?"3":"4"}return`${(Se==null?void 0:Se.name)||""} `}return" "}if(a.status==="round_complete"||a.status==="bracket_ready"){const Ze=[...G].reverse().flatMap(Se=>Se.matches).find(Se=>Se.isUserMatch&&Se.isFinished);if(Ze){const Se=((Re=Ze.winner)==null?void 0:Re.id)===c.id;if(a.type==="neighborhood"){const Fe=G.flatMap(Dn=>Dn.matches).filter(Dn=>Dn.isUserMatch&&Dn.isFinished),tn=Fe.filter(Dn=>{var Ue;return((Ue=Dn.winner)==null?void 0:Ue.id)===c.id}).length,Rn=Fe.length-tn;return`${Fe.length} ${Se?"":""}! (${tn} ${Rn})`}else if(Se){const Fe=G.find(tn=>tn.matches.some(Rn=>!Rn.isFinished&&Rn.players.some(Dn=>(Dn==null?void 0:Dn.id)===c.id)));if(Fe)return`${Fe.name} !`}}}const be=G.find(Ze=>Ze.matches.some(Se=>Se.isUserMatch&&!Se.isFinished));return be?`${be.name}  `:"  "},[c.id,a,L,G]);const ue=(Z==null?void 0:Z.players[0])||null,pe=(Z==null?void 0:Z.players[1])||null,ie=ue?a.players.find(be=>be.id===ue.id)||ue:null,fe=pe?a.players.find(be=>be.id===pe.id)||pe:null,W=b.useMemo(()=>{if(a.status==="round_in_progress")return(ie==null?void 0:ie.stats)||{};if(ie!=null&&ie.originalStats)return ie.originalStats;const be=u.find(Ce=>Ce.id===(ie==null?void 0:ie.id));return be?Pa(be):(ie==null?void 0:ie.stats)||{}},[ie==null?void 0:ie.stats,ie==null?void 0:ie.originalStats,ie==null?void 0:ie.id,a.status,u]),Pe=b.useMemo(()=>{if(a.status==="round_in_progress")return(fe==null?void 0:fe.stats)||{};if(fe!=null&&fe.originalStats)return fe.originalStats;const be=u.find(Ce=>Ce.id===(fe==null?void 0:fe.id));return be?Pa(be):(fe==null?void 0:fe.stats)||{}},[fe==null?void 0:fe.stats,fe==null?void 0:fe.originalStats,fe==null?void 0:fe.id,a.status,u]),me=b.useMemo(()=>[{stats:W,color:"#60a5fa",fill:"rgba(59, 130, 246, 0.4)"},{stats:Pe,color:"#f87171",fill:"rgba(239, 68, 68, 0.4)"}],[W,Pe]),de=b.useMemo(()=>{if(!W||!Pe||Object.keys(W).length===0||Object.keys(Pe).length===0)return 200;const be=[...Object.values(W),...Object.values(Pe)],Ce=Math.max(...be,0);return Math.ceil((Ce+50)/50)*50},[W,Pe]),Ge=b.useMemo(()=>{if(a.status!=="round_in_progress")return"none";const be=a.timeElapsed;return be<=15?"early":be<=35?"mid":be<=50?"end":"none"},[a.timeElapsed,a.status]),ve=((ke=a.currentMatchScores)==null?void 0:ke.player1)||0,an=((Te=a.currentMatchScores)==null?void 0:Te.player2)||0,ye=ve+an,De=ye>0?ve/ye*100:50,We=ye>0?an/ye*100:50,Je=(()=>{const{status:be}=a;if(be==="round_in_progress")return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{disabled:!0,colorScheme:"green",className:"!text-sm !py-2 !px-4",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1988,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:B,colorScheme:"red",className:"!text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1989,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:1987,columnNumber:17},void 0);if(be==="complete"||be==="eliminated")return null;if(a.type==="neighborhood"&&be==="round_complete"&&(a.currentRoundRobinRound||1)<5)return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:async()=>{console.log("[TournamentBracket]   ");try{await x()}catch(Se){console.error("[TournamentBracket]   :",Se)}},colorScheme:"blue",className:"animate-pulse !text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2011,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:B,colorScheme:"red",className:"!text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2025,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2010,columnNumber:21},void 0);if((a.type==="national"||a.type==="world")&&be==="round_complete"&&(G.some(Ze=>Ze.matches.some(Se=>!Se.isFinished&&Se.isUserMatch))||G.some(Ze=>Ze.matches.some(Se=>!Se.isFinished))))return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:async()=>{console.log("[TournamentBracket]    ()");try{await x(),$(Ze=>Ze+1)}catch(Ze){console.error("[TournamentBracket]   :",Ze)}},colorScheme:"blue",className:"animate-pulse !text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2042,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:B,colorScheme:"red",className:"!text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2058,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2041,columnNumber:21},void 0);const Ce=G.some(Re=>Re.matches.some(Ze=>Ze.isUserMatch&&!Ze.isFinished));return(be==="round_complete"||be==="bracket_ready")&&Ce?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:()=>s({type:"START_TOURNAMENT_MATCH",payload:{type:a.type}}),colorScheme:"green",className:"animate-pulse !text-sm !py-2 !px-4",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2071,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:B,colorScheme:"red",className:"!text-sm !py-2 !px-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2078,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2070,columnNumber:17},void 0):null})(),K=e.jsxDEV("div",{className:"h-full w-full flex flex-col",style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[e.jsxDEV("div",{className:"overflow-y-auto",style:{flex:Je?"1 1 0":"1 1 auto",minHeight:0,maxHeight:Je?"calc(100% - 100px)":"100%",overflowY:"auto",overflowX:"hidden",width:"100%",WebkitOverflowScrolling:"touch"},children:a.type==="neighborhood"?e.jsxDEV(OV,{tournamentState:a,currentUser:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2106,columnNumber:17},void 0):e.jsxDEV(GV,{rounds:G,currentUser:c,tournamentType:a.type,tournamentState:a,nextRoundTrigger:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2108,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2093,columnNumber:13},void 0),Je&&e.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800/95 rounded-lg p-2 sm:p-3 mt-2 mb-2 border-2 border-gray-600 shadow-xl flex items-center justify-center",style:{flexShrink:0,flexGrow:0,width:"100%",minHeight:"60px",maxHeight:"90px",position:"relative",zIndex:10,marginTop:"8px",marginBottom:"8px"},children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 sm:gap-3 flex-wrap h-full w-full",children:Je},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2133,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2119,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2091,columnNumber:9},void 0),J=e.jsxDEV("div",{className:`${h?"w-full":"flex-1"} flex flex-col lg:flex-row gap-2 ${h?"":"min-h-0 overflow-hidden"}`,style:h?{}:{height:"100%",display:"flex"},children:[e.jsxDEV("div",{className:`${h?"w-full":"flex-1"} flex flex-col gap-2 ${h?"":"min-h-0 min-w-0 overflow-hidden"}`,children:[e.jsxDEV("section",{className:`flex-shrink-0 flex flex-row gap-1 md:gap-2 items-stretch p-1.5 md:p-2 bg-gray-800/50 rounded-lg ${h?"mt-2 mb-2 max-h-none":"max-h-[280px] md:max-h-[300px]"} ${h?"":"overflow-hidden"}`,children:[e.jsxDEV("div",{className:"flex-1 min-w-0 min-h-0 overflow-hidden",children:e.jsxDEV(jD,{player:ie,initialPlayer:U.p1,allUsers:u,currentUserId:c.id,onViewUser:p,highlightPhase:Ge,isUserMatch:(H==null?void 0:H.isUserMatch)||ne&&ne.players.some(be=>(be==null?void 0:be.id)===(ie==null?void 0:ie.id))||!1,onUseConditionPotion:()=>{C(!0)},timeElapsed:a.timeElapsed,tournamentStatus:a.status,isMobile:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2147,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2146,columnNumber:21},void 0),!h&&e.jsxDEV("div",{className:"flex-shrink-0 w-32 sm:w-40 md:w-44 xl:w-52 flex flex-col items-center justify-center min-w-0",children:[e.jsxDEV(vS,{datasets:me,maxStatValue:de,size:h?120:void 0},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2165,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-center gap-1 sm:gap-2 text-[9px] sm:text-[10px] md:text-xs mt-1",children:[e.jsxDEV("span",{className:"flex items-center gap-0.5",children:[e.jsxDEV("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 rounded-sm",style:{backgroundColor:"rgba(59, 130, 246, 0.6)"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2167,columnNumber:77},void 0),e.jsxDEV("span",{className:"truncate max-w-[40px] sm:max-w-none",children:(ie==null?void 0:ie.nickname)||" 1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2167,columnNumber:204},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2167,columnNumber:33},void 0),e.jsxDEV("span",{className:"flex items-center gap-0.5",children:[e.jsxDEV("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-3 md:h-3 rounded-sm",style:{backgroundColor:"rgba(239, 68, 68, 0.6)"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2168,columnNumber:77},void 0),e.jsxDEV("span",{className:"truncate max-w-[40px] sm:max-w-none",children:(fe==null?void 0:fe.nickname)||" 2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2168,columnNumber:203},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2168,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2166,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2164,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0 min-h-0 overflow-hidden",children:e.jsxDEV(jD,{player:fe,initialPlayer:U.p2,allUsers:u,currentUserId:c.id,onViewUser:p,highlightPhase:Ge,isUserMatch:(H==null?void 0:H.isUserMatch)||ne&&ne.players.some(be=>(be==null?void 0:be.id)===(fe==null?void 0:fe.id))||!1,onUseConditionPotion:()=>{C(!0)},timeElapsed:a.timeElapsed,tournamentStatus:a.status,isMobile:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2173,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2172,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2145,columnNumber:17},void 0),e.jsxDEV("div",{className:`${h?"w-full mt-4":"flex-1"} flex ${h?"flex-col":"flex-row"} gap-2 ${h?"":"min-h-0 max-h-full overflow-hidden"}`,children:[e.jsxDEV("div",{className:`${h?"flex-shrink-0":"lg:w-2/5"} bg-gray-800/50 rounded-lg p-1 md:p-2 flex flex-col items-center justify-center overflow-auto relative`,style:h?{height:z===25?"30vh":"50vh",minHeight:"200px",maxHeight:"none"}:void 0,children:e.jsxDEV("div",{className:"flex-1 w-full flex items-center justify-center min-h-0 relative",children:[h&&e.jsxDEV("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 z-10 flex gap-1 opacity-50 hover:opacity-100 transition-opacity",children:[{value:25,label:"50%"},{value:50,label:"100%"}].map(({value:be,label:Ce})=>e.jsxDEV("button",{onClick:()=>P(be),className:`px-2 py-1 text-xs rounded transition-colors ${z===be?"bg-blue-600 text-white":"bg-gray-700/80 text-gray-300 hover:bg-gray-600/80"}`,children:Ce},be,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2209,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2204,columnNumber:33},void 0),e.jsxDEV(wV,{timeElapsed:X?a.timeElapsed:0,fileIndex:X?H==null?void 0:H.sgfFileIndex:(()=>{if(a.type==="neighborhood"){if(a.status==="round_complete")return E!==null?E:(Z==null?void 0:Z.sgfFileIndex)!==void 0?Z.sgfFileIndex:null;if(a.status==="bracket_ready")return null}return a.status==="bracket_ready"&&!(ne!=null&&ne.sgfFileIndex)?null:E!==null?E:(Z==null?void 0:Z.sgfFileIndex)!==void 0?Z.sgfFileIndex:null})(),showLastMoveOnly:!X&&(a.status==="round_complete"||a.status==="complete"||a.status==="eliminated")},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2223,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2202,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2194,columnNumber:21},void 0),e.jsxDEV("div",{className:`${h?"w-full":"w-full lg:w-3/5"} flex flex-col gap-2 ${h?"":"overflow-hidden"}`,style:h?{}:{height:"100%",minHeight:0},children:[e.jsxDEV("section",{className:"flex-shrink-0 bg-gray-800/50 rounded-lg p-1.5 md:p-2",children:[e.jsxDEV(_V,{p1Percent:De,p2Percent:We,p1Nickname:ie==null?void 0:ie.nickname,p2Nickname:fe==null?void 0:fe.nickname,lastScoreIncrement:a.lastScoreIncrement},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2258,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-1.5",children:e.jsxDEV(IV,{timeElapsed:a.timeElapsed,totalDuration:50},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2265,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2265,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2257,columnNumber:25},void 0),e.jsxDEV("div",{className:`${h?"flex-col":"flex-row"} ${h?"w-full":"flex-1 min-h-0"} gap-2 ${h?"":"overflow-hidden"}`,style:h?{}:{display:"flex"},children:[e.jsxDEV("div",{className:`${h?"w-full":"flex-[2] min-w-0"} bg-gray-800/50 rounded-lg p-1 md:p-2 flex flex-col ${h?"":"overflow-hidden"}`,style:h?{height:"400px",minHeight:"400px",maxHeight:"500px",display:"flex",flexDirection:"column"}:{display:"flex",flexDirection:"column"},children:e.jsxDEV(LV,{commentary:a.currentMatchCommentary,isSimulating:a.status==="round_in_progress"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2277,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2273,columnNumber:29},void 0),e.jsxDEV("div",{className:`${h?"w-full":"flex-[1] min-w-0"} bg-gray-800/50 rounded-lg p-1 md:p-2 flex flex-col ${h?"":"overflow-hidden"}`,style:h?{height:"400px",minHeight:"400px",maxHeight:"500px",display:"flex",flexDirection:"column"}:{display:"flex",flexDirection:"column"},children:e.jsxDEV($V,{tournamentState:a,currentUser:c,onAction:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2284,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2280,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2268,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2253,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2192,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2143,columnNumber:13},void 0),!h&&e.jsxDEV("aside",{className:"flex flex-col w-[320px] xl:w-[380px] flex-shrink-0 bg-gray-800 rounded-lg p-2 border-2 border-gray-600 shadow-lg",style:{height:"100%",minHeight:0,maxHeight:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:K},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2292,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2142,columnNumber:9},void 0);return e.jsxDEV("div",{className:"w-full h-full flex flex-col gap-1 sm:gap-2 bg-gray-900 text-white relative overflow-hidden",style:{height:"100%",minHeight:0},children:[e.jsxDEV("header",{className:"flex justify-between items-center p-2 sm:p-3 flex-shrink-0 border-b border-gray-700",children:[e.jsxDEV("button",{onClick:q,className:"transition-transform active:scale-90 filter hover:drop-shadow-lg",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-10 h-10 sm:w-12 sm:h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2302,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 text-center flex items-center justify-center gap-3",children:[e.jsxDEV("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:ws[a.type].name},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2306,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>R(!0),className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center transition-transform hover:scale-110","aria-label":"",title:"",children:e.jsxDEV("img",{src:"/images/button/help.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2313,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2307,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2305,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-8 sm:w-10"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2316,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2301,columnNumber:13},void 0),h?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex-1 flex flex-col gap-1 sm:gap-2 min-h-0 relative overflow-y-auto p-1 sm:p-2 pb-2",style:{WebkitOverflowScrolling:"touch"},children:[e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-20",children:e.jsxDEV("button",{onClick:()=>y(!0),className:"w-8 h-12 bg-gray-800/80 backdrop-blur-sm rounded-l-lg flex items-center justify-center text-white shadow-lg hover:bg-gray-700/80","aria-label":" ",children:e.jsxDEV("span",{className:"relative font-bold text-lg",children:"<<"},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2327,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2322,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2321,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full pb-2",style:{minHeight:"min-content"},children:J},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2330,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2320,columnNumber:21},void 0),e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[320px] bg-gray-800 shadow-2xl z-50 transition-transform duration-300 ease-in-out ${N?"translate-x-0":"translate-x-full"} flex flex-col`,style:{height:"100%",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[e.jsxDEV("div",{className:"flex justify-between items-center p-2 border-b border-gray-600 flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2336,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>y(!1),className:"text-2xl font-bold text-gray-300 hover:text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2337,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2335,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col px-2 pt-2 pb-0",style:{flex:"1 1 0",minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column"},children:K},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2339,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2334,columnNumber:21},void 0),N&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>y(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2343,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2319,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-hidden p-1 sm:p-2 pb-2",children:J},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2346,columnNumber:17},void 0),M&&le&&a.status!=="complete"&&a.status!=="eliminated"&&e.jsxDEV(VV,{currentUser:c,currentCondition:le.condition,onClose:()=>C(!1),onConfirm:be=>{s({type:"USE_CONDITION_POTION",payload:{tournamentType:a.type,potionType:be}})},isTopmost:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2351,columnNumber:17},void 0),w&&e.jsxDEV(kV,{onClose:()=>R(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2361,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/TournamentBracket.tsx",lineNumber:2300,columnNumber:9},void 0)},HV=({type:o})=>{const{currentUserWithStatus:a,handlers:c,allUsers:m}=ot(),[u,p]=b.useState(window.innerWidth<1024);b.useEffect(()=>{const y=()=>p(window.innerWidth<1024);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);let s;switch(o){case"neighborhood":s="lastNeighborhoodTournament";break;case"national":s="lastNationalTournament";break;case"world":s="lastWorldTournament";break;default:return e.jsxDEV("div",{children:"Invalid tournament type"},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:29,columnNumber:25},void 0)}const x=a==null?void 0:a[s],v=to.useRef(x??null);if(to.useEffect(()=>{v.current=x??null},[x]),to.useEffect(()=>()=>{const y=v.current;!y||y.status==="round_in_progress"||c.handleAction({type:"SAVE_TOURNAMENT_PROGRESS",payload:{type:o}}).catch(E=>console.error("[TournamentArena] Failed to save tournament progress on unmount:",E))},[c,o]),!a)return e.jsxDEV("div",{className:"p-4 text-center",children:[e.jsxDEV("p",{children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:55,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:()=>window.location.hash="#/tournament",className:"mt-4",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:56,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:54,columnNumber:13},void 0);const g=to.useRef(new Set),f=to.useRef(new Map),h=to.useRef(c),N=to.useRef(x);return b.useEffect(()=>{h.current=c},[c]),b.useEffect(()=>{const y=`${o}-${(a==null?void 0:a.id)||"unknown"}`,E=N.current;if(N.current=x,x){if(!E&&g.current.has(y)){const j=f.current.get(y);j&&(clearTimeout(j),f.current.delete(y));const U=setTimeout(()=>{g.current.delete(y)},5e3);return()=>clearTimeout(U)}return}if(!g.current.has(y)&&(a!=null&&a.id)){g.current.add(y),console.log(`[TournamentArena] Starting tournament session for ${o}`),h.current.handleAction({type:"START_TOURNAMENT_SESSION",payload:{type:o}});const j=setTimeout(()=>{a!=null&&a[s]||(console.log("[TournamentArena] Tournament state not updated after 3s, clearing attempt flag for retry"),g.current.delete(y),f.current.delete(y))},3e3);f.current.set(y,j)}return()=>{const j=f.current.get(y);j&&(clearTimeout(j),f.current.delete(y))}},[o,x,a==null?void 0:a.id,a,s]),e.jsxDEV("div",{className:"p-4 sm:p-6 lg:p-8 w-full flex flex-col h-[calc(100vh-5rem)] relative overflow-hidden",children:x&&e.jsxDEV(zV,{tournament:x,currentUser:a,onBack:async()=>{if(x.status==="round_in_progress")window.confirm("  .   ?    .")&&c.handleAction({type:"FORFEIT_CURRENT_MATCH",payload:{type:o}});else try{x&&await c.handleAction({type:"SAVE_TOURNAMENT_PROGRESS",payload:{type:o}})}catch(y){console.error("[TournamentArena] Failed to save tournament progress on exit:",y)}finally{window.location.hash="#/tournament"}},allUsersForRanking:m,onViewUser:c.openViewingUser,onAction:c.handleAction,onStartNextRound:()=>c.handleAction({type:"START_TOURNAMENT_ROUND",payload:{type:o}}),onReset:()=>c.handleAction({type:"CLEAR_TOURNAMENT_SESSION",payload:{type:o}}),onSkip:()=>c.handleAction({type:"SKIP_TOURNAMENT_END",payload:{type:o}}),onOpenShop:()=>c.openShop("consumables"),isMobile:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:134,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/arenas/TournamentArena.tsx",lineNumber:132,columnNumber:9},void 0)},Ql=[{level:Oe.,name:"",image:"/images/single/Academy1.png"},{level:Oe.,name:"",image:"/images/single/Academy2.png"},{level:Oe.,name:"",image:"/images/single/Academy3.png"},{level:Oe.,name:"",image:"/images/single/Academy4.png"},{level:Oe.,name:"",image:"/images/single/Academy5.png"}],CD=({selectedClass:o,onClassSelect:a})=>{const c=Ql.findIndex(x=>x.level===o),m=Ql[c],u=()=>{c>0&&a(Ql[c-1].level)},p=()=>{c<Ql.length-1&&a(Ql[c+1].level)},s=window.innerWidth<1024;return e.jsxDEV("div",{className:`bg-gray-800 rounded-lg shadow-lg ${s?"p-2":"p-4"} h-full flex flex-col`,children:[e.jsxDEV("h2",{className:`${s?"text-base":"text-xl"} font-bold text-gray-200 ${s?"mb-2":"mb-4"} border-b border-gray-700 ${s?"pb-1":"pb-2"} text-center`,children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:37,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 flex items-center justify-center relative",children:[e.jsxDEV("button",{onClick:u,disabled:c===0,className:`
                        absolute left-0 z-10 ${s?"w-8 h-8":"w-12 h-12"} rounded-full bg-gray-700 hover:bg-gray-600
                        flex items-center justify-center transition-all duration-200
                        ${c===0?"opacity-50 cursor-not-allowed pointer-events-none":"hover:scale-110 cursor-pointer active:scale-95"}
                        shadow-lg ${s?"border":"border-2"} border-gray-600
                    `,"aria-label":" ",children:e.jsxDEV("svg",{className:`${s?"w-4 h-4":"w-6 h-6"} text-gray-200`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:59,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:53,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:42,columnNumber:17},void 0),e.jsxDEV("div",{className:`flex-1 h-full flex flex-col items-center justify-center ${s?"mx-8":"mx-12"} relative`,children:[e.jsxDEV("div",{className:`relative w-full h-full ${s?"max-h-[200px]":"max-h-[500px]"} rounded-lg overflow-hidden shadow-xl ${s?"border-2":"border-4"} border-purple-600`,children:[e.jsxDEV("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover brightness-100",onError:x=>{const v=x.target;v.style.display="none";const g=v.parentElement;g&&(g.innerHTML=`<div class="w-full h-full flex items-center justify-center bg-gray-700 text-gray-200 font-bold ${s?"text-lg":"text-2xl"}">${m.name}</div>`)}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:66,columnNumber:25},void 0),e.jsxDEV("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent text-white text-center ${s?"py-2 px-2":"py-4 px-4"}`,children:[e.jsxDEV("div",{className:`${s?"text-lg":"text-2xl lg:text-3xl"} font-bold mb-1`,children:m.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:82,columnNumber:29},void 0),e.jsxDEV("div",{className:`${s?"text-xs":"text-sm"} text-gray-300`,children:[c+1," / ",Ql.length]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:83,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:81,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:65,columnNumber:21},void 0),e.jsxDEV("div",{className:`flex gap-2 ${s?"mt-2":"mt-4"}`,children:Ql.map((x,v)=>{const g=o===x.level;return e.jsxDEV("button",{onClick:()=>a(x.level),className:`
                                        ${s?"w-2 h-2":"w-3 h-3"} rounded-full transition-all duration-200
                                        ${g?`bg-purple-500 ${s?"w-6":"w-8"}`:"bg-gray-600 hover:bg-gray-500"}
                                    `,"aria-label":x.name},x.level,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:94,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:90,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:64,columnNumber:17},void 0),e.jsxDEV("button",{onClick:p,disabled:c===Ql.length-1,className:`
                        absolute right-0 z-10 ${s?"w-8 h-8":"w-12 h-12"} rounded-full bg-gray-700 hover:bg-gray-600
                        flex items-center justify-center transition-all duration-200
                        ${c===Ql.length-1?"opacity-50 cursor-not-allowed pointer-events-none":"hover:scale-110 cursor-pointer active:scale-95"}
                        shadow-lg ${s?"border":"border-2"} border-gray-600
                    `,"aria-label":" ",children:e.jsxDEV("svg",{className:`${s?"w-4 h-4":"w-6 h-6"} text-gray-200`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:129,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:123,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:112,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/ClassNavigationPanel.tsx",lineNumber:36,columnNumber:9},void 0)},RD=({selectedClass:o,currentUser:a})=>{const{handlers:c}=ot(),m=b.useMemo(()=>gl.filter(f=>f.level===o).sort((f,h)=>{const N=parseInt(f.id.split("-")[1]),y=parseInt(h.id.split("-")[1]);return N-y}),[o]),u=b.useMemo(()=>a.clearedSinglePlayerStages||[],[a]),p=f=>{c.handleAction({type:"START_SINGLE_PLAYER_GAME",payload:{stageId:f}})},s=f=>u.includes(f),x=f=>{if(f===0)return!1;const h=m[f-1];return h?!s(h.id):!0},v=f=>f.hiddenCount!==void 0?" ":f.missileCount!==void 0?" ":f.blackTurnLimit!==void 0?" ":f.survivalTurns!==void 0?" ":f.timeControl.type==="fischer"?" ":" ",g=window.innerWidth<1024;return e.jsxDEV("div",{className:`bg-panel rounded-lg shadow-lg ${g?"p-2":"p-4"} flex flex-col min-h-0 h-full overflow-hidden`,children:[e.jsxDEV("h2",{className:`${g?"text-base":"text-xl"} font-bold text-on-panel ${g?"mb-2":"mb-4"} border-b border-color ${g?"pb-1":"pb-2"} flex-shrink-0`,children:[o===Oe.?"":o===Oe.?"":o===Oe.?"":o===Oe.?"":""," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-y-auto pr-1 -mr-1 pb-2",children:e.jsxDEV("div",{className:`grid ${g?"gap-1.5":"gap-2"} min-w-0 pb-2`,style:{gridTemplateColumns:g?"repeat(auto-fill, minmax(100px, 1fr))":"repeat(auto-fill, minmax(140px, 1fr))",gridAutoRows:g?"minmax(150px, auto)":"minmax(180px, auto)"},children:m.map((f,h)=>{const N=s(f.id),y=x(h),E=parseInt(f.id.split("-")[1]),j=v(f),U=a.actionPoints.current>=f.actionPointCost;return e.jsxDEV("div",{className:`
                                    relative bg-tertiary/90 rounded-lg border border-color/40 px-2.5 py-3 flex flex-col items-center justify-between min-h-0 min-w-0
                                    transition-transform duration-150
                                    ${y?"opacity-50 cursor-not-allowed":N?"cursor-pointer ring-1 ring-green-500/70 hover:scale-[1.02]":"cursor-pointer hover:scale-[1.03] hover:shadow-md"}
                                `,onClick:()=>!y&&p(f.id),children:[y&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/60 rounded-lg flex items-center justify-center z-10",children:e.jsxDEV("span",{className:"text-white font-bold text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:112,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:111,columnNumber:37},void 0),N&&e.jsxDEV("div",{className:"absolute top-1.5 right-1.5 bg-green-500/90 rounded-full w-5 h-5 flex items-center justify-center z-20 shadow text-[11px] font-bold text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:117,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-center w-full mb-1",children:e.jsxDEV("div",{className:"text-xl font-black text-primary drop-shadow",children:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:123,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:122,columnNumber:33},void 0),e.jsxDEV("div",{className:"w-full mb-1.5",children:e.jsxDEV("div",{className:"bg-gray-700/60 rounded-md px-2 py-1 border border-gray-600/50",children:e.jsxDEV("div",{className:"text-[11px] font-semibold text-center text-yellow-300 truncate",children:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:130,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:129,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:128,columnNumber:33},void 0),N&&e.jsxDEV("div",{className:"text-green-400 text-[10px] font-semibold mb-1",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:137,columnNumber:37},void 0),e.jsxDEV("div",{className:"w-full mb-1.5 space-y-0.5",children:N?e.jsxDEV("div",{className:"text-[9px] text-gray-400 space-y-0.5",children:[f.rewards.repeatClear.gold>0&&e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:149,columnNumber:53},void 0),e.jsxDEV("span",{children:f.rewards.repeatClear.gold},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:150,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:148,columnNumber:49},void 0),f.rewards.repeatClear.exp>0&&e.jsxDEV("div",{className:"text-center",children:["+",f.rewards.repeatClear.exp," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:154,columnNumber:49},void 0),f.rewards.repeatClear.items&&f.rewards.repeatClear.items.length>0&&e.jsxDEV("div",{className:"flex items-center justify-center gap-0.5 flex-wrap",children:f.rewards.repeatClear.items.map((S,M)=>{const C=vl.find(w=>w.name===S.itemId);return C?e.jsxDEV("img",{src:C.image,alt:S.itemId,className:"w-3 h-3",title:S.itemId},M,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:161,columnNumber:61},void 0):null})},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:157,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:146,columnNumber:41},void 0):e.jsxDEV("div",{className:"text-[9px] text-yellow-300 space-y-0.5",children:[f.rewards.firstClear.gold>0&&e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:172,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-semibold",children:f.rewards.firstClear.gold},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:173,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:171,columnNumber:49},void 0),f.rewards.firstClear.exp>0&&e.jsxDEV("div",{className:"text-center font-semibold",children:["+",f.rewards.firstClear.exp," XP"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:177,columnNumber:49},void 0),f.rewards.firstClear.items&&f.rewards.firstClear.items.length>0&&e.jsxDEV("div",{className:"flex items-center justify-center gap-0.5 flex-wrap",children:f.rewards.firstClear.items.map((S,M)=>{const C=vl.find(w=>w.name===S.itemId);return C?e.jsxDEV("img",{src:C.image,alt:S.itemId,className:"w-3 h-3",title:S.itemId},M,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:184,columnNumber:61},void 0):null})},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:180,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:169,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:143,columnNumber:33},void 0),y?e.jsxDEV("div",{className:"mt-auto text-[10px] text-gray-400 text-center",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:206,columnNumber:37},void 0):e.jsxDEV(ae,{onClick:S=>{S==null||S.stopPropagation(),p(f.id)},colorScheme:"blue",className:"w-full mt-auto !text-[10px] !py-1.5",disabled:!U,children:[" (",f.actionPointCost,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:194,columnNumber:37},void 0)]},f.id,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:96,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:81,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:80,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/StageGrid.tsx",lineNumber:72,columnNumber:9},void 0)},WV=({mission:o,currentLevel:a,upgradeCost:c,canLevelUp:m,nextLevelUnlockStage:u,currentUserGold:p,accumulatedCollection:s,requiredCollection:x,progressPercent:v,onConfirm:g,onClose:f})=>{const h=a>0?o.levels[a-1]:null,N=o.levels&&o.levels[a];if(!N)return null;const y=p>=c,E=h?h.productionRateMinutes-N.productionRateMinutes:0,j=h?N.rewardAmount-h.rewardAmount:N.rewardAmount,U=h?N.maxCapacity-h.maxCapacity:N.maxCapacity,S=Math.max(0,x),M=Math.max(0,s),C=S>0?Math.min(100,Math.round(M/S*100)):m?100:Math.max(0,Math.round(v)),w=S===0||M>=S,R=w?0:Math.max(0,S-M),O=async()=>{!m||!y||await g()};return e.jsxDEV(mn,{title:`${o.name} `,onClose:f,windowId:`training-quest-levelup-${o.id}`,initialWidth:540,initialHeight:620,isTopmost:!0,children:e.jsxDEV("div",{className:"h-full flex flex-col bg-[#080d1c] text-slate-200 rounded-xl",children:[e.jsxDEV("div",{className:"relative bg-gradient-to-r from-indigo-900/80 via-slate-900/90 to-slate-950/95 px-4 py-3.5 shadow-inner rounded-t-xl",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-40 bg-[radial-gradient(circle_at_top,rgba(99,102,241,0.45),transparent_65%)] pointer-events-none rounded-t-xl"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:69,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative flex items-center gap-4",children:[e.jsxDEV("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-900/60 border border-indigo-400/40 flex items-center justify-center shadow-[0_0_20px_-8px_rgba(129,140,248,0.8)]",children:o.image?e.jsxDEV("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain p-2 drop-shadow-[0_8px_15px_rgba(79,70,229,0.5)]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:73,columnNumber:33},void 0):e.jsxDEV("span",{className:"text-3xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:75,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:71,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-white drop-shadow-[0_4px_15px_rgba(79,70,229,0.5)]",children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:79,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-1 flex items-baseline gap-2",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-indigo-100/80",children:["Lv.",a]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:81,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs text-indigo-200/60",children:[" Lv.",a+1]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:86,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:80,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:78,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:70,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:68,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 px-4 py-3 space-y-3 overflow-y-auto",children:[e.jsxDEV("div",{className:"rounded-xl border border-emerald-400/40 bg-emerald-500/10 px-3.5 py-3 shadow-[0_18px_38px_-26px_rgba(16,185,129,0.65)]",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5",children:e.jsxDEV("span",{className:"text-xs text-emerald-200",children:[C,"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:95,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:94,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full h-2.5 rounded-full bg-emerald-900/40 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-emerald-400 via-lime-400 to-yellow-300 transition-all duration-300",style:{width:`${Math.min(100,C)}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:98,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:97,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-1.5 flex items-center justify-between text-[11px] text-emerald-100/90",children:[e.jsxDEV("span",{children:S>0?`${Math.min(M,S).toLocaleString()} / ${S.toLocaleString()}`:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:104,columnNumber:29},void 0),e.jsxDEV("span",{children:w?"  ":`  ${R.toLocaleString()}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:109,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:103,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:93,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"rounded-xl border border-indigo-400/30 bg-slate-900/60 p-3.5 shadow-[0_20px_40px_-30px_rgba(99,102,241,0.8)]",children:[e.jsxDEV("p",{className:"text-[11px] uppercase tracking-[0.25em] text-indigo-200/70 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:117,columnNumber:29},void 0),h?e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:" ",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:122,columnNumber:45},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:121,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-semibold text-indigo-100",children:[h.productionRateMinutes,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:125,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:120,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("img",{src:o.rewardType==="gold"?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:129,columnNumber:45},void 0),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:128,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-semibold text-indigo-100",children:h.rewardAmount.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:132,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:127,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"w-4 h-4 rounded-full bg-purple-500/50 flex items-center justify-center text-[10px] font-bold text-purple-100",children:"MAX"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:136,columnNumber:45},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:135,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-semibold text-indigo-100",children:h.maxCapacity.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:139,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:134,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:119,columnNumber:33},void 0):e.jsxDEV("p",{className:"text-sm text-slate-400/80 italic",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:143,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:116,columnNumber:25},void 0),e.jsxDEV("div",{className:"rounded-xl border border-cyan-400/40 bg-slate-900/60 p-3.5 shadow-[0_20px_40px_-30px_rgba(34,211,238,0.8)]",children:[e.jsxDEV("p",{className:"text-[11px] uppercase tracking-[0.25em] text-cyan-200/70 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:148,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("img",{src:"/images/icon/timer.png",alt:" ",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:152,columnNumber:41},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:151,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-semibold text-cyan-100 flex items-center gap-1.5",children:[N.productionRateMinutes,"",E!==0&&e.jsxDEV("span",{className:"text-emerald-300 text-xs",children:[E>0?`-${E.toFixed(1)}`:`+${Math.abs(E).toFixed(1)}`,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:158,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:155,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:150,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("img",{src:o.rewardType==="gold"?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:166,columnNumber:41},void 0),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:165,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-semibold text-cyan-100 flex items-center gap-1.5",children:[N.rewardAmount.toLocaleString(),j!==0&&e.jsxDEV("span",{className:"text-emerald-300 text-xs",children:j>0?`+${j}`:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:172,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:169,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:164,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-slate-300/90 flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"w-4 h-4 rounded-full bg-purple-500/50 flex items-center justify-center text-[10px] font-bold text-purple-100",children:"MAX"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:180,columnNumber:41},void 0)," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:179,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-semibold text-cyan-100 flex items-center gap-1.5",children:[N.maxCapacity.toLocaleString(),U!==0&&e.jsxDEV("span",{className:"text-emerald-300 text-xs",children:U>0?`+${U}`:U},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:186,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:183,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:178,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:149,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:147,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:115,columnNumber:21},void 0),u&&e.jsxDEV("div",{className:"rounded-xl border border-yellow-400/40 bg-yellow-500/10 px-3.5 py-2.5 text-sm text-yellow-100 flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:198,columnNumber:29},void 0),e.jsxDEV("span",{children:[u,"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:199,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:197,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:92,columnNumber:17},void 0),e.jsxDEV("div",{className:"px-4 py-3 border-t border-slate-700/70 bg-slate-950/40 flex gap-3 rounded-b-xl",children:[e.jsxDEV(ae,{onClick:f,colorScheme:"none",className:"flex-1 rounded-lg border border-slate-600/60 bg-slate-800/70 text-slate-200 hover:bg-slate-700/70",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:205,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:O,colorScheme:"none",className:`flex-1 justify-center rounded-lg border border-indigo-400/70 bg-gradient-to-r from-indigo-500 via-sky-500 to-cyan-400 text-white shadow-[0_18px_40px_-18px_rgba(99,102,241,0.9)] hover:from-indigo-400 hover:to-cyan-400 ${!m||!y?"opacity-50 cursor-not-allowed":""}`,disabled:!m||!y,children:m?y?e.jsxDEV("span",{className:"flex items-center gap-2 font-semibold tracking-wide",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-4 h-4 drop-shadow"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:224,columnNumber:41},void 0),e.jsxDEV("span",{children:c.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:225,columnNumber:41},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:226,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:223,columnNumber:37},void 0):" ":"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:212,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:67,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestLevelUpModal.tsx",lineNumber:59,columnNumber:9},void 0)},ED=({currentUser:o})=>{const{handlers:a}=ot(),[c,m]=b.useState(null),[u,p]=b.useState(Date.now()),[s,x]=b.useState(null);b.useEffect(()=>{const C=setInterval(()=>{p(Date.now())},1e3);return()=>clearInterval(C)},[]);const v=(C,w)=>w.includes(C),g=b.useMemo(()=>{const C=o.singlePlayerMissions||{},w=o.clearedSinglePlayerStages||[];return oS.map(R=>{const O=C[R.id],V=(O==null?void 0:O.level)||0,$=V>0&&V<=R.levels.length?R.levels[V-1]:null,z=v(R.unlockStageId,w);return{...R,missionState:O,currentLevel:V,levelInfo:$,isUnlocked:z,isStarted:(O==null?void 0:O.isStarted)||!1}})},[o]),f=C=>{var X,H;if(!C.isUnlocked||!C.isStarted||!C.levelInfo)return{reward:0,progress:0,timeUntilNext:0,isMax:!1};const w=C.levelInfo.productionRateMinutes*60*1e3,R=((X=C.missionState)==null?void 0:X.lastCollectionTime)||u,O=u-R,V=Math.floor(O/w),$=((H=C.missionState)==null?void 0:H.accumulatedAmount)||0;if($>=C.levelInfo.maxCapacity)return{reward:$,progress:100,timeUntilNext:0,isMax:!0};let P=$;if(V>0){const Q=V*C.levelInfo.rewardAmount;P=Math.min(C.levelInfo.maxCapacity,$+Q)}const G=P/C.levelInfo.maxCapacity*100,q=O%w,B=w-q;return{reward:P,progress:Math.min(100,G),timeUntilNext:B,isMax:P>=C.levelInfo.maxCapacity}},h=C=>{var B;if(!C.isStarted||C.currentLevel>=10)return null;const w=C.levels&&C.levels[C.currentLevel];if(!w)return null;const R=C.levelInfo||(C.currentLevel===0?null:C.levels&&C.levels[C.currentLevel-1]),O=C.currentLevel===0?0:R?R.maxCapacity*C.currentLevel*10:0,V=((B=C.missionState)==null?void 0:B.accumulatedCollection)||0,$=O===0?100:Math.min(100,V/O*100),z=R?R.maxCapacity:w.maxCapacity;let P;C.rewardType==="gold"?P=z*5:P=z*1e3;const G=o.clearedSinglePlayerStages||[],q=(C.currentLevel===0||V>=O)&&(!(w!=null&&w.unlockStageId)||G.includes(w.unlockStageId));return{requiredCollection:O,accumulatedCollection:V,progress:$,upgradeCost:P,canLevelUp:q,nextLevelUnlockStage:w==null?void 0:w.unlockStageId}},N=C=>{const w=Math.floor(C/1e3),R=Math.floor(w/60),O=w%60;return`${R}:${O.toString().padStart(2,"0")}`},y=C=>{a.handleAction({type:"START_SINGLE_PLAYER_MISSION",payload:{missionId:C}})},E=C=>{a.handleAction({type:"CLAIM_SINGLE_PLAYER_MISSION_REWARD",payload:{missionId:C}})},j=C=>{m(C)},U=async C=>{try{const w=await a.handleAction({type:"LEVEL_UP_TRAINING_QUEST",payload:{missionId:C}}),R=w==null?void 0:w.trainingQuestLevelUp;R&&(x({missionName:R.missionName,previousLevel:R.previousLevel,newLevel:R.newLevel}),setTimeout(()=>{x(null)},3e3)),m(null)}catch(w){console.error("[TrainingQuestPanel] Level up error:",w)}},S=c?g.find(C=>C.id===c):null,M=S?h(S):null;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"bg-panel rounded-lg shadow-lg p-2 sm:p-2.5 h-full flex flex-col",children:[e.jsxDEV("h2",{className:"text-lg sm:text-xl font-bold text-on-panel mb-1.5 sm:mb-2.5 border-b border-color pb-1 sm:pb-1.5",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 overflow-visible",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:g.map(C=>{const{reward:w,progress:R,timeUntilNext:O,isMax:V}=f(C),$=C.currentLevel>=10,z=h(C),P=w>0;return e.jsxDEV("div",{className:`
                                        relative bg-tertiary rounded-lg p-1.5 sm:p-1.5 border-2 flex flex-col
                                        ${C.isUnlocked?"border-primary":"border-gray-600"}
                                    `,children:[!C.isUnlocked&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gray-900/50 rounded-lg z-30 pointer-events-none"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:236,columnNumber:45},void 0),e.jsxDEV("div",{className:"absolute top-1 right-1 sm:top-1.5 sm:right-1.5 z-40 pointer-events-none",children:e.jsxDEV("div",{className:"flex flex-col items-end gap-0.5",children:[e.jsxDEV("div",{className:"text-lg sm:text-xl filter drop-shadow-lg",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:240,columnNumber:53},void 0),e.jsxDEV("div",{className:"bg-black/80 rounded px-1.5 py-0.5 sm:px-2 sm:py-1 border border-gray-600",children:e.jsxDEV("span",{className:"text-white font-bold text-[8px] sm:text-[9px] text-center block whitespace-nowrap",children:[C.unlockStageId," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:242,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:241,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:239,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:238,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:234,columnNumber:41},void 0),e.jsxDEV("div",{className:`w-full aspect-square max-w-[60px] sm:max-w-[70px] mx-auto rounded-lg overflow-hidden bg-gray-700 mb-1 sm:mb-1.5 flex-shrink-0 ${C.isUnlocked?"":"opacity-50"}`,children:e.jsxDEV("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover",onError:G=>{const q=G.target;q.style.display="none"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:253,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:252,columnNumber:37},void 0),e.jsxDEV("div",{className:"mb-1 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsxDEV("h3",{className:`font-bold text-[11px] sm:text-sm truncate ${C.isUnlocked?"text-on-panel":"text-gray-400"}`,children:C.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:267,columnNumber:45},void 0),e.jsxDEV("span",{className:`text-[9px] sm:text-xs ml-1 sm:ml-2 whitespace-nowrap ${C.isUnlocked?"text-tertiary":"text-gray-500"}`,children:["Lv.",C.currentLevel||0,"/10"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:270,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:266,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:265,columnNumber:37},void 0),e.jsxDEV("div",{className:`space-y-1 sm:space-y-1.5 mb-1 sm:mb-1 flex-shrink-0 ${C.isUnlocked?"":"opacity-50"}`,children:C.levelInfo?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-3.5 sm:h-4 overflow-hidden",children:C.isUnlocked&&C.isStarted?e.jsxDEV("div",{className:`h-full transition-all duration-300 ${V?"bg-green-500":"bg-blue-500"}`,style:{width:`${R}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:284,columnNumber:61},void 0):e.jsxDEV("div",{className:"h-full bg-gray-600",style:{width:"0%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:291,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:282,columnNumber:53},void 0),e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxDEV("span",{className:`text-[9px] sm:text-[10px] font-bold drop-shadow-md ${C.isUnlocked?"text-white":"text-gray-500"}`,children:C.isUnlocked&&C.isStarted?`${w.toLocaleString()} / ${C.levelInfo.maxCapacity.toLocaleString()}`:`0 / ${C.levelInfo.maxCapacity.toLocaleString()}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:298,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:297,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:281,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex items-center justify-between text-[9px] sm:text-[10px] leading-tight",children:[e.jsxDEV("span",{className:`flex items-center gap-0.5 ${C.isUnlocked?"text-tertiary":"text-gray-500"}`,children:[e.jsxDEV("span",{children:[C.levelInfo.productionRateMinutes,"/"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:312,columnNumber:57},void 0),e.jsxDEV("span",{className:"flex items-center gap-0.5",children:[e.jsxDEV("span",{children:C.levelInfo.rewardAmount},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:314,columnNumber:61},void 0),e.jsxDEV("img",{src:C.rewardType==="gold"?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:C.rewardType==="gold"?"":"",className:"w-3 h-3 sm:w-3.5 sm:h-3.5 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:315,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:313,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:311,columnNumber:53},void 0),C.isUnlocked&&C.isStarted&&!V&&O>0&&e.jsxDEV("span",{className:"text-gray-400",children:N(O)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:323,columnNumber:57},void 0),C.isUnlocked&&C.isStarted&&V&&e.jsxDEV("span",{className:"text-green-400 font-semibold",children:"MAX"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:328,columnNumber:57},void 0),!C.isUnlocked&&e.jsxDEV("span",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:333,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:310,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:279,columnNumber:45},void 0):e.jsxDEV("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-3.5 sm:h-4 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gray-600",style:{width:"0%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:344,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:343,columnNumber:53},void 0),e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxDEV("span",{className:`text-[9px] sm:text-[10px] font-bold drop-shadow-md ${C.isUnlocked?"text-white":"text-gray-500"}`,children:"0 / -"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:347,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:346,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:342,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex items-center justify-between text-[9px] sm:text-[10px]",children:[e.jsxDEV("span",{className:`flex items-center gap-0.5 ${C.isUnlocked?"text-tertiary":"text-gray-500"}`,children:e.jsxDEV("span",{children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:356,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:355,columnNumber:53},void 0),!C.isUnlocked&&e.jsxDEV("span",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:359,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:354,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:341,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:277,columnNumber:37},void 0),e.jsxDEV("div",{className:"mt-auto flex flex-col gap-1 sm:gap-1.5",children:C.isUnlocked?C.isStarted?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:()=>E(C.id),colorScheme:"green",className:"w-full !text-[10px] sm:!text-xs !py-0.5 sm:!py-1 flex items-center justify-center",disabled:!P,children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:427,columnNumber:57},void 0),e.jsxDEV("img",{src:C.rewardType==="gold"?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:C.rewardType==="gold"?"":"",className:"w-3 h-3 object-contain flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:428,columnNumber:57},void 0),e.jsxDEV("span",{children:w>0?w.toLocaleString():0},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:433,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:426,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:420,columnNumber:49},void 0),e.jsxDEV(ae,{onClick:()=>j(C.id),colorScheme:"accent",className:"w-full !text-[10px] sm:!text-xs !py-0.5 sm:!py-1 flex items-center justify-center gap-1 relative !whitespace-nowrap",disabled:$,children:z&&!$?e.jsxDEV("div",{className:"w-full flex items-center gap-1 min-w-0",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-1 min-w-0",children:[e.jsxDEV("div",{className:"flex-1 bg-gray-700/70 rounded-full h-2 overflow-hidden min-w-0",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-500 transition-all duration-300",style:{width:`${z.progress}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:446,columnNumber:69},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:445,columnNumber:65},void 0),e.jsxDEV("span",{className:"text-[10px] text-white font-bold whitespace-nowrap flex-shrink-0",children:[Math.floor(z.progress),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:451,columnNumber:65},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:444,columnNumber:61},void 0),e.jsxDEV("span",{className:"text-sm font-bold flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:453,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:443,columnNumber:57},void 0):e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:456,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:436,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:419,columnNumber:45},void 0):e.jsxDEV(ae,{onClick:()=>y(C.id),colorScheme:"blue",className:"w-full !text-[10px] sm:!text-xs !py-0.5 sm:!py-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:411,columnNumber:45},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{disabled:!0,colorScheme:"green",className:"w-full !text-[10px] sm:!text-xs !py-0.5 sm:!py-1 opacity-50 flex items-center justify-center",children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:379,columnNumber:57},void 0),e.jsxDEV("img",{src:C.rewardType==="gold"?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:C.rewardType==="gold"?"":"",className:"w-3 h-3 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:380,columnNumber:57},void 0),e.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:385,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:378,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:373,columnNumber:49},void 0),e.jsxDEV(ae,{disabled:!0,colorScheme:"accent",className:"w-full !text-[10px] sm:!text-xs !py-0.5 sm:!py-1 opacity-50 flex items-center justify-center gap-1 !whitespace-nowrap",children:C.levelInfo&&C.currentLevel>0?e.jsxDEV("div",{className:"w-full flex items-center gap-1 min-w-0",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-1 min-w-0",children:e.jsxDEV("div",{className:"flex-1 bg-gray-700 rounded-full h-2 overflow-hidden min-w-0",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-yellow-400/50 to-yellow-500/50 transition-all duration-300",style:{width:"0%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:397,columnNumber:69},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:396,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:395,columnNumber:61},void 0),e.jsxDEV("span",{className:"text-sm font-bold flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:403,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:394,columnNumber:57},void 0):e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:406,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:388,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:371,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:369,columnNumber:37},void 0)]},C.id,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:226,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:218,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:217,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:213,columnNumber:13},void 0),S&&e.jsxDEV(WV,{mission:S,currentLevel:S.currentLevel,upgradeCost:(M==null?void 0:M.upgradeCost)||0,canLevelUp:(M==null?void 0:M.canLevelUp)||!1,nextLevelUnlockStage:M==null?void 0:M.nextLevelUnlockStage,currentUserGold:o.gold,accumulatedCollection:(M==null?void 0:M.accumulatedCollection)??0,requiredCollection:(M==null?void 0:M.requiredCollection)??0,progressPercent:(M==null?void 0:M.progress)??0,onConfirm:()=>U(S.id),onClose:()=>m(null)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:471,columnNumber:17},void 0),s&&e.jsxDEV("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 w-full max-w-md z-[100] animate-slide-down",children:e.jsxDEV("div",{className:"bg-success border-2 border-green-400 rounded-lg shadow-2xl p-6 text-center",children:[e.jsxDEV("div",{className:"text-6xl mb-3 animate-bounce",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:490,columnNumber:25},void 0),e.jsxDEV("h3",{className:"text-2xl font-bold text-green-400 mb-2",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:491,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-white text-lg mb-1",children:e.jsxDEV("span",{className:"font-semibold",children:s.missionName},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:493,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:492,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-3 text-xl font-bold",children:[e.jsxDEV("span",{className:"text-yellow-400",children:["Lv.",s.previousLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:496,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:497,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-green-400",children:["Lv.",s.newLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:498,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:495,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:489,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:488,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/singleplayer/TrainingQuestPanel.tsx",lineNumber:212,columnNumber:9},void 0)},FV=()=>{const{currentUser:o,currentUserWithStatus:a}=ot(),[c,m]=b.useState(Oe.),[u,p]=b.useState(window.innerWidth<1024),[s,x]=b.useState(!1);b.useEffect(()=>{const g=()=>p(window.innerWidth<1024);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const v=()=>window.location.hash="#/profile";return!o||!a?null:e.jsxDEV("div",{className:"bg-gray-900 text-gray-100 p-2 sm:p-4 lg:p-8 w-full mx-auto flex flex-col h-[calc(100vh-5rem)] lg:h-[calc(100vh-5rem)] relative",children:[e.jsxDEV("header",{className:"flex justify-between items-center mb-3 sm:mb-4 lg:mb-6 flex-shrink-0 px-2 sm:px-0",children:[e.jsxDEV("button",{onClick:v,className:"transition-transform active:scale-90 filter hover:drop-shadow-lg p-0 flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-lg hover:bg-gray-800","aria-label":"",children:e.jsxDEV("img",{src:"/images/button/back.png",alt:"Back",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:36,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:31,columnNumber:17},void 0),e.jsxDEV("h1",{className:`${u?"text-xl sm:text-2xl":"text-3xl lg:text-4xl"} font-bold text-gray-100`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:38,columnNumber:17},void 0),u?e.jsxDEV("div",{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20",children:e.jsxDEV("button",{onClick:()=>x(!0),className:"w-8 h-12 bg-secondary/80 backdrop-blur-sm rounded-l-lg flex items-center justify-center text-primary shadow-lg","aria-label":" ",children:e.jsxDEV("span",{className:"relative font-bold text-lg",children:"<"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:47,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:42,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:41,columnNumber:21},void 0):e.jsxDEV("div",{className:"w-10"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:53,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:30,columnNumber:13},void 0),u?e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2 sm:gap-3 min-h-0 overflow-hidden",children:[e.jsxDEV("div",{className:"flex-shrink-0 px-2 sm:px-0",children:e.jsxDEV(CD,{selectedClass:c,onClassSelect:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:63,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:62,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:e.jsxDEV(RD,{selectedClass:c,currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:71,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:70,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:60,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex-1 grid grid-cols-12 gap-4 lg:gap-6 min-h-0",children:[e.jsxDEV("div",{className:"col-span-12 lg:col-span-4 flex flex-col min-h-0",children:e.jsxDEV(CD,{selectedClass:c,onClassSelect:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:82,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:81,columnNumber:21},void 0),e.jsxDEV("div",{className:"col-span-12 lg:col-span-5 flex flex-col min-h-0",children:e.jsxDEV(RD,{selectedClass:c,currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:90,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:89,columnNumber:21},void 0),e.jsxDEV("div",{className:"col-span-12 lg:col-span-3 flex flex-col min-h-0",children:e.jsxDEV(ED,{currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:98,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:97,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:79,columnNumber:17},void 0),u&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`fixed top-0 right-0 h-full w-[320px] bg-gray-800 shadow-2xl z-50 transition-transform duration-300 ease-in-out ${s?"translate-x-0":"translate-x-full"} flex flex-col`,children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b border-gray-700 flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-100",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:110,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>x(!1),className:"text-2xl font-bold text-gray-300 hover:text-white","aria-label":" ",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:111,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:109,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 overflow-y-auto p-4",children:e.jsxDEV(ED,{currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:120,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:119,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:108,columnNumber:21},void 0),s&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>x(!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:127,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SinglePlayerLobby.tsx",lineNumber:28,columnNumber:9},void 0)},qV=()=>e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("h1",{className:"text-2xl font-bold",children:"Guild Page"},void 0,!1,{fileName:"C:/project/SUDAMR/components/Guild.tsx",lineNumber:6,columnNumber:7},void 0),e.jsxDEV("p",{children:"Welcome to the Guild page. This feature is under construction."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Guild.tsx",lineNumber:7,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/Guild.tsx",lineNumber:5,columnNumber:5},void 0),AD=()=>{const{currentRoute:o,currentUser:a,activeGame:c}=ot();if(!a)return o.view==="register"?e.jsxDEV(Sw,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:23,columnNumber:20},void 0):e.jsxDEV(yw,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:25,columnNumber:16},void 0);if(c&&o.view!=="game")return e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:31,columnNumber:16},void 0);switch(o.view){case"profile":return e.jsxDEV(ww,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:36,columnNumber:20},void 0);case"lobby":const m=o.params.type==="playful"?"playful":"strategic";return e.jsxDEV(kw,{lobbyType:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:39,columnNumber:20},void 0);case"waiting":if(o.params.mode){const u=o.params.mode;return u==="strategic"||u==="playful"?e.jsxDEV(Ww,{mode:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:45,columnNumber:28},void 0):(console.warn("Router: Individual game mode waiting room access denied, redirecting to profile:",u),window.location.hash="#/profile",null)}return window.location.hash="#/profile",null;case"game":return o.params.id&&c&&c.id===o.params.id?e.jsxDEV(cV,{session:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:57,columnNumber:24},void 0):(console.warn("Router: Mismatch between route and active game. Redirecting to profile."),setTimeout(()=>{window.location.hash!=="#/profile"&&(window.location.hash="#/profile")},100),e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:"   ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:65,columnNumber:20},void 0));case"admin":return e.jsxDEV(NV,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:67,columnNumber:20},void 0);case"tournament":return o.params.type?e.jsxDEV(HV,{type:o.params.type},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:70,columnNumber:24},void 0):e.jsxDEV(EV,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:72,columnNumber:20},void 0);case"singleplayer":return e.jsxDEV(FV,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:74,columnNumber:21},void 0);case"guild":return e.jsxDEV(qV,{},void 0,!1,{fileName:"C:/project/SUDAMR/components/Router.tsx",lineNumber:76,columnNumber:20},void 0);default:return window.location.hash="#/profile",null}},QV=({negotiation:o,currentUser:a,onAccept:c,onDecline:m,onProposeModification:u,onClose:p,onAction:s})=>{var fe;const{onlineUsers:x}=ot(),v=o.challenger,[g,f]=b.useState(o.settings),h=o.mode;b.useEffect(()=>{f(o.settings)},[o.settings]);const N=(W,Pe)=>{f(me=>({...me,[W]:Pe}))},y=b.useMemo(()=>JSON.stringify(g)!==JSON.stringify(o.settings),[g,o.settings]),E=b.useMemo(()=>{var W;return(W=Jn.find(Pe=>Pe.id===v.avatarId))==null?void 0:W.url},[v.avatarId]),j=b.useMemo(()=>{var W;return(W=Zn.find(Pe=>Pe.id===v.borderId))==null?void 0:W.url},[v.borderId]),U=b.useMemo(()=>[...st,...dt].find(Pe=>Pe.mode===h),[h]),S=b.useMemo(()=>st.some(Pe=>Pe.mode===h)?Math.floor(v.strategyXp/100)+1:Math.floor(v.playfulXp/100)+1,[v,h]),M=b.useMemo(()=>{if(!h)return null;const Pe=(v.stats||{})[h];return Pe||{wins:0,losses:0,rankingScore:1200}},[h,v.stats]);[I.Standard,I.Speed,I.Capture,I.Omok,I.Thief,I.Missile].includes(h),I.Alkkagi,I.Curling;const C=![I.Alkkagi,I.Curling,I.Dice].includes(h),w=![I.Capture,I.Omok,I.Ttamok,I.Alkkagi,I.Curling,I.Dice,I.Thief,I.Base].includes(h),R=![I.Alkkagi,I.Curling,I.Dice,I.Thief].includes(h),O=h===I.Speed||h===I.Mix&&!!((fe=g.mixedModes)!=null&&fe.includes(I.Speed)),V=h===I.Capture,$=h===I.Ttamok,z=h===I.Omok||h===I.Ttamok,P=h===I.Base,G=h===I.Hidden,q=h===I.Missile,B=h===I.Dice,X=h===I.Alkkagi,H=h===I.Curling,Q=h===I.Mix,[Z,ne]=b.useState(!1),[le,L]=b.useState(60),[ue,pe]=b.useState(null);b.useEffect(()=>{if(o.deadline){const W=o.deadline;pe(W);const Pe=Math.max(0,Math.ceil((W-Date.now())/1e3));L(Math.min(Pe,60))}else L(60),pe(null)},[o.deadline]),b.useEffect(()=>{if(!ue)return;const W=()=>{const me=Math.max(0,Math.ceil((ue-Date.now())/1e3));L(Math.min(me,60)),me<=0&&(console.log("[ChallengeReceivedModal] Time expired, auto-declining"),m())};W();const Pe=setInterval(W,100);return()=>clearInterval(Pe)},[ue,m]);const ie=le/60*100;return e.jsxDEV(mn,{title:"  ",onClose:p,windowId:"challenge-received",initialWidth:900,children:e.jsxDEV("div",{onMouseDown:W=>W.stopPropagation(),className:"text-sm",children:e.jsxDEV("div",{className:"flex flex-row gap-2 lg:gap-4 h-[500px] lg:h-[600px] min-h-[500px] lg:min-h-[600px]",children:[e.jsxDEV("div",{className:"w-1/3 border-r border-gray-700 pr-2 lg:pr-4 flex flex-col",children:[e.jsxDEV("p",{className:"text-center text-yellow-300 mb-2 lg:mb-4 text-xs flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[v.nickname,"   ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:170,columnNumber:13},void 0),o.deadline&&e.jsxDEV("div",{className:"mb-3 flex-shrink-0",children:e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-400",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:177,columnNumber:21},void 0),e.jsxDEV("span",{className:`text-lg font-bold ${le<=5?"text-red-400":le<=10?"text-yellow-400":"text-green-400"}`,children:[le,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:178,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:176,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsxDEV("div",{className:`h-full transition-all duration-100 ${le<=5?"bg-red-500":le<=10?"bg-yellow-500":"bg-green-500"}`,style:{width:`${ie}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:183,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:182,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:175,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:174,columnNumber:15},void 0),U&&e.jsxDEV("div",{className:"mb-4 flex-shrink-0",children:[e.jsxDEV("div",{className:"w-full h-[150px] lg:h-[250px] bg-tertiary rounded-lg flex items-center justify-center overflow-hidden shadow-inner relative",children:Z?e.jsxDEV("span",{className:"text-lg font-bold",children:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:204,columnNumber:21},void 0):e.jsxDEV("img",{src:U.image,alt:h,className:"w-full h-full object-contain",onError:()=>ne(!0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:197,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:195,columnNumber:17},void 0),e.jsxDEV("h3",{className:"text-center font-bold text-primary mt-2",style:{fontSize:`${Math.max(12,Math.round(16*.85))}px`},children:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:207,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:194,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-1",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 mb-2 lg:mb-3",style:{fontSize:`${Math.max(10,Math.round(12*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-tertiary leading-relaxed",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:(U==null?void 0:U.description)||"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:214,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:212,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:169,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-2/3 pl-2 lg:pl-4 flex flex-col",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-700 mb-4 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV(_n,{userId:v.id,userName:v.nickname,avatarUrl:E,borderUrl:j,size:Math.max(32,Math.round(48*.85))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:225,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("h3",{className:"font-bold",style:{fontSize:`${Math.max(12,Math.round(16*.85))}px`},children:v.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:233,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[st.some(W=>W.mode===h)?"":""," Lv.",S]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:234,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:232,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:224,columnNumber:15},void 0),h&&M&&e.jsxDEV("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[e.jsxDEV("p",{className:"font-semibold text-gray-300 mb-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[h," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:242,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:244,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold",children:[M.wins," ",M.losses," (",M.wins+M.losses>0?Math.round(M.wins/(M.wins+M.losses)*100):0,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:245,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:243,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:253,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-mono text-yellow-300",children:[M.rankingScore,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:254,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:252,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:241,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 mb-3",style:{fontSize:`${Math.max(10,Math.round(12*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:262,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 lg:space-y-3 pr-2",children:[C&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:266,columnNumber:19},void 0),e.jsxDEV("select",{value:g.boardSize,onChange:W=>N("boardSize",parseInt(W.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:(h===I.Omok||h===I.Ttamok?gm:h===I.Capture?hm:h===I.Speed?vm:h===I.Hidden?ym:h===I.Thief?[9,13,19]:h===I.Missile?Dm:xm).map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:280,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:267,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:265,columnNumber:17},void 0),w&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" ()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:288,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",step:"1",value:Math.floor(g.komi),onChange:W=>N("komi",parseInt(W.target.value,10)+.5),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:290,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold text-gray-300 whitespace-nowrap",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:".5 "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:298,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:289,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:287,columnNumber:17},void 0),R&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:306,columnNumber:21},void 0),e.jsxDEV("select",{value:g.timeLimit,onChange:W=>N("timeLimit",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:(h===I.Speed?zD:Wd).map(W=>e.jsxDEV("option",{value:W.value,children:W.label},W.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:313,columnNumber:101},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:307,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:305,columnNumber:19},void 0),O&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:318,columnNumber:23},void 0),e.jsxDEV("select",{value:g.timeIncrement??WD,onChange:W=>N("timeIncrement",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[0,5,10,15,20,30].map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:325,columnNumber:58},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:319,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:317,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:330,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:g.byoyomiTime,onChange:W=>N("byoyomiTime",parseInt(W.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:qd.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:338,columnNumber:49},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:332,columnNumber:23},void 0),e.jsxDEV("select",{value:g.byoyomiCount,onChange:W=>N("byoyomiCount",parseInt(W.target.value)),className:"flex-1 bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Fd.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:346,columnNumber:50},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:340,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:331,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:329,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:304,columnNumber:17},void 0),V&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:355,columnNumber:19},void 0),e.jsxDEV("select",{value:g.captureTarget,onChange:W=>N("captureTarget",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Sm.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:362,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:356,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:354,columnNumber:17},void 0),$&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:369,columnNumber:19},void 0),e.jsxDEV("select",{value:g.captureTarget??20,onChange:W=>N("captureTarget",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Hd.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:376,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:370,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:368,columnNumber:17},void 0),z&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:384,columnNumber:21},void 0),e.jsxDEV("input",{type:"checkbox",checked:g.has33Forbidden??!0,onChange:W=>N("has33Forbidden",W.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:385,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:383,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:393,columnNumber:21},void 0),e.jsxDEV("input",{type:"checkbox",checked:g.hasOverlineForbidden??!0,onChange:W=>N("hasOverlineForbidden",W.target.checked),className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:394,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:392,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:382,columnNumber:17},void 0),P&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:406,columnNumber:19},void 0),e.jsxDEV("select",{value:g.baseStones,onChange:W=>N("baseStones",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Us.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:413,columnNumber:49},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:407,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:405,columnNumber:17},void 0),G&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV("select",{value:g.hiddenStoneCount,onChange:W=>N("hiddenStoneCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:jm.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:428,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:422,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:420,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:432,columnNumber:21},void 0),e.jsxDEV("select",{value:g.scanCount||5,onChange:W=>N("scanCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Mm.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:439,columnNumber:45},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:433,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:431,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:419,columnNumber:17},void 0),h===I.Thief&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV("select",{value:g.hiddenStoneCount??3,onChange:W=>N("hiddenStoneCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[1,2,3,4,5].map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:454,columnNumber:47},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:448,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:446,columnNumber:17},void 0),q&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:461,columnNumber:19},void 0),e.jsxDEV("select",{value:g.missileCount,onChange:W=>N("missileCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Cm.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:468,columnNumber:46},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:462,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:460,columnNumber:17},void 0),B&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:476,columnNumber:21},void 0),e.jsxDEV("select",{value:g.diceGoRounds??3,onChange:W=>N("diceGoRounds",parseInt(W.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:[1,2,3].map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:483,columnNumber:43},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:475,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:487,columnNumber:21},void 0),e.jsxDEV("select",{value:g.oddDiceCount??1,onChange:W=>N("oddDiceCount",parseInt(W.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Dr.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:494,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:488,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:486,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:498,columnNumber:21},void 0),e.jsxDEV("select",{value:g.evenDiceCount??1,onChange:W=>N("evenDiceCount",parseInt(W.target.value,10)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Dr.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:505,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:499,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:497,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:474,columnNumber:17},void 0),X&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:514,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiStoneCount??5,onChange:W=>N("alkkagiStoneCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:ks.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:521,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:515,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:513,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:525,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiRounds??1,onChange:W=>N("alkkagiRounds",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Rm.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:532,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:526,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:524,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:536,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiPlacementType??Jl.TurnByTurn,onChange:W=>N("alkkagiPlacementType",W.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Object.values(Jl).map(W=>e.jsxDEV("option",{value:W,children:W},W,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:543,columnNumber:72},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:537,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:535,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:547,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiLayout??Xl.Normal,onChange:W=>N("alkkagiLayout",W.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Object.values(Xl).map(W=>e.jsxDEV("option",{value:W,children:W},W,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:554,columnNumber:69},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:548,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:558,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiGaugeSpeed??700,onChange:W=>N("alkkagiGaugeSpeed",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Ts.map(W=>e.jsxDEV("option",{value:W.value,children:W.label},W.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:565,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:559,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:557,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:569,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiSlowItemCount??2,onChange:W=>N("alkkagiSlowItemCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Sr.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:576,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:570,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:568,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:580,columnNumber:21},void 0),e.jsxDEV("select",{value:g.alkkagiAimingLineItemCount??2,onChange:W=>N("alkkagiAimingLineItemCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Sr.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:587,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:581,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:579,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:512,columnNumber:17},void 0),H&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:596,columnNumber:21},void 0),e.jsxDEV("select",{value:g.curlingStoneCount??5,onChange:W=>N("curlingStoneCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Em.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:603,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:597,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:595,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:607,columnNumber:21},void 0),e.jsxDEV("select",{value:g.curlingRounds??3,onChange:W=>N("curlingRounds",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Qd.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:614,columnNumber:48},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:608,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:606,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:618,columnNumber:21},void 0),e.jsxDEV("select",{value:g.curlingGaugeSpeed??700,onChange:W=>N("curlingGaugeSpeed",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Ps.map(W=>e.jsxDEV("option",{value:W.value,children:W.label},W.value,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:625,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:619,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:617,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:629,columnNumber:21},void 0),e.jsxDEV("select",{value:g.curlingSlowItemCount??2,onChange:W=>N("curlingSlowItemCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Ta.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:636,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:630,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:628,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-1 lg:gap-2 items-center",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300 flex-shrink-0",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:640,columnNumber:21},void 0),e.jsxDEV("select",{value:g.curlingAimingLineItemCount??2,onChange:W=>N("curlingAimingLineItemCount",parseInt(W.target.value)),className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1.5 lg:p-2",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:Ta.map(W=>e.jsxDEV("option",{value:W,children:[W,""]},W,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:647,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:641,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:639,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:594,columnNumber:17},void 0),Q&&e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{className:"font-semibold text-gray-300",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:655,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[...st,...dt].filter(W=>W.mode!==I.Mix&&W.mode!==I.Dice&&W.mode!==I.Omok&&W.mode!==I.Ttamok&&W.mode!==I.Alkkagi&&W.mode!==I.Curling).map(W=>{var me;const Pe=((me=g.mixedModes)==null?void 0:me.includes(W.mode))||!1;return e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:Pe,onChange:de=>{const Ge=g.mixedModes||[];de.target.checked?N("mixedModes",[...Ge,W.mode]):N("mixedModes",Ge.filter(ve=>ve!==W.mode))},className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:663,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-300",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:W.mode},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:676,columnNumber:29},void 0)]},W.mode,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:662,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:656,columnNumber:19},void 0),g.mixedModes&&g.mixedModes.length<2&&e.jsxDEV("p",{className:"text-red-400",style:{fontSize:`${Math.max(9,Math.round(11*.85))}px`},children:" 2     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:682,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:654,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:263,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:261,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-2 lg:mt-4 border-t border-gray-700 pt-2 lg:pt-4 flex justify-between gap-2 lg:gap-3",children:[e.jsxDEV(ae,{onClick:m,colorScheme:"red",className:"!py-1.5 flex-1",style:{fontSize:`${Math.max(10,Math.round(12*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:691,columnNumber:15},void 0),e.jsxDEV(ae,{onClick:()=>u(g),colorScheme:"yellow",className:"!py-1.5 flex-1",disabled:!y,style:{fontSize:`${Math.max(10,Math.round(12*.85))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:692,columnNumber:15},void 0),e.jsxDEV(ae,{onClick:()=>c(o.settings),colorScheme:"green",className:"!py-1.5 flex-1",disabled:y,style:{fontSize:`${Math.max(10,Math.round(12*.85))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:701,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:690,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:221,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:167,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:166,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ChallengeReceivedModal.tsx",lineNumber:165,columnNumber:5},void 0)},YV=({item:o,onClose:a,onConfirm:c,isTopmost:m})=>{const p=(()=>{if(o.type==="equipment"){const s=ew[o.grade]||0,x=Math.pow(1.2,o.stars);return Math.floor(s*x)}else if(o.type==="material")return FD[o.name]||1;return 0})();return e.jsxDEV(mn,{title:"  ",onClose:a,windowId:"sellItemConfirm",isTopmost:m,zIndex:60,children:e.jsxDEV("div",{className:"p-4 text-on-panel flex flex-col items-center",children:[e.jsxDEV("div",{className:"mb-4 text-center",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:"  ?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:40,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-4 my-4",children:[o.image&&e.jsxDEV("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0",children:e.jsxDEV("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:44,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:43,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("p",{className:"font-semibold text-lg",children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:48,columnNumber:29},void 0),o.type==="equipment"&&o.stars>0&&e.jsxDEV("p",{className:"text-sm text-gray-400",children:[": ",o.stars,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:50,columnNumber:33},void 0),o.type==="material"&&o.quantity&&e.jsxDEV("p",{className:"text-sm text-gray-400",children:[": ",o.quantity.toLocaleString()," (1 )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:53,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:47,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:41,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:39,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-800/50 p-4 rounded-lg mb-4",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-lg font-semibold",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:61,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-2xl font-bold text-yellow-400",children:[p.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:62,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:60,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:59,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 w-full",children:[e.jsxDEV(ae,{onClick:a,colorScheme:"gray",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:69,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:c,colorScheme:"red",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:72,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:68,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:38,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellItemConfirmModal.tsx",lineNumber:31,columnNumber:9},void 0)},KV=({item:o,currentUser:a,onClose:c,onConfirm:m,isTopmost:u})=>{const p=b.useMemo(()=>a.inventory.filter(h=>h.type==="material"&&h.name===o.name).reduce((h,N)=>h+(N.quantity||0),0),[a.inventory,o.name]),s=FD[o.name]||1,[x,v]=b.useState(1);b.useEffect(()=>{v(Math.min(x,p))},[p]);const g=h=>{const N=parseInt(h.target.value,10);isNaN(N)?v(1):v(Math.max(1,Math.min(p,N)))},f=s*x;return e.jsxDEV(mn,{title:"  ",onClose:c,windowId:"sellMaterialBulk",isTopmost:u,zIndex:60,children:e.jsxDEV("div",{className:"p-4 text-on-panel flex flex-col items-center",children:[e.jsxDEV("div",{className:"mb-4 text-center w-full",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-4 my-4",children:[o.image&&e.jsxDEV("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0",children:e.jsxDEV("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:55,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:54,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("p",{className:"font-semibold text-lg",children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:[": ",p.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:58,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:52,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:50,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full space-y-4 mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"quantity-slider",className:"block text-sm font-medium text-secondary text-center mb-2",children:[" : ",e.jsxDEV("span",{className:"font-bold text-highlight",children:[x.toLocaleString()," / ",p.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:68,columnNumber:36},void 0),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:67,columnNumber:25},void 0),e.jsxDEV("input",{id:"quantity-slider",type:"range",min:"1",max:p,value:x,onChange:g,disabled:p===0,className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between text-xs text-tertiary mt-1",children:[e.jsxDEV("span",{children:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:81,columnNumber:29},void 0),e.jsxDEV("span",{children:[p.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:80,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("input",{type:"number",min:"1",max:p,value:x,onChange:g,className:"w-full bg-secondary border border-color text-on-panel text-sm rounded-md p-2 text-center"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:85,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:84,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:66,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-sm",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:98,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold",children:[s.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:99,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:97,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-lg font-semibold",children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:102,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-2xl font-bold text-yellow-400",children:[f.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:103,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:101,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:96,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:65,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 w-full",children:[e.jsxDEV(ae,{onClick:c,colorScheme:"gray",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:111,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>m(x),colorScheme:"red",className:"flex-1",disabled:x===0||x>p,children:[x.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:114,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SellMaterialBulkModal.tsx",lineNumber:42,columnNumber:9},void 0)},JV=({item:o,currentUser:a,onClose:c,onConfirm:m,isTopmost:u})=>{const p=b.useMemo(()=>a.inventory.filter(f=>f.type==="consumable"&&f.name===o.name).reduce((f,h)=>f+(h.quantity||0),0),[a.inventory,o.name]),[s,x]=b.useState(1);b.useEffect(()=>{x(Math.min(s,p))},[p]);const v=f=>{const h=parseInt(f.target.value,10);isNaN(h)?x(1):x(Math.max(1,Math.min(p,h)))},g=f=>{x(Number(f.target.value))};return e.jsxDEV(mn,{title:" ",onClose:c,windowId:"useQuantity",isTopmost:u,zIndex:60,children:e.jsxDEV("div",{className:"p-4 text-on-panel flex flex-col items-center",children:[e.jsxDEV("div",{className:"mb-4 text-center w-full",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-4 my-4",children:[o.image&&e.jsxDEV("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0",children:e.jsxDEV("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:55,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:54,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("p",{className:"font-semibold text-lg",children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:[": ",p.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:58,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:52,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:50,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full space-y-4 mb-4",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"quantity-slider",className:"block text-sm font-medium text-secondary text-center mb-2",children:[" : ",e.jsxDEV("span",{className:"font-bold text-highlight",children:[s.toLocaleString()," / ",p.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:68,columnNumber:36},void 0),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:67,columnNumber:25},void 0),e.jsxDEV("input",{id:"quantity-slider",type:"range",min:"1",max:p,value:s,onChange:g,disabled:p===0,className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between text-xs text-tertiary mt-1",children:[e.jsxDEV("span",{children:"1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:81,columnNumber:29},void 0),e.jsxDEV("span",{children:[p.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:80,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("input",{type:"number",min:"1",max:p,value:s,onChange:v,className:"w-full bg-secondary border border-color text-on-panel text-sm rounded-md p-2 text-center"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:85,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:84,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:66,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:65,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-4 w-full",children:[e.jsxDEV(ae,{onClick:c,colorScheme:"gray",className:"flex-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:98,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:()=>{m(o.id,s),c()},colorScheme:"purple",className:"flex-1",disabled:s===0||s>p,children:[s.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:101,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UseQuantityModal.tsx",lineNumber:42,columnNumber:9},void 0)},XV={all:"",equipment:"",consumable:"",material:""},ZV=o=>100+Math.max(0,(o-Kl)/qD)*20,UD={normal:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5},e5=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-purple-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},n5=({slot:o,item:a,scaleFactor:c=1,onClick:m,isSelected:u=!1})=>{const p=s=>{if(s===0)return null;let x="",v="";s>=10?(x="/images/equipments/Star4.png",v="prism-text-effect"):s>=7?(x="/images/equipments/Star3.png",v="text-purple-400"):s>=4?(x="/images/equipments/Star2.png",v="text-amber-400"):s>=1&&(x="/images/equipments/Star1.png",v="text-white");const g=Math.max(8,Math.round(10*c)),f=Math.max(8,Math.round(10*c)),h=Math.max(2,Math.round(2*c)),N=Math.max(2,Math.round(2*c));return e.jsxDEV("div",{className:"absolute flex items-center bg-black/40 rounded-bl-md z-10",style:{textShadow:"1px 1px 2px black",top:`${Math.max(2,Math.round(2*c))}px`,right:`${Math.max(2,Math.round(2*c))}px`,gap:`${h}px`,padding:`${N}px`},children:[e.jsxDEV("img",{src:x,alt:"star",style:{width:`${g}px`,height:`${g}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:105,columnNumber:17},void 0),e.jsxDEV("span",{className:`font-bold leading-none ${v}`,style:{fontSize:`${f}px`},children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:95,columnNumber:13},void 0)};if(a){const s=Math.max(4,Math.round(6*c)),x=Math.max(1,Math.round(2*c));return e.jsxDEV("div",{className:`relative aspect-square rounded-lg bg-tertiary/50 ${m?"cursor-pointer hover:ring-2 hover:ring-accent/70":""} ${u?"ring-2 ring-accent":"ring-1 ring-transparent"}`,title:a.name,onClick:m,style:{width:"100%",height:"100%",minWidth:0,minHeight:0,maxWidth:"100%",maxHeight:"100%",border:`${x}px solid rgba(255, 255, 255, 0.1)`,boxSizing:"border-box"},children:[e.jsxDEV("img",{src:Yd[a.grade],alt:a.grade,className:"absolute inset-0 object-cover rounded-md",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:130,columnNumber:17},void 0),a.image&&e.jsxDEV("img",{src:a.image,alt:a.name,className:"relative object-contain",style:{width:"100%",height:"100%",padding:`${s}px`,maxWidth:"100%",maxHeight:"100%",boxSizing:"border-box",objectFit:"contain"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:143,columnNumber:21},void 0),p(a.stars)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:115,columnNumber:13},void 0)}else{const s=Math.max(1,Math.round(2*c));return e.jsxDEV("img",{src:wm[o],alt:`${o} empty slot`,className:"aspect-square rounded-lg bg-tertiary/50",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",border:`${s}px solid rgba(255, 255, 255, 0.1)`,boxSizing:"border-box"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:164,columnNumber:14},void 0)}},wD=({item:o,title:a,comparisonItem:c,scaleFactor:m=1,userLevelSum:u=0,mobileTextScale:p=1})=>{var S;if(!o)return e.jsxDEV("div",{className:"h-full flex items-center justify-center text-tertiary",style:{fontSize:`${Math.max(12,Math.round(14*m*p))}px`},children:a},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:191,columnNumber:16},void 0);const s=Nm[o.grade],x=M=>{if(M===0)return null;let C="",w="";M>=10?(C="/images/equipments/Star4.png",w="prism-text-effect"):M>=7?(C="/images/equipments/Star3.png",w="text-purple-400"):M>=4?(C="/images/equipments/Star2.png",w="text-amber-400"):M>=1&&(C="/images/equipments/Star1.png",w="text-white");const R=Math.max(8,Math.round(10*m)),O=Math.max(8,Math.round(10*m)),V=Math.max(2,Math.round(2*m)),$=Math.max(2,Math.round(2*m));return e.jsxDEV("div",{className:"absolute flex items-center bg-black/40 rounded-bl-md z-10",style:{textShadow:"1px 1px 2px black",top:`${Math.max(2,Math.round(2*m))}px`,right:`${Math.max(2,Math.round(2*m))}px`,gap:`${V}px`,padding:`${$}px`},children:[e.jsxDEV("img",{src:C,alt:"star",style:{width:`${R}px`,height:`${R}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:232,columnNumber:17},void 0),e.jsxDEV("span",{className:`font-bold leading-none ${w}`,style:{fontSize:`${O}px`},children:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:222,columnNumber:13},void 0)},v=hl[o.grade],g=o.type==="equipment",f=!g||u>=v,h=M=>!M||!M.options?[]:[...M.options.main?[M.options.main]:[],...M.options.combatSubs||[],...M.options.specialSubs||[],...M.options.mythicSubs||[]].filter(Boolean),N=(M,C)=>{if(!M||!M.options)return 0;const R=h(M).find(O=>O.type===C);return R?R.value:0},y=h(o),E=h(c),j=new Map;y.forEach(M=>{j.set(M.type,{current:M})}),E.forEach(M=>{const C=j.get(M.type);C?C.comparison=M:j.set(M.type,{comparison:M})});const U=Array.from(j.keys()).sort();return e.jsxDEV("div",{className:"flex flex-col h-full",style:{fontSize:`${Math.max(11,Math.round(12*m*p))}px`},children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"relative rounded-lg flex-shrink-0",style:{width:`${Math.max(60,Math.round(80*m))}px`,height:`${Math.max(60,Math.round(80*m))}px`},children:[e.jsxDEV("img",{src:s.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:291,columnNumber:21},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain",style:{padding:`${Math.max(2,Math.round(4*m))}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:292,columnNumber:36},void 0),x(o.stars)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow text-right ml-2",children:[e.jsxDEV("div",{className:"flex items-baseline justify-end gap-0.5",children:e.jsxDEV("h3",{className:`font-bold ${s.color}`,style:{fontSize:`${Math.max(14,Math.round(18*m*p))}px`},children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:298,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:297,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2 mt-0.5",style:{fontSize:`${Math.max(10,Math.round(11*m*p))}px`},children:[e.jsxDEV("span",{className:"text-gray-400",children:["[",s.name,"]"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:301,columnNumber:25},void 0),g&&e.jsxDEV("span",{className:`${f?"text-gray-300":"text-red-400"} whitespace-nowrap`,style:{fontSize:`${Math.max(9,Math.round(10*m*p))}px`},children:["  ",v]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:303,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:300,columnNumber:21},void 0),((S=o.options)==null?void 0:S.main)&&e.jsxDEV("p",{className:"font-semibold text-yellow-300 flex justify-between items-center",style:{fontSize:`${Math.max(11,Math.round(12*m*p))}px`},children:[e.jsxDEV("span",{children:[o.options.main.display,o.options.main.range&&` [${o.options.main.range[0]}~${o.options.main.range[1]}]`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:310,columnNumber:29},void 0),c&&o.options.main.type&&(()=>{const M=N(c,o.options.main.type),C=o.options.main.value-M,w=C>0?` (+${C})`:C<0?` (${C})`:"",R=C>0?"text-green-400":C<0?"text-red-400":"";return C!==0&&e.jsxDEV("span",{className:`font-bold ${R} text-right`,children:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:320,columnNumber:64},void 0)})()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:309,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:296,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:282,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full text-left space-y-1 bg-gray-900/50 p-2 rounded-lg flex-grow overflow-y-auto",style:{fontSize:`${Math.max(10,Math.round(11*m*p))}px`},children:U.map(M=>{var R,O;const{current:C,comparison:w}=j.get(M);if(((O=(R=o.options)==null?void 0:R.main)==null?void 0:O.type)===M)return null;if(C&&w){const V=C.value-w.value,$=V>0?` (+${V})`:V<0?` (${V})`:"",z=V>0?"text-green-400":V<0?"text-red-400":"";let P="text-blue-300";C.type in _t&&(P="text-green-300"),C.type in ro&&(P="text-red-400");const G=C.range?` [${C.range[0]}~${C.range[1]}]`:"";return e.jsxDEV("p",{className:`${P} flex justify-between items-center`,children:[e.jsxDEV("span",{children:[C.display,G]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:348,columnNumber:33},void 0),V!==0&&e.jsxDEV("span",{className:`font-bold ${z} text-right`,children:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:352,columnNumber:37},void 0)]},M,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:347,columnNumber:29},void 0)}else if(C&&!w){let V="text-green-400";C.type in _t&&(V="text-green-300"),C.type in ro&&(V="text-red-400");const $=C.range?` [${C.range[0]}~${C.range[1]}]`:"";return e.jsxDEV("p",{className:`${V} flex justify-between items-center`,children:[e.jsxDEV("span",{children:[C.display,$]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:364,columnNumber:33},void 0)," ",e.jsxDEV("span",{className:"font-bold text-right",children:"(New)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:366,columnNumber:41},void 0)]},M,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:363,columnNumber:29},void 0)}else if(!C&&w){let V="text-red-400";w.type in _t&&(V="text-green-300"),w.type in ro&&(V="text-red-400");const $=w.range?` [${w.range[0]}~${w.range[1]}]`:"";return e.jsxDEV("p",{className:`${V} line-through flex justify-between items-center`,children:e.jsxDEV("span",{children:[w.display,$]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:377,columnNumber:33},void 0)},M,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:376,columnNumber:29},void 0)}return null})},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:280,columnNumber:9},void 0)},t5=["fan","board","top","bottom","bowl","stones"],o5=({currentUser:o,onClose:a,onAction:c,onStartEnhance:m,enhancementAnimationTarget:u,onAnimationComplete:p,isTopmost:s})=>{const{presets:x,handlers:v,currentUserWithStatus:g,updateTrigger:f}=ot(),h=g||o,{inventorySlots:N={equipment:30,consumable:10,material:10}}=h,[y,E]=b.useState(null),[j,U]=b.useState("all"),[S,M]=b.useState("createdAt"),[C,w]=b.useState(0),[R,O]=b.useState(!1),[V,$]=b.useState(""),[z,P]=b.useState(!1),[G,q]=b.useState(null),[B,X]=b.useState(null),[H,Q]=b.useState(null),[Z,ne]=b.useState(!1),[le,L]=b.useState(window.innerWidth),[ue,pe]=b.useState(window.innerHeight);b.useEffect(()=>{const Ee=()=>{L(window.innerWidth),pe(window.innerHeight)};return window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]);const ie=b.useMemo(()=>{const Ee=le*.85;return Math.max(400,Math.min(950,Ee))},[le]),fe=b.useMemo(()=>{const Ee=ue*.9;return Math.max(520,Math.min(1e3,Ee))},[ue]),W=b.useMemo(()=>le<768,[le]),Pe=950,me=b.useMemo(()=>{const Ee=ie/Pe,ze=Math.max(.4,Math.min(1,Ee));return W?Math.max(.45,ze*.75):ze},[ie,W]),de=b.useMemo(()=>W?.85:1,[W]),Ge=Ee=>{var ln;w(Ee);const ze=x[Ee];v.applyPreset(ze||{name:((ln=x[Ee])==null?void 0:ln.name)||` ${Ee+1}`,equipment:{}})},ve=b.useMemo(()=>{if(!y)return null;const Ee=h.inventory.find(ze=>ze.id===y);return!Ee&&y&&setTimeout(()=>E(null),0),Ee||null},[y,h.inventory,f]),an=b.useMemo(()=>{if(j==="all")return 0;const Ee=(N==null?void 0:N[j])??Kl;return ZV(Ee)},[j,N]),{coreStatBonuses:ye}=b.useMemo(()=>Kd(h),[h]),De=b.useMemo(()=>{if(!ve||ve.type!=="material")return[];const Ee={normal:[],uncommon:[],rare:[],epic:[],legendary:[],mythic:[]};for(const ln in Gd)Gd[ln].forEach((Ln,Bn)=>{Ln.forEach(zn=>{zn.name===ve.name&&(Ee[ln]||(Ee[ln]=[]),Ee[ln].push(Bn+1))})});const ze=[];for(const ln in Ee){const yn=Ee[ln].sort((Ln,Bn)=>Ln-Bn);yn.length>0&&ze.push(`${Nm[ln].name}   : +${yn.join("/+")}`)}return ze},[ve]),We=()=>{j==="all"||!Ze||ne(!0)},Ie=async()=>{if(!(j==="all"||!Ze||an<=0)){if(!Se){alert(" .");return}await c({type:"EXPAND_INVENTORY",payload:{category:j}}),ne(!1)}},Je=()=>{$(x[C].name),O(!0)},K=()=>{const Ee={...x[C],name:V,equipment:h.equipment};c({type:"SAVE_PRESET",payload:{preset:Ee,index:C}}),O(!1),alert(" .")},J=Ee=>{const ze=h.inventory.find(ln=>ln.id===Ee);if(ze){if(!ze.isEquipped){const ln=hl[ze.grade],yn=h.strategyLevel+h.playfulLevel;if(yn<ln){alert(`   . (: ${ln}, : ${yn})`);return}}c({type:"TOGGLE_EQUIP_ITEM",payload:{itemId:Ee}})}},ke=b.useMemo(()=>{let Ee=[...h.inventory];return j!=="all"&&(Ee=Ee.filter(ze=>ze.type===j)),j==="material"&&console.log("Filtered materials:",Ee),Ee.sort((ze,ln)=>{if(S==="createdAt")return ln.createdAt-ze.createdAt;if(S==="grade"){const yn=UD[ze.grade],Ln=UD[ln.grade];return yn!==Ln?Ln-yn:ln.stars-ze.stars}if(S==="type"){const yn={equipment:1,consumable:2,material:3};return yn[ze.type]-yn[ln.type]}return 0}),Ee},[h.inventory,j,S,f]),Te=b.useMemo(()=>{const Ee=N||{};return j==="all"?(Ee.equipment??Kl)+(Ee.consumable??Kl)+(Ee.material??Kl):Ee[j]??Kl},[N,j]),be=b.useMemo(()=>{let Ee=nw;return j==="consumable"?Ee=tw:j==="material"&&(Ee=ow),Ee},[j]),Ce=b.useMemo(()=>j==="all"?0:(N==null?void 0:N[j])??Kl,[j,N]),Re=b.useMemo(()=>j==="all"?0:Math.min(Ce+qD,be),[j,Ce,be]),Ze=b.useMemo(()=>j==="all"?!1:Ce<be,[j,Ce,be]),Se=b.useMemo(()=>an<=0?!0:(h.diamonds??0)>=an,[h.diamonds,an]),Fe=b.useMemo(()=>j==="all"?0:Math.max(0,Re-Ce),[j,Re,Ce]),tn=b.useMemo(()=>XV[j],[j]),Rn=b.useCallback(Ee=>x.some(ze=>Object.values(ze.equipment).includes(Ee)),[x]),Dn=b.useCallback(Ee=>{const ze=h.equipment[Ee];if(ze)return h.inventory.find(ln=>ln.id===ze)},[h.equipment,h.inventory,f]),Ue=b.useMemo(()=>!ve||!ve.slot?null:Dn(ve.slot),[ve,Dn]),Be=b.useMemo(()=>{if(!ve||ve.type!=="equipment")return!1;const Ee=hl[ve.grade];return h.strategyLevel+h.playfulLevel>=Ee},[ve,h.strategyLevel,h.playfulLevel]),qe=b.useMemo(()=>{if(!ve||ve.type!=="equipment"||!ve.slot)return null;const Ee=Pa(h),ze=Object.values(Ee).reduce((Sn,Nn)=>Sn+Nn,0),ln=h.equipment[ve.slot],yn={...h.equipment};yn[ve.slot]=ve.id;const Ln=h.inventory.map(Sn=>Sn.id===ve.id?{...Sn,isEquipped:!0}:ln&&Sn.id===ln?{...Sn,isEquipped:!1}:Sn),Bn={...h,inventory:Ln},zn=Pa(Bn);return Object.values(zn).reduce((Sn,Nn)=>Sn+Nn,0)-ze},[ve,h]);return e.jsxDEV(mn,{title:"",onClose:a,windowId:"inventory",isTopmost:s,initialWidth:ie,initialHeight:fe,children:[e.jsxDEV("div",{className:"flex flex-col h-full w-full overflow-hidden",style:{margin:0,padding:0},children:[e.jsxDEV("div",{className:`bg-gray-800 mb-2 rounded-md shadow-inner flex ${W?"flex-col":"flex-row"} flex-shrink-0 overflow-auto`,style:{maxHeight:`${W?Math.min(600*me,ue*.6):Math.min(400*me,ue*.5)}px`,padding:`${W?Math.max(8,Math.round(10*me)):Math.max(12,Math.round(16*me))}px`},children:[e.jsxDEV("div",{className:`${W?"w-full mb-3":"w-1/3"} ${W?"":"border-r border-gray-700"}`,style:{paddingRight:`${W?0:Math.max(12,Math.round(16*me))}px`},children:[e.jsxDEV("h3",{className:"font-bold text-on-panel",style:{fontSize:`${Math.max(14,Math.round(18*me*de))}px`,marginBottom:`${Math.max(6,Math.round(8*me))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:708,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid",style:{gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:`${Math.max(6,Math.round(8*me))}px`},children:t5.map(Ee=>{const ze=Dn(Ee);return e.jsxDEV("div",{style:{width:"100%",minWidth:0},children:e.jsxDEV(n5,{slot:Ee,item:ze,scaleFactor:me,onClick:ze?()=>E(ze.id):void 0,isSelected:ze?y===ze.id:!1},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:720,columnNumber:37},void 0)},Ee,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:719,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:709,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mb-2",children:Object.values(_).map(Ee=>{const ze=h.baseStats||{},ln=h.spentStatPoints||{},yn=(ze[Ee]||0)+(ln[Ee]||0),Ln=ye[Ee]||{percent:0,flat:0},Bn=Math.floor(yn*(Ln.percent/100))+Ln.flat,zn=yn+Bn;return e.jsxDEV("div",{className:"bg-tertiary/40 p-1 rounded-md flex items-center justify-between",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:[e.jsxDEV("span",{className:"font-semibold text-secondary whitespace-nowrap",children:Ee},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:741,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono font-bold whitespace-nowrap",title:`: ${yn}, : ${Bn}`,children:[isNaN(zn)?0:zn,Bn>0&&e.jsxDEV("span",{className:"text-green-400 ml-0.5",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:["(+",Bn,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:744,columnNumber:63},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:742,columnNumber:45},void 0)]},Ee,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:740,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:731,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("select",{value:C,onChange:Ee=>Ge(Number(Ee.target.value)),className:"bg-secondary border border-color rounded-md p-1 focus:ring-accent focus:border-accent flex-grow",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:x.map((Ee,ze)=>e.jsxDEV("option",{value:ze,children:Ee.name},ze,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:758,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:751,columnNumber:33},void 0),e.jsxDEV(ae,{onClick:Je,colorScheme:"blue",className:"!py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:761,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:750,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:730,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:707,columnNumber:21},void 0),ve&&ve.type==="equipment"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`flex flex-col ${W?"w-full mb-3":"w-1/3"} h-full bg-panel-secondary rounded-lg ${W?"p-2":"p-3"} relative overflow-hidden ${W?"":"ml-4"} ${W?"":"border-r border-gray-700"}`,children:[e.jsxDEV("h3",{className:"font-bold text-on-panel mb-2",style:{fontSize:`${Math.max(14,Math.round(18*me*de))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:773,columnNumber:33},void 0),Ue?e.jsxDEV(wD,{item:Ue,title:"  ",comparisonItem:ve,scaleFactor:me,mobileTextScale:de,userLevelSum:h.strategyLevel+h.playfulLevel},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:775,columnNumber:37},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-tertiary",style:{fontSize:`${Math.max(12,Math.round(14*me*de))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:777,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:772,columnNumber:29},void 0),e.jsxDEV("div",{className:`flex flex-col ${W?"w-full":"w-1/3"} h-full bg-panel-secondary rounded-lg ${W?"p-2":"p-3"} relative overflow-hidden ${W?"":"ml-4"}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("h3",{className:"font-bold text-on-panel",style:{fontSize:`${Math.max(14,Math.round(18*me*de))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:784,columnNumber:37},void 0),qe!==null&&qe!==0&&e.jsxDEV("span",{className:`font-bold ${qe>0?"text-green-400":"text-red-400"}`,style:{fontSize:`${Math.max(12,Math.round(14*me*de))}px`},children:["",qe>0?"+":"",qe]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:786,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:783,columnNumber:33},void 0),e.jsxDEV(wD,{item:ve,title:"  ",comparisonItem:Ue,scaleFactor:me,mobileTextScale:de,userLevelSum:h.strategyLevel+h.playfulLevel},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:791,columnNumber:33},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2 px-4",children:[ve.id===(Ue==null?void 0:Ue.id)?e.jsxDEV(ae,{onClick:()=>J(ve.id),colorScheme:"red",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:794,columnNumber:41},void 0):e.jsxDEV(ae,{onClick:()=>J(ve.id),colorScheme:"green",className:"w-full !py-1",disabled:!Be,style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:803,columnNumber:41},void 0),e.jsxDEV(ae,{onClick:()=>m(ve),disabled:ve.stars>=10,colorScheme:"yellow",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:ve.stars>=10?" ":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:813,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>X(ve),colorScheme:"red",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:822,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:792,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:782,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:770,columnNumber:25},void 0):e.jsxDEV("div",{className:`flex flex-col ${W?"w-full":"w-2/3"} h-full bg-panel-secondary rounded-lg ${W?"p-2":"p-3"} relative overflow-hidden ${W?"":"ml-4"}`,children:ve?ve.type==="consumable"||ve.type==="material"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{className:"font-bold text-on-panel mb-2",style:{fontSize:`${Math.max(14,Math.round(18*me*de))}px`},children:[" ",ve.type==="consumable"?"":""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:834,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex flex-col h-full",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"relative rounded-lg flex-shrink-0",style:{width:`${Math.max(60,Math.round(80*me))}px`,height:`${Math.max(60,Math.round(80*me))}px`},children:[e.jsxDEV("img",{src:Yd[ve.grade],alt:ve.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:846,columnNumber:53},void 0),ve.image&&e.jsxDEV("img",{src:ve.image,alt:ve.name,className:"relative w-full h-full object-contain",style:{padding:`${Math.max(2,Math.round(4*me))}px`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:847,columnNumber:76},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:839,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex-grow text-right ml-2",children:[e.jsxDEV("h3",{className:`font-bold ${Nm[ve.grade].color}`,style:{fontSize:`${Math.max(14,Math.round(18*me*de))}px`},children:ve.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:850,columnNumber:53},void 0),e.jsxDEV("p",{className:"text-gray-400",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:["[",Nm[ve.grade].name,"]"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:851,columnNumber:53},void 0),e.jsxDEV("p",{className:"text-gray-300 mt-1",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:ve.description},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:852,columnNumber:53},void 0),e.jsxDEV("p",{className:"text-gray-300 mt-1",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:[" : ",ve.quantity]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:853,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:849,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:838,columnNumber:45},void 0),ve.type==="material"&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-800/50 rounded-lg flex-grow",style:{maxHeight:"4em"},children:[e.jsxDEV("p",{className:"font-semibold text-secondary mb-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:858,columnNumber:53},void 0),De.length>0?De.slice(0,2).map((Ee,ze)=>e.jsxDEV("p",{className:"text-gray-300",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:Ee},ze,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:861,columnNumber:61},void 0)):e.jsxDEV("p",{className:"text-gray-300",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:"       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:866,columnNumber:57},void 0),De.length>2&&e.jsxDEV("p",{className:"text-gray-400 mt-1",style:{fontSize:`${Math.max(10,Math.round(11*me*de))}px`},children:"..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:869,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:857,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:837,columnNumber:41},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2 px-4",children:[ve.type==="consumable"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:()=>c({type:"USE_ITEM",payload:{itemId:ve.id}}),colorScheme:"blue",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:877,columnNumber:53},void 0),ve.quantity&&ve.quantity>1&&e.jsxDEV(ae,{onClick:()=>{q(ve),P(!0)},colorScheme:"purple",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:881,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:876,columnNumber:49},void 0),ve.type==="material"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{onClick:()=>X(ve),colorScheme:"red",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:894,columnNumber:53},void 0),e.jsxDEV(ae,{onClick:()=>Q(ve),colorScheme:"orange",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:897,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:893,columnNumber:49},void 0),ve.type!=="material"&&e.jsxDEV(ae,{onClick:()=>X(ve),colorScheme:"red",className:"w-full !py-1",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:903,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:874,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:833,columnNumber:37},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-tertiary",style:{fontSize:`${Math.max(12,Math.round(14*me*de))}px`},children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:910,columnNumber:37},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-tertiary",style:{fontSize:`${Math.max(12,Math.round(14*me*de))}px`},children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:913,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:830,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:705,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-900 overflow-hidden flex flex-col",style:{flex:"1 1 0",minHeight:`${W?Math.max(200*me,ue*.3):Math.max(320*me,ue*.45)}px`,padding:`${W?Math.max(8,Math.round(10*me)):Math.max(12,Math.round(16*me))}px`,paddingTop:`${W?Math.max(8,Math.round(10*me)):Math.max(12,Math.round(16*me))}px`,paddingBottom:`${W?Math.max(8,Math.round(10*me)):Math.max(12,Math.round(16*me))}px`,marginBottom:0},children:[e.jsxDEV("div",{className:`flex-shrink-0 bg-gray-900/50 rounded-md mb-2 ${W?"flex flex-col gap-2":""}`,style:{padding:`${W?Math.max(4,Math.round(6*me)):Math.max(6,Math.round(8*me))}px`,marginBottom:`${W?Math.max(4,Math.round(6*me)):Math.max(6,Math.round(8*me))}px`},children:e.jsxDEV("div",{className:`flex items-center ${W?"justify-between w-full":"justify-between"}`,children:[e.jsxDEV("div",{className:`flex items-center ${W?"gap-1":"space-x-2"}`,children:[e.jsxDEV(ae,{onClick:()=>U("all"),colorScheme:j==="all"?"blue":"gray",className:"!py-1 !px-2",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:924,columnNumber:33},void 0),e.jsxDEV(ae,{onClick:()=>U("equipment"),colorScheme:j==="equipment"?"blue":"gray",className:"!py-1 !px-2",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:925,columnNumber:33},void 0),e.jsxDEV(ae,{onClick:()=>U("consumable"),colorScheme:j==="consumable"?"blue":"gray",className:"!py-1 !px-2",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:926,columnNumber:33},void 0),e.jsxDEV(ae,{onClick:()=>U("material"),colorScheme:j==="material"?"blue":"gray",className:"!py-1 !px-2",style:{fontSize:`${Math.max(11,Math.round(12*me*de))}px`},children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:927,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:923,columnNumber:29},void 0),e.jsxDEV("div",{className:`flex items-center ${W?"gap-1":"space-x-2"}`,children:[e.jsxDEV("span",{style:{fontSize:`${Math.max(10,Math.round(12*me*de))}px`},children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:930,columnNumber:33},void 0),e.jsxDEV("select",{onChange:Ee=>M(Ee.target.value),value:S,className:"bg-gray-700 text-white rounded-md p-1",style:{fontSize:`${Math.max(9,Math.round(11*me*de))}px`},children:[e.jsxDEV("option",{value:"createdAt",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:932,columnNumber:37},void 0),e.jsxDEV("option",{value:"grade",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:933,columnNumber:37},void 0),e.jsxDEV("option",{value:"type",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:934,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:931,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-gray-400",style:{fontSize:`${Math.max(10,Math.round(12*me*de))}px`},children:`${ke.length} / ${Te}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:936,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:929,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:922,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:921,columnNumber:21},void 0),e.jsxDEV("div",{className:"overflow-y-auto flex-1",style:{width:"100%",minWidth:0,minHeight:0,paddingRight:`${W?Math.max(4,Math.round(6*me)):Math.max(6,Math.round(8*me))}px`},children:e.jsxDEV("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${W?6:10}, minmax(0, 1fr))`,gap:`${W?Math.max(3,Math.round(6*me)):Math.max(4,Math.round(8*me))}px`,width:"100%",minWidth:0},children:[Array.from({length:Te}).map((Ee,ze)=>{const ln=ke[ze];return ln?e.jsxDEV("div",{className:"aspect-square",style:{width:"100%",minWidth:0,minHeight:0,maxWidth:"100%"},children:e.jsxDEV(i5,{item:ln,onClick:()=>E(ln.id),isSelected:y===ln.id,isEquipped:ln.isEquipped||!1,enhancementStars:(u==null?void 0:u.itemId)===ln.id?u.stars:void 0,isPresetEquipped:Rn(ln.id),scaleFactor:me},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:957,columnNumber:41},void 0)},ln.id,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:956,columnNumber:37},void 0):e.jsxDEV("div",{className:"aspect-square rounded-lg bg-gray-800/50 border-2 border-gray-700/50",style:{width:"100%",minWidth:0,minHeight:0,maxWidth:"100%"}},`empty-${ze}`,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:970,columnNumber:37},void 0)}),Ze&&e.jsxDEV("button",{onClick:We,className:"w-full aspect-square rounded-lg bg-gray-800/50 border-2 border-gray-700/50 flex items-center justify-center text-gray-400 text-4xl hover:bg-gray-700/50 hover:border-accent transition-all duration-200",title:`  (${an} )`,children:"+"},"expand-slot",!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:975,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:943,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:942,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:920,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:700,columnNumber:13},void 0),z&&G&&e.jsxDEV(JV,{item:G,currentUser:h,onClose:()=>{P(!1),q(null)},onConfirm:(Ee,ze)=>{c({type:"USE_ITEM",payload:{itemId:Ee,quantity:ze}})},isTopmost:s&&!R&&!B&&!H&&!Z},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:992,columnNumber:17},void 0),B&&e.jsxDEV(YV,{item:B,onClose:()=>X(null),onConfirm:async()=>{B.type==="material"?await c({type:"SELL_ITEM",payload:{itemId:B.id,quantity:1}}):await c({type:"SELL_ITEM",payload:{itemId:B.id}}),X(null),E(null)},isTopmost:s&&!R&&!z&&!H&&!Z},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1007,columnNumber:17},void 0),H&&e.jsxDEV(KV,{item:H,currentUser:h,onClose:()=>Q(null),onConfirm:async Ee=>{const ze=h.inventory.filter(yn=>yn.type==="material"&&yn.name===H.name).sort((yn,Ln)=>(yn.quantity||0)-(Ln.quantity||0));let ln=Ee;for(const yn of ze){if(ln<=0)break;const Ln=Math.min(ln,yn.quantity||0);await c({type:"SELL_ITEM",payload:{itemId:yn.id,quantity:Ln}}),ln-=Ln}Q(null),E(null)},isTopmost:s&&!R&&!z&&!B&&!Z},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1026,columnNumber:17},void 0),Z&&j!=="all"&&e.jsxDEV(mn,{title:" ",onClose:()=>ne(!1),windowId:"expandInventory",isTopmost:s,children:e.jsxDEV("div",{className:"p-5 w-[min(320px,80vw)] text-center space-y-5",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-on-panel text-sm",children:`${tn}  ?`},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1057,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-3 text-sm font-semibold",children:[e.jsxDEV("span",{className:"text-gray-400",children:[Ce,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1059,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1060,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-emerald-300",children:[Re,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1061,columnNumber:33},void 0),Fe>0&&e.jsxDEV("span",{className:"text-emerald-400 text-xs",children:["(+",Fe,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1063,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1058,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1056,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col items-center gap-1",children:[e.jsxDEV("span",{className:"text-xs text-gray-400",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1068,columnNumber:29},void 0),e.jsxDEV("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full border ${Se?"border-cyan-400/60 bg-cyan-500/10 text-cyan-100":"border-rose-500/60 bg-rose-500/10 text-rose-200"}`,children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-5 h-5 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1070,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-bold",children:an.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1071,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1069,columnNumber:29},void 0),!Se&&e.jsxDEV("span",{className:"text-xs text-rose-300",children:" ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1074,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1067,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-center gap-2",children:[e.jsxDEV(ae,{onClick:()=>ne(!1),colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1078,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:Ie,colorScheme:"blue",disabled:!Se,className:"flex items-center gap-2 px-4 py-2",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1087,columnNumber:33},void 0),e.jsxDEV("span",{className:"flex items-center gap-1 text-sm",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1089,columnNumber:37},void 0),an.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1088,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1081,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1077,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1055,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1054,columnNumber:17},void 0),R&&e.jsxDEV(mn,{title:"  ",onClose:()=>O(!1),windowId:"renamePreset",isTopmost:s&&!Z,children:e.jsxDEV("div",{className:"p-4 flex flex-col items-center",children:[e.jsxDEV("p",{className:"mb-4 text-on-panel",children:"   :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1101,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",value:V,onChange:Ee=>$(Ee.target.value),className:"bg-secondary border border-color text-on-panel text-sm rounded-md p-2 mb-4 w-full max-w-xs",maxLength:20},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1102,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(ae,{onClick:K,colorScheme:"blue",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1110,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>O(!1),colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1113,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1109,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1100,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1099,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:699,columnNumber:9},void 0)},i5=({item:o,onClick:a,isSelected:c,isEquipped:m,enhancementStars:u,isPresetEquipped:p,scaleFactor:s=1})=>{const x=e5(u||o.stars||0);return e.jsxDEV("div",{onClick:a,className:`relative aspect-square rounded-lg cursor-pointer transition-all duration-200 ${c?"ring-2 ring-accent":"ring-1 ring-transparent"} hover:ring-2 hover:ring-accent/70`,title:o.name,style:{width:"100%",height:"100%",minWidth:0,minHeight:0,maxWidth:"100%",maxHeight:"100%"},children:[e.jsxDEV("img",{src:Yd[o.grade],alt:o.grade,className:"absolute inset-0 object-cover rounded-md",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1142,columnNumber:13},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative object-contain",style:{width:"100%",height:"100%",padding:`${Math.max(4,Math.round(6*s))}px`,maxWidth:"100%",maxHeight:"100%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1143,columnNumber:28},void 0),m&&e.jsxDEV("div",{className:"absolute bg-green-500 text-white flex items-center justify-center rounded-full border-2 border-gray-800",style:{top:`${Math.max(2,Math.round(2*s))}px`,left:`${Math.max(2,Math.round(2*s))}px`,width:`${Math.max(12,Math.round(16*s))}px`,height:`${Math.max(12,Math.round(16*s))}px`,fontSize:`${Math.max(8,Math.round(10*s))}px`},children:"E"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1145,columnNumber:17},void 0),!m&&p&&e.jsxDEV("div",{className:"absolute bg-blue-500 text-white flex items-center justify-center rounded-full border-2 border-gray-800",style:{top:`${Math.max(2,Math.round(2*s))}px`,left:`${Math.max(2,Math.round(2*s))}px`,width:`${Math.max(12,Math.round(16*s))}px`,height:`${Math.max(12,Math.round(16*s))}px`,fontSize:`${Math.max(8,Math.round(10*s))}px`},children:"P"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1159,columnNumber:17},void 0),(o.type==="consumable"||o.type==="material")&&o.quantity&&o.quantity>1&&e.jsxDEV("div",{className:"absolute bg-black/70 text-white font-bold rounded border border-white/30",style:{bottom:`${Math.max(2,Math.round(2*s))}px`,right:`${Math.max(2,Math.round(2*s))}px`,fontSize:`${Math.max(8,Math.round(10*s))}px`,padding:`${Math.max(2,Math.round(4*s))}px ${Math.max(3,Math.round(4*s))}px`},children:o.quantity},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1173,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 text-center font-bold text-white bg-black/50",style:{padding:`${Math.max(2,Math.round(2*s))}px 0`,fontSize:`${Math.max(10,Math.round(12*s))}px`},children:e.jsxDEV("span",{className:x.colorClass,children:x.text},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1192,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1185,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InventoryModal.tsx",lineNumber:1136,columnNumber:9},void 0)},l5=o=>{const a=Math.max(0,(o-Date.now())/1e3);if(a===0)return"";const c=Math.floor(a/(24*3600)),m=Math.floor(a%(24*3600)/3600),u=Math.floor(a%3600/60);return c>0?`${c} ${m}`:m>0?`${m} ${u}`:`${u}`},a5=({currentUser:o,onClose:a,onAction:c,isTopmost:m})=>{var S,M,C,w;const{currentUserWithStatus:u}=ot(),p=u||o,{mail:s}=p,[x,v]=b.useState(s.length>0?s[0]:null),[g,f]=b.useState(null);b.useEffect(()=>{if(x){const R=s.find(O=>O.id===x.id);R?JSON.stringify(R)!==JSON.stringify(x)&&v(R):v(s.length>0?s[0]:null)}else s.length>0&&v(s[0])},[s,x]),b.useEffect(()=>{x&&!x.isRead&&c({type:"MARK_MAIL_AS_READ",payload:{mailId:x.id}})},[x,c]),b.useEffect(()=>{if(x!=null&&x.expiresAt){const R=()=>{f(l5(x.expiresAt))};R();const O=setInterval(R,6e4);return()=>clearInterval(O)}else f(null)},[x]);const h=()=>{x&&x.attachments&&!x.attachmentsClaimed&&(et.claimReward(),c({type:"CLAIM_MAIL_ATTACHMENTS",payload:{mailId:x.id}}))},N=()=>{if(x){const R=s.findIndex(O=>O.id===x.id)-1;c({type:"DELETE_MAIL",payload:{mailId:x.id}}),v(s.length>1?s[Math.max(0,R)]:null)}},y=s.some(R=>R.attachments&&!R.attachmentsClaimed),E=s.some(R=>R.attachmentsClaimed),j=()=>{et.claimReward(),c({type:"CLAIM_ALL_MAIL_ATTACHMENTS"})},U=()=>{if(window.confirm("    ?")){c({type:"DELETE_ALL_CLAIMED_MAIL"});const R=s.filter(O=>!O.attachmentsClaimed);v(R.length>0?R[0]:null)}};return e.jsxDEV(mn,{title:"",onClose:a,windowId:"mailbox",initialWidth:800,isTopmost:m,children:e.jsxDEV("div",{className:"flex gap-6 h-[65vh]",children:[e.jsxDEV("div",{className:"w-1/3 bg-gray-900/50 rounded-lg p-3 flex flex-col",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-2 flex-shrink-0",children:["  (",s.length,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:115,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 mb-2 flex-shrink-0",children:[e.jsxDEV(ae,{onClick:j,disabled:!y,colorScheme:"green",className:"!text-sm !py-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:117,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:U,disabled:!E,colorScheme:"red",className:"!text-sm !py-2",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:120,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:116,columnNumber:21},void 0),e.jsxDEV("ul",{className:"space-y-1 overflow-y-auto flex-grow pr-2",children:s.map(R=>e.jsxDEV("li",{children:e.jsxDEV("button",{onClick:()=>v(R),className:`w-full text-left p-2 rounded-md transition-colors ${(x==null?void 0:x.id)===R.id?"bg-blue-600":"hover:bg-gray-700/50"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[e.jsxDEV("span",{children:["From: ",R.from]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:132,columnNumber:41},void 0),!R.isRead&&e.jsxDEV("span",{className:"text-yellow-400 font-bold",children:" New"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:133,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:131,columnNumber:37},void 0),e.jsxDEV("p",{className:"font-semibold truncate",children:R.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:135,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:127,columnNumber:33},void 0)},R.id,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:126,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:124,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:114,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-2/3 flex flex-col",children:x?e.jsxDEV("div",{className:"bg-gray-900/50 rounded-lg p-4 flex flex-col h-full",children:[e.jsxDEV("div",{className:"flex-grow flex flex-col mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-2 pb-2 border-b border-gray-700",children:x.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:147,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-4",children:[e.jsxDEV("span",{children:[" : ",x.from]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:149,columnNumber:37},void 0),g&&e.jsxDEV("span",{children:[" : ",e.jsxDEV("span",{className:"text-yellow-400 font-semibold",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:150,columnNumber:68},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:150,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:148,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-sm text-gray-300 flex-grow bg-gray-800/50 p-3 rounded-md overflow-y-auto",children:x.message},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:152,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:146,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-shrink-0 pt-4 border-t border-gray-700",children:[x.attachments&&e.jsxDEV("div",{className:"bg-gray-800 p-3 rounded-lg mb-4",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:159,columnNumber:41},void 0),x.attachmentsClaimed?e.jsxDEV("p",{className:"text-gray-400 text-center",children:"[ ]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:161,columnNumber:45},void 0):e.jsxDEV("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm",children:[(((S=x.attachments)==null?void 0:S.actionPoints)??0)>0&&e.jsxDEV("span",{children:[" ",x.attachments.actionPoints.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:164,columnNumber:103},void 0),(((M=x.attachments)==null?void 0:M.gold)??0)>0&&e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:165,columnNumber:137},void 0)," ",x.attachments.gold.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:165,columnNumber:95},void 0),(((C=x.attachments)==null?void 0:C.diamonds)??0)>0&&e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:166,columnNumber:141},void 0)," ",x.attachments.diamonds.toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:166,columnNumber:99},void 0),(w=x.attachments.items)==null?void 0:w.map((R,O)=>{const V=R;return e.jsxDEV("span",{className:"flex items-center gap-1",children:[V.image&&e.jsxDEV("img",{src:V.image,alt:V.name,className:"w-4 h-4 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:171,columnNumber:85},void 0),V.name," ",V.quantity&&V.quantity>1?`x${V.quantity}`:""]},O,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:170,columnNumber:57},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:163,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:158,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-3",children:[e.jsxDEV(ae,{onClick:N,colorScheme:"red",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:181,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:h,colorScheme:"green",disabled:!x.attachments||x.attachmentsClaimed,children:x.attachmentsClaimed?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:182,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:180,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:156,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:145,columnNumber:25},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center bg-gray-900/50 rounded-lg",children:e.jsxDEV("p",{className:"text-gray-400",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:194,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:193,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:143,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:112,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MailboxModal.tsx",lineNumber:111,columnNumber:9},void 0)},r5=({quest:o,onClaim:a,isMobile:c=!1})=>{const m=o.progress>=o.target,u=Math.min(o.progress/o.target*100,100),p=()=>{m&&!o.isClaimed&&(et.claimReward(),a(o.id))};return c?e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg flex flex-col gap-3",children:[e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gray-800 rounded-md flex items-center justify-center text-gray-500 text-2xl flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:34,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow min-w-0",children:[e.jsxDEV("h4",{className:"font-bold text-sm break-words",children:o.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:36,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1 break-words",children:o.description},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:37,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:35,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:33,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:e.jsxDEV("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:41,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:40,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("p",{className:"text-xs text-gray-300",children:[o.progress," / ",o.target]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:44,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxDEV("span",{className:"text-yellow-300 font-semibold flex items-center gap-1",children:[" +",o.activityPoints]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:46,columnNumber:25},void 0),o.reward.gold&&e.jsxDEV("span",{className:"text-yellow-300 font-semibold flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:49,columnNumber:33},void 0)," +",o.reward.gold]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:48,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:45,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:43,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:p,disabled:!m||o.isClaimed,colorScheme:m&&!o.isClaimed?"green":"gray",className:"w-full !text-sm !py-2",children:o.isClaimed?"":m?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:32,columnNumber:13},void 0):e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg flex items-center gap-4",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-gray-800 rounded-md flex items-center justify-center text-gray-500 text-3xl flex-shrink-0",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow min-w-0",children:[e.jsxDEV("h4",{className:"font-bold truncate",children:o.title},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mb-1 truncate",children:o.description},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:e.jsxDEV("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:73,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:72,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-right text-gray-300 mt-1",children:[o.progress," / ",o.target]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:75,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-28 text-center flex-shrink-0 flex flex-col items-center gap-1 relative",children:[e.jsxDEV(ae,{onClick:p,disabled:!m||o.isClaimed,colorScheme:m&&!o.isClaimed?"green":"gray",className:"w-full !text-sm !py-2",children:o.isClaimed?"":m?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:78,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-xs flex-wrap",children:[e.jsxDEV("span",{className:"text-yellow-300 font-semibold flex items-center gap-1",children:[" +",o.activityPoints]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:87,columnNumber:21},void 0),o.reward.gold&&e.jsxDEV("span",{className:"text-yellow-300 font-semibold flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:90,columnNumber:29},void 0)," +",o.reward.gold]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:89,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:86,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:67,columnNumber:9},void 0)},cx=({title:o,questData:a,thresholds:c,rewards:m,questType:u,onClaim:p})=>{if(!a)return null;const{activityProgress:s,claimedMilestones:x}=a,v=c[c.length-1],g=f=>{if(!f.items||f.items.length===0)return"/images/Box/box.png";const h=f.items[0],N="itemId"in h?h.itemId:h.name,y=vl.find(E=>E.name===N);return(y==null?void 0:y.image)??"/images/Box/box.png"};return e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg mb-4 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-text-primary",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:123,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-semibold text-yellow-300",children:[s," / ",v]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:122,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-4 relative border border-gray-600",children:[e.jsxDEV("div",{className:"bg-green-500 h-full rounded-full",style:{width:`${Math.min(100,s/v*100)}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:128,columnNumber:21},void 0),c.map((f,h)=>{if(!m[h]||f===v)return null;const N=f/v*100,y=s>=f,E=x[h];return e.jsxDEV("div",{className:"absolute top-0 bottom-0 -translate-x-1/2",style:{left:`${N}%`},children:e.jsxDEV("div",{className:`w-0.5 h-full ${E?"bg-green-400":y?"bg-yellow-400":"bg-gray-500"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:144,columnNumber:33},void 0)},`marker-${f}`,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:139,columnNumber:29},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:127,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:126,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-around items-end",children:c.map((f,h)=>{if(!m[h])return null;const N=s>=f,y=x[h],E=N&&!y,j=m[h],U=g(j);return e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("button",{onClick:()=>{E&&(et.claimReward(),p(h,u))},disabled:!E,className:`relative w-8 h-8 transition-transform hover:scale-110 disabled:cursor-not-allowed ${E?"animate-pulse":""}`,title:y?" ":N?" ":`${f}  `,children:[e.jsxDEV("img",{src:U,alt:` ${h+1}`,className:`w-full h-full object-contain ${!N&&!y?"filter grayscale":""}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:178,columnNumber:33},void 0),y&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center text-xl text-green-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:183,columnNumber:47},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:167,columnNumber:29},void 0),e.jsxDEV("span",{className:`text-sm font-bold mt-1 ${N?"text-yellow-300":"text-gray-500"}`,children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:185,columnNumber:29},void 0)]},f,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:166,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:156,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:121,columnNumber:9},void 0)},s5=({currentUser:o,onClose:a,onAction:c,isTopmost:m})=>{var E,j,U;const{currentUserWithStatus:u}=ot(),p=u||o,[s,x]=b.useState("daily"),[v,g]=b.useState(window.innerWidth<768),{quests:f}=p;b.useEffect(()=>{const S=()=>g(window.innerWidth<768);return window.addEventListener("resize",S),S(),()=>window.removeEventListener("resize",S)},[]);const h=S=>{c({type:"CLAIM_QUEST_REWARD",payload:{questId:S}})},N=s==="daily"?((E=f.daily)==null?void 0:E.quests)||[]:s==="weekly"?((j=f.weekly)==null?void 0:j.quests)||[]:((U=f.monthly)==null?void 0:U.quests)||[],y=()=>s==="daily"?e.jsxDEV(cx,{title:" ",questData:f.daily,thresholds:KD,rewards:rw,questType:"daily",onClaim:(S,M)=>c({type:"CLAIM_ACTIVITY_MILESTONE",payload:{milestoneIndex:S,questType:M}})},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:220,columnNumber:20},void 0):s==="weekly"?e.jsxDEV(cx,{title:" ",questData:f.weekly,thresholds:JD,rewards:sw,questType:"weekly",onClaim:(S,M)=>c({type:"CLAIM_ACTIVITY_MILESTONE",payload:{milestoneIndex:S,questType:M}})},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:223,columnNumber:20},void 0):s==="monthly"?e.jsxDEV(cx,{title:" ",questData:f.monthly,thresholds:XD,rewards:cw,questType:"monthly",onClaim:(S,M)=>c({type:"CLAIM_ACTIVITY_MILESTONE",payload:{milestoneIndex:S,questType:M}})},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:226,columnNumber:20},void 0):null;return e.jsxDEV(mn,{title:"",onClose:a,windowId:"quests",initialWidth:v?window.innerWidth-20:750,initialHeight:v?window.innerHeight-40:void 0,isTopmost:m,children:e.jsxDEV("div",{className:`${v?"h-[calc(100vh-80px)]":"h-[calc(var(--vh,1vh)*70)]"} flex flex-col`,children:[e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-4 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>x("daily"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${s==="daily"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:235,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("weekly"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${s==="weekly"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:236,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>x("monthly"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${s==="monthly"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:237,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:234,columnNumber:17},void 0),s==="monthly"&&e.jsxDEV("div",{className:"flex-shrink-0 text-center text-xs sm:text-sm text-yellow-300 mb-4 bg-gray-900/50 p-2 rounded-md",children:e.jsxDEV("p",{className:"break-words",children:"   100       50%  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:242,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:241,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2",children:[y(),N.length>0?e.jsxDEV("ul",{className:"space-y-3",children:N.map(S=>e.jsxDEV("li",{children:e.jsxDEV(r5,{quest:S,onClaim:h,isMobile:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:252,columnNumber:37},void 0)},S.id,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:251,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:249,columnNumber:25},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500",children:e.jsxDEV("p",{children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:258,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:257,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:246,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:233,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/QuestsModal.tsx",lineNumber:232,columnNumber:9},void 0)},c5=({item:o,currentUser:a,onClose:c,onConfirm:m})=>{const[u,p]=b.useState(1),s=!!o.price.gold,x=o.price.gold||o.price.diamonds||0,v=x*u,g=b.useMemo(()=>{var E,j;const h=s?a.gold:a.diamonds,N=x>0?Math.floor(h/x):1/0;let y=1/0;if(o.type==="equipment"){const U=a.inventory.filter(C=>C.type==="equipment").length,M=(((E=a.inventorySlots)==null?void 0:E.equipment)||Kl)-U;y=M>0?M:0}else{const U=a.inventory.filter(C=>C.id===o.itemId).length,M=(((j=a.inventorySlots)==null?void 0:j[o.type])||Kl)-U;y=M>0?M:0}return Math.max(1,Math.min(o.limit||1/0,N,y,999))},[o,a,s,x]),f=()=>{u>0&&m(o.itemId,u),c()};return e.jsxDEV(mn,{title:" ",onClose:c,windowId:"purchase-quantity",initialWidth:400,zIndex:60,children:e.jsxDEV("div",{className:"text-center flex flex-col items-center",children:[e.jsxDEV("h3",{className:"text-xl font-bold mb-4",children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:59,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:[e.jsxDEV(ae,{onClick:()=>p(h=>Math.max(1,h-1)),disabled:u<=1,children:"-"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:63,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",value:u,onChange:h=>p(Math.max(1,Math.min(g,Number(h.target.value)))),className:"w-24 text-center text-2xl font-bold bg-tertiary rounded-md p-2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:64,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:()=>p(h=>Math.min(g,h+1)),disabled:u>=g,children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV(ae,{onClick:()=>p(g),disabled:g<=0,colorScheme:"blue",className:"!py-2 !px-3",children:"Max"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:71,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:62,columnNumber:21},void 0),e.jsxDEV("input",{type:"range",min:"1",max:g,value:u,onChange:h=>p(Number(h.target.value)),className:"w-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:73,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:61,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-6 text-lg",children:[e.jsxDEV("p",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:84,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-2 font-bold text-2xl text-yellow-300",children:[e.jsxDEV("img",{src:s?"/images/icon/Gold.png":"/images/icon/Zem.png",alt:s?"":"",className:"w-6 h-6"},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:86,columnNumber:25},void 0),e.jsxDEV("span",{children:v.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:87,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:85,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:83,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex w-full gap-4 mt-6",children:[e.jsxDEV(ae,{onClick:c,colorScheme:"gray",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:92,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:f,disabled:u===0||u>g,className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:93,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:91,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/PurchaseQuantityModal.tsx",lineNumber:57,columnNumber:9},void 0)},DS=(o,a)=>{if(!o||!a)return!1;const c=9*60*60*1e3,m=new Date(o+c),u=new Date(a+c);return m.getUTCFullYear()===u.getUTCFullYear()&&m.getUTCMonth()===u.getUTCMonth()&&m.getUTCDate()===u.getUTCDate()},m5=o=>{if(!o)return"";const a=o.replace(/~/g," ~ ").replace(/\s+/g," ").trim();return a.endsWith("")?`${a}.`:/[.!?]$/.test(a)?a:`${a}.`},u5=({currentUser:o,onBuy:a})=>{const c=Date.now(),m=DS(o.lastActionPointPurchaseDate||0,c)&&o.actionPointPurchasesToday||0,u=Math.min(m,Td.length-1),p=Td[u]??Td[Td.length-1],s=m<ky,x=()=>{if(!s)return;if(!(o.diamonds>=p)){alert(" .");return}a()};return e.jsxDEV("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#1c1f3e]/95 via-[#0f172a]/95 to-[#060b15]/95 border border-cyan-400/30 shadow-[0_25px_60px_-25px_rgba(34,211,238,0.55)] p-5 flex flex-col items-center text-center transition-transform duration-300 hover:-translate-y-1 hover:shadow-[0_30px_70px_-30px_rgba(59,130,246,0.65)]",children:[e.jsxDEV("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-cyan-400/70 to-transparent pointer-events-none"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute inset-0 opacity-0 pointer-events-none transition-opacity duration-500 group-hover:opacity-20 bg-[radial-gradient(circle_at_top,rgba(34,211,238,0.3),transparent_55%)]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:80,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-24 h-24 bg-gradient-to-br from-[#14b8a6]/30 via-[#06b6d4]/20 to-transparent rounded-xl mb-4 flex items-center justify-center text-5xl text-cyan-300 drop-shadow-[0_0_18px_rgba(14,165,233,0.35)]",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:81,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-xl font-bold tracking-wide text-white drop-shadow-lg",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-slate-200/85 mt-2 leading-relaxed flex-grow",children:[" ",pw.toLocaleString(),"  .     ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:85,columnNumber:13},void 0),e.jsxDEV("div",{className:"mt-4 flex flex-col items-center justify-center gap-2 w-full",children:[e.jsxDEV(ae,{onClick:x,disabled:!s,colorScheme:"none",className:`w-full justify-center rounded-xl border border-cyan-400/60 bg-gradient-to-r from-cyan-400/90 via-sky-400/90 to-blue-500/90 text-slate-900 font-semibold tracking-wide shadow-[0_10px_30px_-12px_rgba(14,165,233,0.65)] hover:from-cyan-300 hover:to-blue-400 ${s?"":"opacity-50 cursor-not-allowed"}`,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm sm:text-base",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-5 h-5 drop-shadow-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:96,columnNumber:25},void 0),e.jsxDEV("span",{children:p.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:97,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:95,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:89,columnNumber:17},void 0),!s&&e.jsxDEV("span",{className:"text-xs text-cyan-100/80 italic mt-1",children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:101,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:88,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-3 text-xs text-slate-300/80 tracking-wide uppercase",children:["  ",m,"/",ky]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:104,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:78,columnNumber:9},void 0)},mx=({item:o,onBuy:a,currentUser:c})=>{var w;const{name:m,description:u,price:p,image:s,dailyLimit:x,weeklyLimit:v}=o,g=!!p.gold,f=p.gold||p.diamonds||0,h=g?e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-5 h-5 drop-shadow-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:117,columnNumber:32},void 0):e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-5 h-5 drop-shadow-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:117,columnNumber:114},void 0),N=m5(u),y=Date.now(),E=(w=c.dailyShopPurchases)==null?void 0:w[o.itemId];let j=0,U=0,S="";v?(j=E&&!hV(E.date,y)?E.quantity:0,U=v,S=""):x&&(j=E&&DS(E.date,y)?E.quantity:0,U=x,S="");const M=U>0?U-j:o.type==="equipment"?100:void 0,C=()=>{a({...o,limit:M})};return e.jsxDEV("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#1f2239]/95 via-[#0f172a]/95 to-[#060b12]/95 p-4 border border-indigo-400/35 shadow-[0_22px_55px_-30px_rgba(99,102,241,0.65)] flex flex-col items-center text-center transition-transform duration-300 hover:-translate-y-1 hover:shadow-[0_30px_70px_-32px_rgba(129,140,248,0.65)] min-h-[230px]",children:[e.jsxDEV("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-indigo-300/80 to-transparent pointer-events-none"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:145,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500 bg-[radial-gradient(circle_at_top,rgba(79,70,229,0.35),transparent_65%)] pointer-events-none"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:146,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-20 h-20 bg-gradient-to-br from-[#312e81]/35 via-[#1e1b4b]/20 to-transparent rounded-xl mb-3 flex items-center justify-center shadow-[0_0_25px_-8px_rgba(129,140,248,0.65)]",children:e.jsxDEV("img",{src:s,alt:m,className:"w-full h-full object-contain p-2 drop-shadow-[0_6px_12px_rgba(30,64,175,0.4)]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:148,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-lg font-semibold tracking-wide text-white drop-shadow-[0_2px_12px_rgba(99,102,241,0.55)]",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:150,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-slate-200/80 mt-2 leading-relaxed line-clamp-2",children:N},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:153,columnNumber:13},void 0),U>0&&e.jsxDEV("span",{className:"mt-2 inline-flex items-center gap-1.5 rounded-full border border-indigo-400/40 bg-indigo-500/10 px-2.5 py-0.5 text-[10px] tracking-wider text-indigo-200 uppercase",children:[S,"  ",M,"/",U]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:157,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col items-stretch justify-center gap-2 mt-3 w-full",children:e.jsxDEV(ae,{onClick:C,disabled:M===0,colorScheme:"none",className:`w-full justify-center rounded-xl border ${g?"border-amber-400/50 bg-gradient-to-r from-amber-400/90 via-amber-300/90 to-amber-500/90 text-slate-900 shadow-[0_12px_32px_-18px_rgba(251,191,36,0.85)] hover:from-amber-300 hover:to-amber-500":"border-sky-400/50 bg-gradient-to-r from-sky-400/90 via-blue-500/90 to-indigo-500/90 text-white shadow-[0_12px_32px_-18px_rgba(56,189,248,0.85)] hover:from-sky-300 hover:to-indigo-500"} ${M===0?"opacity-50 cursor-not-allowed":""}`,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm sm:text-base font-semibold tracking-wide",children:[h,e.jsxDEV("span",{children:f.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:170,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:168,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:162,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:161,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:144,columnNumber:9},void 0)},d5=({currentUser:o,onClose:a,onAction:c,isTopmost:m,initialTab:u})=>{const{currentUserWithStatus:p}=ot(),s=p||o;if(!s)return null;const[x,v]=b.useState(u||"equipment"),[g,f]=b.useState(null),[h,N]=b.useState(null);b.useEffect(()=>{if(g){const S=setTimeout(()=>f(null),3e3);return()=>clearTimeout(S)}},[g]);const y=S=>{N(S)},E=(S,M)=>{const C=h;if(C){if(S.startsWith("condition_potion_")){const w=S.replace("condition_potion_","");c({type:"BUY_CONDITION_POTION",payload:{potionType:w,quantity:M}})}else{const w=C.type==="equipment"?"BUY_SHOP_ITEM":"BUY_MATERIAL_BOX";c({type:w,payload:{itemId:S,quantity:M}})}f(" !  ."),N(null)}},j=()=>{c({type:"PURCHASE_ACTION_POINTS"}),f("  !")},U=()=>{const S=[{itemId:"equipment_box_1",name:"  I",description:"~   ",price:{gold:500},image:"/images/Box/EquipmentBox1.png",type:"equipment"},{itemId:"equipment_box_2",name:"  II",description:"~   ",price:{gold:1500},image:"/images/Box/EquipmentBox2.png",type:"equipment"},{itemId:"equipment_box_3",name:"  III",description:"~   ",price:{gold:5e3},image:"/images/Box/EquipmentBox3.png",type:"equipment"},{itemId:"equipment_box_4",name:"  IV",description:"~   ",price:{gold:1e4},image:"/images/Box/EquipmentBox4.png",type:"equipment"},{itemId:"equipment_box_5",name:"  V",description:"~   ",price:{diamonds:100},image:"/images/Box/EquipmentBox5.png",type:"equipment"},{itemId:"equipment_box_6",name:"  VI",description:"~   ",price:{diamonds:500},image:"/images/Box/EquipmentBox6.png",type:"equipment"}],M=[{itemId:"material_box_1",name:"  I",description:" ~   5 ",price:{gold:500},image:"/images/Box/ResourceBox1.png",dailyLimit:10,type:"material"},{itemId:"material_box_2",name:"  II",description:" ~   5 ",price:{gold:1e3},image:"/images/Box/ResourceBox2.png",dailyLimit:10,type:"material"},{itemId:"material_box_3",name:"  III",description:" ~   5 ",price:{gold:3e3},image:"/images/Box/ResourceBox3.png",dailyLimit:10,type:"material"},{itemId:"material_box_4",name:"  IV",description:" ~   5 ",price:{gold:5e3},image:"/images/Box/ResourceBox4.png",dailyLimit:10,type:"material"},{itemId:"material_box_5",name:"  V",description:" ~   5 ",price:{gold:1e4},image:"/images/Box/ResourceBox5.png",dailyLimit:10,type:"material"},{itemId:"material_box_6",name:"  VI",description:" ~   5 ",price:{diamonds:100},image:"/images/Box/ResourceBox6.png",dailyLimit:10,type:"material"}];switch(x){case"equipment":return e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:S.map(w=>e.jsxDEV(mx,{item:w,onBuy:y,currentUser:s},w.itemId,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:245,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:244,columnNumber:21},void 0);case"materials":return e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:M.map(w=>e.jsxDEV(mx,{item:w,onBuy:y,currentUser:s},w.itemId,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:251,columnNumber:52},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:250,columnNumber:21},void 0);case"misc":return e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:e.jsxDEV(u5,{currentUser:s,onBuy:j},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:257,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:256,columnNumber:21},void 0);case"consumables":default:const C=[{itemId:"condition_potion_small",name:"()",description:" 1~10 .",price:{gold:100},image:"/images/use/con1.png",dailyLimit:3,type:"consumable"},{itemId:"condition_potion_medium",name:"()",description:" 10~20 .",price:{gold:150},image:"/images/use/con2.png",dailyLimit:3,type:"consumable"},{itemId:"condition_potion_large",name:"()",description:" 20~30 .",price:{gold:200},image:"/images/use/con3.png",dailyLimit:3,type:"consumable"}];return e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:C.map(w=>e.jsxDEV(mx,{item:w,onBuy:y,currentUser:s},w.itemId,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:269,columnNumber:54},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:268,columnNumber:21},void 0)}};return e.jsxDEV(e.Fragment,{children:[h&&e.jsxDEV(c5,{item:h,currentUser:s,onClose:()=>N(null),onConfirm:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:278,columnNumber:17},void 0),e.jsxDEV(mn,{title:"",onClose:a,windowId:"shop",initialWidth:700,isTopmost:m&&!h,children:e.jsxDEV("div",{className:"h-[calc(var(--vh,1vh)*60)] flex flex-col relative",children:[e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-4 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>v("equipment"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${x==="equipment"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:288,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>v("materials"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${x==="materials"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:289,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>v("consumables"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${x==="consumables"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:290,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>v("misc"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${x==="misc"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:291,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:287,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2",children:U()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:294,columnNumber:21},void 0),g&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg animate-fade-in z-10",children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:299,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:286,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:285,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ShopModal.tsx",lineNumber:276,columnNumber:9},void 0)},Xi=[{id:"EI",question:"     ?",options:[{text:"    ",value:"E",goStyle:"     .        ."},{text:"     ",value:"I",goStyle:"     .     ,    ."}]},{id:"SN",question:"    ?",options:[{text:"     ",value:"S",goStyle:"     .    ,   ."},{text:"      ",value:"N",goStyle:"    .  ,       ."}]},{id:"TF",question:"      ?",options:[{text:"      ",value:"T",goStyle:"       .      ."},{text:"       ",value:"F",goStyle:"      .       ."}]},{id:"JP",question:"      ?",options:[{text:"      ",value:"J",goStyle:"      .      ,    ."},{text:"     ",value:"P",goStyle:"       .       ."}]}],f5={ISTJ:", , ",ISFJ:", , ",INFJ:", ,  ",INTJ:", , ",ISTP:", ,  ",ISFP:", , ",INFP:",  , ",INTP:" , , ",ESTP:", , ",ESFP:", , ",ENFP:",  , ",ENTP:", , ",ESTJ:", , ",ESFJ:", , ",ENFJ:", , ",ENTJ:", , "},hx=({onClose:o,isTopmost:a})=>{const{currentUser:c,handlers:m}=ot(),[u,p]=b.useState(!1),[s,x]=b.useState(0),[v,g]=b.useState({}),[f,h]=b.useState(!1),[N,y]=b.useState(null),[E,j]=b.useState(()=>!!(c!=null&&c.mbti)),U=b.useMemo(()=>!!(c!=null&&c.mbti),[c]);b.useEffect(()=>{c!=null&&c.mbti&&j(!0)},[c==null?void 0:c.mbti]);const S=()=>{p(!0),x(0),g({}),h(!1),y(null)},M=(O,V)=>{g($=>({...$,[O]:V}))},C=async()=>{if(s<Xi.length-1)x(O=>O+1);else{const O=w();y(O);const V=!U&&!E;await m.handleAction({type:"UPDATE_MBTI",payload:{mbti:O,isMbtiPublic:!0,isFirstTime:V}}),h(!0),V&&j(!0),console.log("MBTI set:",O,"MBTI reward processed.")}},w=()=>{let O="";return Xi.forEach(V=>{O+=v[V.id]||"?"}),O},R=Xi[s];return e.jsxDEV(mn,{title:"MBTI  ",onClose:o,windowId:"mbti-info",initialWidth:400,isTopmost:a,children:e.jsxDEV("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:[!u&&!U&&!E&&e.jsxDEV("div",{className:"text-center mb-4",children:[e.jsxDEV("p",{className:"text-lg font-bold text-white mb-2",children:"MBTI ?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:95,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 mb-4",children:"MBTI(Myers-Briggs Type Indicator)       .             ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:96,columnNumber:25},void 0),e.jsxDEV("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200",children:"MBTI "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:100,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-yellow-400 mt-2",children:"  100  !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:106,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:94,columnNumber:21},void 0),u&&!f&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-lg font-bold text-white",children:R.question},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:112,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2",children:R.options.map(O=>e.jsxDEV("button",{onClick:()=>M(R.id,O.value),className:`block w-full text-left p-3 rounded-md transition-colors duration-200
                                        ${v[R.id]===O.value?"bg-blue-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-200"}`,children:O.text},O.value,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:115,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:113,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-end mt-4",children:e.jsxDEV("button",{onClick:C,disabled:!v[R.id],className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s<Xi.length-1?"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:129,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:128,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:111,columnNumber:21},void 0),f&&N&&e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-yellow-300 mb-4",children:[" MBTI ",N," !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:142,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-lg text-green-400 mb-4",children:"100  !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:143,columnNumber:25},void 0),e.jsxDEV("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:144,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:141,columnNumber:21},void 0),!u&&(U||f)&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{className:"text-lg font-bold text-white mb-2",children:[" MBTI: ",c==null?void 0:c.mbti]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:155,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-center mb-4",children:e.jsxDEV("button",{onClick:S,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200",children:"MBTI  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:157,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:156,columnNumber:25},void 0),e.jsxDEV("ul",{className:"space-y-2 mt-4",children:Object.entries(f5).map(([O,V])=>e.jsxDEV("li",{className:"flex items-center gap-4 bg-gray-900/50 p-2 rounded-md",children:[e.jsxDEV("span",{className:"font-bold text-lg text-yellow-300 w-16",children:O},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:167,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-sm text-gray-300",children:V},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:168,columnNumber:37},void 0)]},O,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:166,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:164,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:92,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/MbtiInfoModal.tsx",lineNumber:91,columnNumber:9},void 0)},p5={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},b5=o=>{let a="",c="";if(o>=10)a="/images/equipments/Star4.png",c="prism-text-effect";else if(o>=7)a="/images/equipments/Star3.png",c="text-purple-400";else if(o>=4)a="/images/equipments/Star2.png",c="text-amber-400";else if(o>=1)a="/images/equipments/Star1.png",c="text-white";else return e.jsxDEV("img",{src:"/images/equipments/Star1.png",alt:"star",className:"w-4 h-4 inline-block opacity-30",title:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:85,columnNumber:16},void 0);return e.jsxDEV("span",{className:"flex items-center gap-0.5",style:{textShadow:"1px 1px 2px black, 0 0 5px black"},children:[e.jsxDEV("img",{src:a,alt:"star",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("span",{className:`font-bold ${c}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:90,columnNumber:9},void 0)},Ii=({slot:o,item:a,onClick:c})=>{const m=a&&c?"cursor-pointer hover:scale-105 transition-transform":"";return a?e.jsxDEV("div",{className:`relative w-full aspect-square rounded-lg border-2 border-gray-700/50 bg-gray-900/50 ${m}`,title:a.name,onClick:c,children:[e.jsxDEV("img",{src:p5[a.grade],alt:a.grade,className:"absolute inset-0 w-full h-full object-cover rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:107,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute top-1 right-1 text-sm font-bold z-10",children:b5(a.stars)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:108,columnNumber:17},void 0),a.image&&e.jsxDEV("img",{src:a.image,alt:a.name,className:"relative w-full h-full object-contain p-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:111,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:102,columnNumber:13},void 0):e.jsxDEV("img",{src:wm[o],alt:`${o} empty slot`,className:"w-full aspect-square rounded-lg bg-gray-900/50 border-2 border-gray-700/50"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:116,columnNumber:14},void 0)},_d=({user:o,type:a,isMobile:c=!1})=>{const m=a==="strategic"?st:dt,u=o.stats||{};let p=0,s=0;const x=m.map(N=>{const y=u[N.mode];return y?(p+=y.wins,s+=y.losses,{mode:N.mode,...y}):{mode:N.mode,wins:0,losses:0,rankingScore:1200}}),v=p+s,g=v>0?Math.round(p/v*100):0,f=c?"text-sm":"text-xs",h=c?"space-y-2":"space-y-1";return e.jsxDEV("div",{className:`${h} ${f}`,children:[e.jsxDEV("div",{className:`bg-gray-700/50 ${c?"px-2 py-1.5":"px-1.5 py-1"} rounded-md text-center`,children:e.jsxDEV("span",{className:"font-bold text-gray-100",children:[" : ",p," ",s," (",g,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:153,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:152,columnNumber:13},void 0),e.jsxDEV("div",{className:c?"space-y-1.5":"space-y-1",children:x.map(N=>{const y=N.wins+N.losses,E=y>0?Math.round(N.wins/y*100):0;return e.jsxDEV("div",{className:`bg-gray-900/40 rounded ${c?"px-2 py-1":"px-1.5 py-0.5"} flex items-center justify-between ${c?"gap-2":"gap-1.5"}`,children:[e.jsxDEV("span",{className:"font-semibold text-gray-200 truncate",children:N.mode},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:161,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-right text-gray-300 whitespace-nowrap",children:[N.wins," ",N.losses," (",E,"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:162,columnNumber:29},void 0)]},N.mode,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:160,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:151,columnNumber:9},void 0)},N5=({user:o,onClose:a,onViewItem:c,isTopmost:m})=>{const{inventory:u,stats:p,nickname:s,avatarId:x,borderId:v,equipment:g}=o,[f,h]=b.useState(!1),{allUsers:N}=ot(),y=b.useMemo(()=>{var H;return(H=Jn.find(Q=>Q.id===x))==null?void 0:H.url},[x]),E=b.useMemo(()=>{var H;return(H=Zn.find(Q=>Q.id===v))==null?void 0:H.url},[v]),j=b.useMemo(()=>jr.find(H=>H.tier===o.league),[o.league]),U=b.useMemo(()=>{var ne;if(!N||N.length===0)return null;const H=[...N].filter(le=>le&&le.id&&typeof le.cumulativeTournamentScore=="number").sort((le,L)=>{const ue=le.cumulativeTournamentScore||0,pe=L.cumulativeTournamentScore||0;return pe!==ue?pe-ue:le.id.localeCompare(L.id)});let Q=1,Z=((ne=H[0])==null?void 0:ne.cumulativeTournamentScore)??0;for(let le=0;le<H.length;le++){const L=H[le].cumulativeTournamentScore||0;if(L<Z&&(Q=le+1),H[le].id===o.id)return Q;Z=L}return null},[N,o.id]);b.useMemo(()=>{const H=[],Q=g||{},Z=u||[];for(const[ne,le]of Object.entries(Q)){const L=Z.find(ue=>ue.id===le&&ue.slot===ne);L&&H.push(L)}return H},[u,g]);const S=H=>{const Q=g==null?void 0:g[H];if(Q)return(u||[]).find(Z=>Z.id===Q&&Z.slot===H)},M=fS(o),C=Mx(M),w=pS(M),R=Pa(o),O=900,V=768,[$,z]=b.useState(window.innerWidth);b.useEffect(()=>{const H=()=>z(window.innerWidth);return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const P=$<V,G=P?Math.max(.4,Math.min(1,($-24)/O)):1,q=O,B=800*G,X=P?$-8:q;return e.jsxDEV(mn,{title:`${o.nickname} `,onClose:a,windowId:`view-user-${o.id}`,initialWidth:P?X:q,initialHeight:P?B:800,isTopmost:m,children:[f&&e.jsxDEV(hx,{onClose:()=>h(!1),isTopmost:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:261,columnNumber:30},void 0),P?e.jsxDEV("div",{className:"flex justify-center items-start",style:{width:"100%",height:`${B}px`,overflow:"visible",padding:"0 10px"},children:e.jsxDEV("div",{className:"flex flex-row gap-4 flex-nowrap",style:{width:`${q}px`,height:"800px",transform:`scale(${G})`,transformOrigin:"top center",flexShrink:0},children:[e.jsxDEV("div",{className:"flex flex-col gap-3",style:{width:"300px",flexShrink:0,height:"100%"},children:[e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-4 flex flex-col items-center text-center flex-shrink-0",children:[e.jsxDEV(_n,{userId:o.id,userName:s,size:80,avatarUrl:y,borderUrl:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:288,columnNumber:25},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold mt-2",children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:289,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-base text-gray-400 mt-1",children:[e.jsxDEV("span",{children:": "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:291,columnNumber:29},void 0),e.jsxDEV("span",{className:`font-semibold ${C.color}`,children:[M," (",C.rank,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:292,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:290,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-base text-gray-400 mt-1",children:[e.jsxDEV("span",{children:"MBTI:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:295,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold text-gray-200 flex items-center gap-1",children:[o.mbti?o.mbti:"",!o.mbti&&e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:299,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:296,columnNumber:29},void 0),o.mbti&&e.jsxDEV("button",{onClick:()=>h(!0),className:"w-5 h-5 text-sm bg-gray-600 rounded-full text-white flex items-center justify-center hover:bg-gray-500",children:"?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:303,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:294,columnNumber:26},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-2 border border-gray-900",children:e.jsxDEV("div",{className:`${w.colorClass} h-full rounded-full`,style:{width:`${w.percentage}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:307,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:306,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:287,columnNumber:21},void 0),j&&e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-4 flex flex-col items-center text-center flex-shrink-0",children:[e.jsxDEV("img",{src:j.icon,alt:j.name,className:"w-16 h-16"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:313,columnNumber:30},void 0),e.jsxDEV("h3",{className:"text-xl font-bold text-purple-300 mt-1",children:j.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:314,columnNumber:30},void 0),e.jsxDEV("p",{className:"text-base text-gray-300 mt-1",children:[" : ",(o.cumulativeTournamentScore||0).toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:315,columnNumber:30},void 0),U!==null&&e.jsxDEV("p",{className:"text-base text-yellow-300 mt-1",children:[" : ",U,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:317,columnNumber:34},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:312,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex-1 flex flex-col min-h-0",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 w-full max-w-[240px] mx-auto mb-3 flex-shrink-0",children:[e.jsxDEV(Ii,{slot:"fan",item:S("fan"),onClick:()=>S("fan")&&c(S("fan"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:324,columnNumber:29},void 0),e.jsxDEV(Ii,{slot:"board",item:S("board"),onClick:()=>S("board")&&c(S("board"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV(Ii,{slot:"top",item:S("top"),onClick:()=>S("top")&&c(S("top"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:326,columnNumber:29},void 0),e.jsxDEV(Ii,{slot:"bottom",item:S("bottom"),onClick:()=>S("bottom")&&c(S("bottom"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:327,columnNumber:29},void 0),e.jsxDEV(Ii,{slot:"bowl",item:S("bowl"),onClick:()=>S("bowl")&&c(S("bowl"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:328,columnNumber:29},void 0),e.jsxDEV(Ii,{slot:"stones",item:S("stones"),onClick:()=>S("stones")&&c(S("stones"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:329,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:323,columnNumber:25},void 0),e.jsxDEV("div",{className:"border-t border-gray-700 pt-3 flex-1 flex flex-col min-h-0",children:e.jsxDEV("div",{className:"space-y-1 bg-gray-900/50 p-2 rounded-lg text-base flex-1 overflow-y-auto",children:Object.entries(R).map(([H,Q])=>{var Z;return e.jsxDEV("div",{className:"flex items-center justify-between text-gray-200",children:[e.jsxDEV("span",{children:((Z=px[H])==null?void 0:Z.name)||H},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:335,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono text-right text-gray-100",children:Q},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:336,columnNumber:41},void 0)]},H,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:334,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:332,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:331,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:322,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:283,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3",style:{width:"560px",flexShrink:0,height:"100%"},children:[e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col",style:{flex:"1 1 0",minHeight:0},children:[e.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-400 text-base flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:347,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 pr-1 overflow-y-auto min-h-0",children:e.jsxDEV(_d,{user:o,type:"strategic",isMobile:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:349,columnNumber:28},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:348,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:346,columnNumber:22},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col",style:{flex:"1 1 0",minHeight:0},children:[e.jsxDEV("h4",{className:"font-semibold mb-2 text-yellow-400 text-base flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:353,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 pr-1 overflow-y-auto min-h-0",children:e.jsxDEV(_d,{user:o,type:"playful",isMobile:!0},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:355,columnNumber:28},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:354,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:352,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:345,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:272,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:263,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-3 h-full",children:[e.jsxDEV("div",{className:"w-full md:w-1/3 flex-shrink-0 flex flex-col gap-3",children:[e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col items-center text-center",children:[e.jsxDEV(_n,{userId:o.id,userName:s,size:60,avatarUrl:y,borderUrl:E},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:366,columnNumber:29},void 0),e.jsxDEV("h2",{className:"text-lg font-bold mt-1.5",children:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:367,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 mt-0.5",children:[e.jsxDEV("span",{children:": "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:369,columnNumber:33},void 0),e.jsxDEV("span",{className:`font-semibold ${C.color}`,children:[M," (",C.rank,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:370,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:368,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 mt-0.5",children:[e.jsxDEV("span",{children:"MBTI:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:373,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-semibold text-gray-200 flex items-center gap-1",children:[o.mbti?o.mbti:"",!o.mbti&&e.jsxDEV("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:377,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:374,columnNumber:33},void 0),o.mbti&&e.jsxDEV("button",{onClick:()=>h(!0),className:"w-3.5 h-3.5 text-[10px] bg-gray-600 rounded-full text-white flex items-center justify-center hover:bg-gray-500",children:"?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:381,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:372,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-1.5 border border-gray-900",children:e.jsxDEV("div",{className:`${w.colorClass} h-full rounded-full`,style:{width:`${w.percentage}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:385,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:384,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:365,columnNumber:25},void 0),j&&e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col items-center text-center",children:[e.jsxDEV("img",{src:j.icon,alt:j.name,className:"w-12 h-12"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:391,columnNumber:33},void 0),e.jsxDEV("h3",{className:"font-bold text-purple-300 mt-0.5 text-sm",children:j.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:392,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs text-gray-300 mt-0.5",children:[" : ",(o.cumulativeTournamentScore||0).toLocaleString()," "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:393,columnNumber:33},void 0),U!==null&&e.jsxDEV("p",{className:"text-xs text-yellow-300 mt-0.5",children:[" : ",U,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:395,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:390,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 w-full max-w-xs mx-auto mb-3",children:[e.jsxDEV(Ii,{slot:"fan",item:S("fan"),onClick:()=>S("fan")&&c(S("fan"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:402,columnNumber:33},void 0),e.jsxDEV(Ii,{slot:"board",item:S("board"),onClick:()=>S("board")&&c(S("board"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:403,columnNumber:33},void 0),e.jsxDEV(Ii,{slot:"top",item:S("top"),onClick:()=>S("top")&&c(S("top"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:404,columnNumber:33},void 0),e.jsxDEV(Ii,{slot:"bottom",item:S("bottom"),onClick:()=>S("bottom")&&c(S("bottom"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:405,columnNumber:33},void 0),e.jsxDEV(Ii,{slot:"bowl",item:S("bowl"),onClick:()=>S("bowl")&&c(S("bowl"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:406,columnNumber:33},void 0),e.jsxDEV(Ii,{slot:"stones",item:S("stones"),onClick:()=>S("stones")&&c(S("stones"),!1)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:407,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:401,columnNumber:29},void 0),e.jsxDEV("div",{className:"border-t border-gray-700 pt-3",children:e.jsxDEV("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 text-xs bg-gray-900/50 p-1.5 rounded-lg justify-between",children:Object.entries(R).map(([H,Q])=>{var Z;return e.jsxDEV("div",{className:"flex items-center gap-1.5 min-w-[100px]",children:[e.jsxDEV("span",{className:"font-semibold text-gray-300",children:[((Z=px[H])==null?void 0:Z.name)||H,":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:413,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono text-right",children:Q},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:414,columnNumber:45},void 0)]},H,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:412,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:410,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:409,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:400,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:364,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full md:w-2/3 flex flex-col gap-3 min-h-0",children:[e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col flex-1 min-h-0",children:[e.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-400 text-xs flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:425,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 pr-2 min-h-0",children:e.jsxDEV(_d,{user:o,type:"strategic"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:427,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:426,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:424,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col flex-1 min-h-0",children:[e.jsxDEV("h4",{className:"font-semibold mb-2 text-yellow-400 text-xs flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:431,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 pr-2 min-h-0",children:e.jsxDEV(_d,{user:o,type:"playful"},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:433,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:432,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:430,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:423,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:362,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/UserProfileModal.tsx",lineNumber:260,columnNumber:9},void 0)},x5=({onClose:o,isTopmost:a})=>{const[c,m]=b.useState("game"),u=[{id:"game",label:""},{id:"level",label:""},{id:"ranking",label:""},{id:"equipment",label:""},{id:"manner",label:""}],p=()=>{switch(c){case"game":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-blue-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:29,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:" ,        .     .      '?'     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:30,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:28,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:33,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:" ,       .     .      '?'     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:34,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:32,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-purple-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:37,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"AI    .        ,      .       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:38,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:36,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:27,columnNumber:21},void 0);case"level":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-200",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:46,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"/     (XP) .  100%   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:47,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:45,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-green-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:50,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"       2    .   ' '   6   ,     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:51,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:49,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:44,columnNumber:21},void 0);case"ranking":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-200",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"     ,    .     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:58,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-purple-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:63,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-1 pl-2",children:[e.jsxDEV("li",{children:" 3   (1, 2, 3, 4)."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:65,columnNumber:33},void 0),e.jsxDEV("li",{children:["     ",e.jsxDEV("strong",{className:"text-yellow-300",children:" 20"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:66,columnNumber:53},void 0),"        . ( )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:66,columnNumber:33},void 0),e.jsxDEV("li",{children:"20       ''  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:67,columnNumber:33},void 0),e.jsxDEV("li",{children:"  ,             ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:68,columnNumber:33},void 0),e.jsxDEV("li",{children:"      (/)   ,  20   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:69,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:64,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:62,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:57,columnNumber:21},void 0);case"equipment":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-200",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:78,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:", ,   6        .  , , , , ,   .      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:79,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:77,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-cyan-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:82,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"    ()  5   .      ,        ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:83,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:81,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-orange-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:86,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"          .   ''  2    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:87,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:76,columnNumber:22},void 0);case"manner":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-200",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:95,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm",children:"      . ''  ,       ( ,   )   .     ,      .         ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:96,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:94,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-200",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:99,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-2 pl-2",children:[e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-purple-400 font-semibold",children:" (2000 ):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:101,columnNumber:37},void 0),"   +10"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:101,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-blue-400 font-semibold",children:" (1600 ~ 1999):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:102,columnNumber:37},void 0),"      +20%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:102,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-cyan-400 font-semibold",children:" (1200 ~ 1599):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:103,columnNumber:37},void 0),"        +20%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:103,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-teal-400 font-semibold",children:"  (800 ~ 1199):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:104,columnNumber:37},void 0),"      +20%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:104,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-green-400 font-semibold",children:" (400 ~ 799):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:105,columnNumber:37},void 0),"   +10"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:105,columnNumber:33},void 0),e.jsxDEV("li",{className:"border-t border-gray-600 pt-2",children:[e.jsxDEV("span",{className:"text-gray-300 font-semibold",children:" (200 ~ 399):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:106,columnNumber:79},void 0),"  "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:106,columnNumber:33},void 0),e.jsxDEV("li",{className:"border-t border-gray-600 pt-2",children:[e.jsxDEV("span",{className:"text-yellow-400 font-semibold",children:" (100 ~ 199):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:107,columnNumber:79},void 0),"      50% "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:107,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-orange-400 font-semibold",children:" (50 ~ 99):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:108,columnNumber:37},void 0),"    50% "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:108,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-red-500 font-semibold",children:"  (1 ~ 49):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:109,columnNumber:37},void 0),"     (20 1 )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:109,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("span",{className:"text-red-700 font-semibold",children:" (0):"},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:110,columnNumber:37},void 0),"   20 "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:110,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:100,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:98,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:93,columnNumber:21},void 0);default:return null}};return e.jsxDEV(mn,{title:"",onClose:o,windowId:"info-modal",initialWidth:600,isTopmost:a,children:e.jsxDEV("div",{className:"h-[calc(var(--vh,1vh)*60)] flex flex-col",children:[e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-4 flex-shrink-0",children:u.map(s=>e.jsxDEV("button",{onClick:()=>m(s.id),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${c===s.id?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:s.label},s.id,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:125,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:123,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2 bg-gray-900/30 p-4 rounded-md",children:p()},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/InfoModal.tsx",lineNumber:121,columnNumber:9},void 0)},SS=({isOpen:o=!0,onClose:a,result:c,isTopmost:m})=>c?e.jsxDEV(mn,{title:" ",onClose:a,windowId:"disassemblyResult",isTopmost:!0,zIndex:60,children:e.jsxDEV("div",{className:"p-4 text-on-panel flex flex-col items-center",children:[e.jsxDEV("h3",{className:"text-xl font-bold mb-4",children:"  !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:24,columnNumber:17},void 0),c.jackpot&&e.jsxDEV("div",{className:"text-center mb-4",children:[e.jsxDEV("p",{className:"text-yellow-400 text-2xl font-bold animate-pulse",children:"!"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:28,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-lg text-green-400",children:"   2 !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:29,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:27,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full max-h-60 overflow-y-auto bg-gray-800/50 p-3 rounded-lg mb-4",children:[e.jsxDEV("p",{className:"font-semibold text-secondary mb-2",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:34,columnNumber:21},void 0),c.gained.length>0?c.gained.map((u,p)=>{const s=ui[u.name];return e.jsxDEV("div",{className:"flex items-center justify-between text-sm py-1 border-b border-gray-700 last:border-b-0",children:[e.jsxDEV("span",{className:"flex items-center gap-2",children:[(s==null?void 0:s.image)&&e.jsxDEV("img",{src:s.image,alt:u.name,className:"w-6 h-6"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:41,columnNumber:61},void 0),u.name]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:40,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-mono text-primary",children:["x ",u.amount.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:44,columnNumber:37},void 0)]},p,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:39,columnNumber:33},void 0)}):e.jsxDEV("p",{className:"text-sm text-tertiary",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:49,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:33,columnNumber:17},void 0),c.xpGained!==void 0&&c.xpGained>0&&e.jsxDEV("div",{className:"w-full max-w-xs bg-gray-800/50 p-3 rounded-lg mb-4 text-center",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:" ",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:57,columnNumber:33},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:56,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-orange-400",children:["+",c.xpGained.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:55,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:54,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:a,colorScheme:"blue",className:"w-full max-w-xs",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:23,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/DisassemblyResultModal.tsx",lineNumber:22,columnNumber:9},void 0):null,g5=({currentUser:o,onClose:a,onAction:c,isTopmost:m})=>{const[u,p]=b.useState(!0),[s,x]=b.useState(()=>o.spentStatPoints&&Object.keys(o.spentStatPoints).length>0?o.spentStatPoints:{[_.Concentration]:0,[_.ThinkingSpeed]:0,[_.Judgment]:0,[_.Calculation]:0,[_.CombatPower]:0,[_.Stability]:0}),v=1e3,g=2,f=new Date().toDateString(),h=o.lastStatResetDate,N=o.statResetCountToday||0,y=b.useMemo(()=>!(o.gold<v||h===f&&N>=g),[o.diamonds,h,N,f]),E=(o.strategyLevel-1)*2+(o.playfulLevel-1)*2,j=o.bonusStatPoints||0,U=E+j,S=b.useMemo(()=>Object.values(s).reduce((z,P)=>z+P,0),[s]),M=b.useMemo(()=>u?U-S:0,[u,U,S]),C=(z,P)=>{const G=Number(P)||0;x(q=>{const B=Object.entries(q).filter(([Q])=>Q!==z).reduce((Q,[,Z])=>Q+Z,0),X=U-B,H=Math.max(0,Math.min(G,X));return{...q,[z]:H}})},w=()=>{if(!y){alert("    .      .");return}window.confirm(` ${v}     ? ( ${g-N} )`)&&(c({type:"RESET_STAT_POINTS"}),x({[_.Concentration]:0,[_.ThinkingSpeed]:0,[_.Judgment]:0,[_.Calculation]:0,[_.CombatPower]:0,[_.Stability]:0}),p(!0))},R=b.useMemo(()=>o.spentStatPoints?Object.values(_).some(z=>s[z]!==o.spentStatPoints[z]):S>0,[s,o.spentStatPoints,S]),O=()=>{c({type:"CONFIRM_STAT_ALLOCATION",payload:{newStatPoints:s}}),a()},V=b.useMemo(()=>{const z={};for(const P of Object.values(_))z[P]=(o.baseStats[P]||0)+(s[P]||0);return z},[o.baseStats,s]),$=b.useMemo(()=>[{stats:V,color:"#60a5fa",fill:"rgba(59, 130, 246, 0.4)"}],[V]);return e.jsxDEV(mn,{title:"  ",onClose:a,windowId:"stat-allocation",initialWidth:700,isTopmost:m,children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(var(--vh,1vh)*70)]",children:[e.jsxDEV("div",{className:"w-full md:w-1/2 flex flex-col items-center justify-center bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-4",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:117,columnNumber:21},void 0),e.jsxDEV(vS,{datasets:$,maxStatValue:300},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:118,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:116,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full md:w-1/2 flex flex-col",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg mb-4 text-center",children:[e.jsxDEV("p",{className:"text-gray-300",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:122,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-3xl font-bold text-green-400",children:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:123,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:121,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow space-y-2 overflow-y-auto pr-2",children:Object.values(_).map(z=>{const P=s[z]||0,G=P+M;return e.jsxDEV("div",{className:"bg-gray-900/40 p-2 md:p-3 rounded-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-1",children:[e.jsxDEV("span",{className:"font-bold text-gray-200 text-sm md:text-base",children:z},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:133,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-lg",title:`: ${o.baseStats[z]}, : ${P}`,children:V[z]},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:134,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:132,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"range",min:"0",max:G,value:P,onChange:q=>C(z,q.target.value),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",disabled:!u},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:139,columnNumber:41},void 0),e.jsxDEV("input",{type:"number",value:P,onChange:q=>C(z,q.target.value),className:"w-16 bg-gray-700 border border-gray-600 rounded-md p-1 text-center",disabled:!u},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:148,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:138,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:px[z].description},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:156,columnNumber:37},void 0)]},z,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:131,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:125,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between mt-4 pt-4 border-t border-gray-700",children:[e.jsxDEV("div",{className:"flex flex-col items-start",children:[e.jsxDEV(ae,{onClick:w,colorScheme:"red",disabled:!y,children:[" (",e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-4 h-4 inline-block"},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:163,columnNumber:103},void 0),v,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:163,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:[" : ",g-N,"/",g]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:164,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:162,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(ae,{onClick:a,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:167,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:O,colorScheme:"green",disabled:!u||!R,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:168,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:166,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:161,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:120,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/StatAllocationModal.tsx",lineNumber:114,columnNumber:9},void 0)},h5={normal:{name:"",color:"text-gray-300",background:"/images/equipments/normalbgi.png"},uncommon:{name:"",color:"text-green-400",background:"/images/equipments/uncommonbgi.png"},rare:{name:"",color:"text-blue-400",background:"/images/equipments/rarebgi.png"},epic:{name:"",color:"text-purple-400",background:"/images/equipments/epicbgi.png"},legendary:{name:"",color:"text-red-500",background:"/images/equipments/legendarybgi.png"},mythic:{name:"",color:"text-orange-400",background:"/images/equipments/mythicbgi.png"}},v5=o=>{if(o===0)return null;let a="",c="";return o>=10?(a="/images/equipments/Star4.png",c="prism-text-effect"):o>=7?(a="/images/equipments/Star3.png",c="text-purple-400"):o>=4?(a="/images/equipments/Star2.png",c="text-amber-400"):o>=1&&(a="/images/equipments/Star1.png",c="text-white"),e.jsxDEV("div",{className:"absolute top-0.5 left-0.5 flex items-center gap-0.5 bg-black/40 rounded-br-md px-1 py-0.5 z-10",style:{textShadow:"1px 1px 2px black"},children:[e.jsxDEV("img",{src:a,alt:"star",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:48,columnNumber:13},void 0),e.jsxDEV("span",{className:`font-bold text-xs leading-none ${c}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:49,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:47,columnNumber:9},void 0)},y5=({item:o,isOwnedByCurrentUser:a,onClose:c,onStartEnhance:m,isTopmost:u})=>{var f,h,N,y;const{currentUserWithStatus:p}=ot(),s=h5[o.grade],x=hl[o.grade],g=((p==null?void 0:p.strategyLevel)||0)+((p==null?void 0:p.playfulLevel)||0)>=x;return e.jsxDEV(mn,{title:"  ",onClose:c,windowId:`item-detail-${o.id}`,initialWidth:350,isTopmost:u,children:e.jsxDEV("div",{className:"flex flex-col h-full",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"relative w-24 h-24 rounded-lg flex-shrink-0",children:[e.jsxDEV("img",{src:s.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:69,columnNumber:25},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-2"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:70,columnNumber:40},void 0),v5(o.stars)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:68,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow text-right ml-4",children:[e.jsxDEV("div",{className:"flex items-baseline justify-end gap-1",children:e.jsxDEV("h3",{className:`text-xl font-bold ${s.color}`,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:76,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:75,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-gray-400 text-sm",children:["[",s.name,"]"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:78,columnNumber:25},void 0),e.jsxDEV("p",{className:`text-xs ${g?"text-gray-500":"text-red-500"}`,children:["(: ",x,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:79,columnNumber:25},void 0),((f=o.options)==null?void 0:f.main)&&e.jsxDEV("p",{className:"font-semibold text-yellow-300 text-sm",children:o.options.main.display},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:81,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:74,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:66,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full text-sm text-left space-y-2 bg-gray-900/50 p-3 rounded-lg flex-grow overflow-y-auto",children:[((h=o.options)==null?void 0:h.combatSubs)&&o.options.combatSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.combatSubs.map((E,j)=>e.jsxDEV("p",{className:"text-blue-300",children:E.display},j,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:91,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:89,columnNumber:25},void 0),((N=o.options)==null?void 0:N.specialSubs)&&o.options.specialSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.specialSubs.map((E,j)=>e.jsxDEV("p",{className:"text-green-300",children:E.display},j,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:98,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:96,columnNumber:25},void 0),((y=o.options)==null?void 0:y.mythicSubs)&&o.options.mythicSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.mythicSubs.map((E,j)=>e.jsxDEV("p",{className:"text-red-400",children:E.display},j,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:105,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:103,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:87,columnNumber:17},void 0),a&&o.type==="equipment"&&e.jsxDEV("div",{className:"w-full mt-6 pt-4 border-t border-gray-700",children:e.jsxDEV(ae,{onClick:()=>m(o),disabled:o.stars>=10,colorScheme:"yellow",className:"w-full",children:o.stars>=10?" ":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:113,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:112,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:64,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemDetailModal.tsx",lineNumber:63,columnNumber:9},void 0)},ux={E:{name:" (E)",general:" .       .",goStyle:"     .        ."},I:{name:" (I)",general:" ,    .         .",goStyle:"     .     ,    ."},S:{name:" (S)",general:" ,    .     .",goStyle:"     .    ,   ."},N:{name:" (N)",general:"  .   ,     .",goStyle:"    .  ,       ."},T:{name:" (T)",general:" ,     .    .",goStyle:"       .      ."},F:{name:" (F)",general:"     .     ,   .",goStyle:"      .       ."},J:{name:" (J)",general:" ,     .       .",goStyle:"      .      ,    ."},P:{name:" (P)",general:"   ,    .     .",goStyle:"       .       ."}},D5=({currentUser:o,onClose:a,onAction:c,isTopmost:m})=>{const{handlers:u}=ot(),[p,s]=b.useState("border"),[x,v]=b.useState(o.avatarId),[g,f]=b.useState(o.borderId),[h,N]=b.useState(o.nickname);to.useEffect(()=>{v(o.avatarId),f(o.borderId),N(o.nickname)},[o.avatarId,o.borderId,o.nickname]);const y=Q=>Q&&Q.length===4?{ei:Q[0],sn:Q[1],tf:Q[2],jp:Q[3]}:{ei:"E",sn:"S",tf:"T",jp:"J"},[E,j]=b.useState(y(o.mbti)),[U,S]=b.useState(!1),[M,C]=b.useState(0),[w,R]=b.useState({}),O=!!o.mbti;to.useEffect(()=>{p!=="mbti"&&(S(!1),C(0),R({}))},[p]),to.useEffect(()=>{j(y(o.mbti))},[o.mbti]);const V=150,$=o.diamonds>=V,z=b.useMemo(()=>{var Q;return(Q=Jn.find(Z=>Z.id===o.avatarId))==null?void 0:Q.url},[o.avatarId]),P=()=>{switch(p){case"avatar":x!==o.avatarId&&c({type:"UPDATE_AVATAR",payload:{avatarId:x}});break;case"border":g!==o.borderId&&c({type:"UPDATE_BORDER",payload:{borderId:g}});break;case"nickname":if(h!==o.nickname){if(Am(h)){alert("    .");return}window.confirm(` ${V}   '${h}'() ?`)&&c({type:"CHANGE_NICKNAME",payload:{newNickname:h}})}break;case"mbti":if(U)if(M<Xi.length-1){C(Q=>Q+1);return}else{const Q=G();Q&&(c({type:"UPDATE_MBTI",payload:{mbti:Q,isMbtiPublic:!0,isFirstTime:!O}}),S(!1),C(0),R({}))}else{const Q=`${E.ei}${E.sn}${E.tf}${E.jp}`;c({type:"UPDATE_MBTI",payload:{mbti:Q,isMbtiPublic:!0,isFirstTime:!1}})}break}},G=b.useCallback(()=>{let Q="";for(const Z of Xi){const ne=w[Z.id];if(!ne)return null;Q+=ne}return Q},[w]),q=b.useMemo(()=>{switch(p){case"avatar":return x===o.avatarId;case"border":return g===o.borderId;case"nickname":return h===o.nickname||!$||h.trim().length<2||h.trim().length>12;case"mbti":if(U){const Q=Xi[M];return!w[Q.id]}else return`${E.ei}${E.sn}${E.tf}${E.jp}`===(o.mbti||"");default:return!0}},[p,x,g,h,o,$,E,U,M,w]),B=b.useMemo(()=>{const Q=ne=>Ty.some(le=>le.id===ne.id),Z={:[],:[],:[],:[]};return Zn.forEach(ne=>{ne.unlockTier?Z..push(ne):ne.requiredLevelSum?Z..push(ne):Q(ne)?Z..push(ne):Z..push(ne)}),Z},[]),X=()=>{switch(p){case"avatar":return e.jsxDEV("div",{className:"flex flex-wrap justify-center gap-4",children:Jn.map(Q=>{const Z=Q.type==="any"||Q.type==="strategy"&&o.strategyLevel>=Q.requiredLevel||Q.type==="playful"&&o.playfulLevel>=Q.requiredLevel;return e.jsxDEV("div",{onClick:()=>Z&&v(Q.id),className:`relative p-2 rounded-lg border-2 ${x===Q.id?"border-blue-500 ring-2 ring-blue-500":"border-gray-700"} ${Z?"cursor-pointer hover:bg-gray-700/50":"opacity-50 cursor-not-allowed"}`,children:[e.jsxDEV(_n,{userId:"preview",userName:Q.name,avatarUrl:Q.url,size:80},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:218,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-center mt-1",children:Q.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:219,columnNumber:37},void 0),!Z&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-center text-xs p-1 rounded-full",children:[e.jsxDEV("span",{className:"font-bold",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:222,columnNumber:45},void 0),e.jsxDEV("span",{children:[Q.type==="strategy"?"":""," Lv.",Q.requiredLevel]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:223,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:221,columnNumber:41},void 0)]},Q.id,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:217,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:210,columnNumber:21},void 0);case"border":{const{ownedBorders:Q,strategyLevel:Z,playfulLevel:ne,previousSeasonTier:le}=o,L=Z+ne,ue=mi.map(pe=>pe.name);return e.jsxDEV("div",{className:"space-y-6",children:Object.keys(B).map(pe=>{const ie=B[pe];return ie.length===0?null:e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-300 mb-3 border-b border-gray-700 pb-2",children:pe},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:244,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex flex-wrap justify-start gap-4",children:ie.map(fe=>{var Je,K;const W=(Q==null?void 0:Q.includes(fe.id))||fe.id==="default"||fe.id==="simple_black";let Pe=!1,me=fe.description;if(fe.unlockTier){if(me=`  ${fe.unlockTier}  `,le){const J=ue.indexOf(fe.unlockTier),ke=ue.indexOf(le);J!==-1&&ke!==-1&&ke<=J&&(Pe=!0)}}else fe.requiredLevelSum&&(me=`  ${fe.requiredLevelSum} `,L>=fe.requiredLevelSum&&(Pe=!0));const de=W||Pe,Ge=Ty.find(J=>J.id===fe.id),ve=Ge&&!W,an=()=>{var J;if(de)f(fe.id);else if(ve){const ke=Ge.price.gold?`${Ge.price.gold.toLocaleString()} `:`${(J=Ge.price.diamonds)==null?void 0:J.toLocaleString()} `;window.confirm(`'${fe.name}'  ${ke} ?`)&&c({type:"BUY_BORDER",payload:{borderId:fe.id}})}},De=de||ve?"cursor-pointer":"cursor-not-allowed",We=!de&&!ve?"opacity-50":"",Ie=de?fe.description:ve?` : ${fe.description}`:me;return e.jsxDEV("div",{onClick:an,className:`relative flex flex-col items-center gap-1 p-1 rounded-lg ${De}`,title:Ie,children:[e.jsxDEV("div",{className:`p-1 rounded-full relative ${g===fe.id?"border-2 border-blue-500 ring-2 ring-blue-500":"border-2 border-transparent"}`,children:[e.jsxDEV("div",{className:We,children:e.jsxDEV(_n,{userId:"preview",userName:fe.name,avatarUrl:z,borderUrl:fe.url,size:80},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:291,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:290,columnNumber:57},void 0),!de&&!ve&&e.jsxDEV("div",{className:"absolute top-1 right-1 bg-gray-900/80 rounded-full p-1",children:e.jsxDEV("span",{className:"text-base",role:"img","aria-label":"Locked",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:295,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:294,columnNumber:61},void 0),ve&&e.jsxDEV("div",{className:"absolute bottom-0 inset-x-0 bg-black/70 rounded-b-md text-xs py-0.5 text-center flex items-center justify-center gap-1",children:[Ge.price.gold?e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:300,columnNumber:88},void 0):e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:300,columnNumber:155},void 0),e.jsxDEV("span",{children:((Je=Ge.price.gold)==null?void 0:Je.toLocaleString())||((K=Ge.price.diamonds)==null?void 0:K.toLocaleString())},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:301,columnNumber:65},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:299,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:289,columnNumber:53},void 0),e.jsxDEV("p",{className:"text-xs text-center truncate w-24",children:fe.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:305,columnNumber:53},void 0),!de&&!ve&&e.jsxDEV("p",{className:"text-[10px] text-center text-red-400",children:fe.requiredLevelSum?` ${fe.requiredLevelSum}`:fe.unlockTier?`${fe.unlockTier} `:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:307,columnNumber:57},void 0)]},fe.id,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:288,columnNumber:49},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:245,columnNumber:37},void 0)]},pe,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:243,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:237,columnNumber:21},void 0)}case"nickname":return e.jsxDEV("div",{className:"space-y-4 max-w-sm mx-auto p-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"nickname-input",className:"block text-sm font-medium text-gray-300 mb-1",children:"  (2-12)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV("input",{id:"nickname-input",type:"text",value:h,onChange:Q=>N(Q.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-md p-3 focus:ring-blue-500 focus:border-blue-500",maxLength:12,minLength:2},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:328,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:324,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-sm p-3 rounded-md bg-gray-900/50",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:340,columnNumber:33},void 0),e.jsxDEV("span",{className:`font-bold flex items-center gap-1 ${$?"text-cyan-300":"text-red-400"}`,children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:341,columnNumber:149},void 0)," ",V]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:341,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:339,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between mt-1",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:344,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-bold flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-4 h-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:345,columnNumber:85},void 0)," ",o.diamonds.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:345,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:343,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:338,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:323,columnNumber:21},void 0);case"mbti":{if(!O&&!U)return e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"p-4 bg-gray-900/50 rounded-lg",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-yellow-300 mb-3",children:"MBTI ?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:356,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 mb-4",children:"MBTI(Myers-Briggs Type Indicator)       .             ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:357,columnNumber:33},void 0),e.jsxDEV("h4",{className:"text-lg font-bold text-cyan-300 mb-2 mt-4",children:" MBTI ?"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:361,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 mb-4",children:" MBTI    MBTI   .  MBTI      ,       ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:362,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-6 p-4 bg-yellow-900/30 border-2 border-yellow-500 rounded-lg text-center",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-6 h-6"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:368,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-2xl font-bold text-yellow-300",children:"100"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:369,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:367,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 mb-4",children:"MBTI   100   !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:371,columnNumber:37},void 0),e.jsxDEV(ae,{onClick:()=>{S(!0),C(0),R({})},colorScheme:"blue",className:"w-full",children:"MBTI "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:372,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:366,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:355,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:354,columnNumber:25},void 0);if(U){const ne=Xi[M],le=(M+1)/Xi.length*100;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-400",children:[" ",M+1," / ",Xi.length]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:398,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-sm text-gray-400",children:[Math.round(le),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:399,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:397,columnNumber:33},void 0),e.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${le}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:402,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:401,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:396,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-white mb-4",children:ne.question},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:409,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-3",children:ne.options.map(L=>e.jsxDEV("button",{onClick:()=>R(ue=>({...ue,[ne.id]:L.value})),className:`w-full text-left p-4 rounded-lg transition-all duration-200 ${w[ne.id]===L.value?"bg-blue-600 text-white border-2 border-blue-400":"bg-gray-800 hover:bg-gray-700 text-gray-200 border-2 border-transparent"}`,children:[e.jsxDEV("div",{className:"font-semibold text-base mb-2",children:L.text},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:421,columnNumber:45},void 0),L.goStyle&&e.jsxDEV("div",{className:"text-sm opacity-90 mt-2 pt-2 border-t border-white/20",children:[e.jsxDEV("span",{className:"font-semibold",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:424,columnNumber:53},void 0)," ",L.goStyle]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:423,columnNumber:49},void 0)]},L.value,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:412,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:410,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:408,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:395,columnNumber:25},void 0)}const Q=({title:ne,options:le,selected:L,onSelect:ue})=>e.jsxDEV("div",{className:"bg-gray-900/50 p-3 rounded-lg flex-1",children:[e.jsxDEV("h4",{className:"font-semibold text-lg text-center mb-2",children:ne},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:443,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-center gap-2 mb-3",children:le.map(pe=>e.jsxDEV(ae,{onClick:()=>ue(pe),colorScheme:L===pe?"blue":"gray",className:"w-24",children:ux[pe].name},pe,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:446,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:444,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-gray-800/60 p-2 rounded-md text-xs min-h-[120px]",children:[e.jsxDEV("h5",{className:"font-bold text-yellow-300",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:452,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-gray-300",children:ux[L].general},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:453,columnNumber:29},void 0),e.jsxDEV("h5",{className:"font-bold text-cyan-300 mt-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:454,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-gray-300",children:ux[L].goStyle},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:455,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:451,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:442,columnNumber:21},void 0),Z=`${E.ei}${E.sn}${E.tf}${E.jp}`;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"p-3 bg-blue-900/30 rounded-lg text-center",children:e.jsxDEV("p",{className:"text-sm text-gray-300",children:"MBTI  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:465,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:464,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Q,{title:" ",options:["E","I"],selected:E.ei,onSelect:ne=>j(le=>({...le,ei:ne}))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:468,columnNumber:29},void 0),e.jsxDEV(Q,{title:" ",options:["S","N"],selected:E.sn,onSelect:ne=>j(le=>({...le,sn:ne}))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:469,columnNumber:29},void 0),e.jsxDEV(Q,{title:" ",options:["T","F"],selected:E.tf,onSelect:ne=>j(le=>({...le,tf:ne}))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:470,columnNumber:29},void 0),e.jsxDEV(Q,{title:" ",options:["J","P"],selected:E.jp,onSelect:ne=>j(le=>({...le,jp:ne}))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:471,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:467,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-900/50 rounded-lg flex items-center justify-center gap-4",children:[e.jsxDEV("span",{className:"font-semibold text-lg",children:" MBTI:"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:474,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-2xl text-green-400",children:Z},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:475,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:473,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:e.jsxDEV(ae,{onClick:()=>{S(!0),C(0),R({})},colorScheme:"purple",className:"w-full",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:478,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:477,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:463,columnNumber:21},void 0)}default:return null}},H=[{id:"avatar",label:""},{id:"border",label:""},{id:"nickname",label:""},{id:"mbti",label:"MBTI"}];return e.jsxDEV(mn,{title:"",onClose:a,windowId:"profile-edit",initialWidth:750,isTopmost:m,children:e.jsxDEV("div",{className:"flex flex-col h-[70vh]",children:[e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-4 flex-shrink-0",children:H.map(Q=>e.jsxDEV("button",{onClick:()=>s(Q.id),className:`relative flex-1 py-2 text-sm font-semibold rounded-md transition-all ${p===Q.id?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:[Q.label,Q.id==="mbti"&&!o.mbti&&e.jsxDEV("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:513,columnNumber:33},void 0)]},Q.id,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:510,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:508,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2",children:X()},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:518,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-4 mt-4 pt-4 border-t border-gray-700 flex-shrink-0",children:[e.jsxDEV(ae,{onClick:a,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:522,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:P,colorScheme:"green",disabled:q,children:p==="nickname"&&!$?" ":p==="mbti"&&U?M<Xi.length-1?"":"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:523,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:521,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:507,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ProfileEditModal.tsx",lineNumber:506,columnNumber:9},void 0)},S5={normal:{bg:"bg-gray-700",text:"text-white",shadow:"shadow-gray-900/50",name:"",background:"/images/equipments/normalbgi.png"},uncommon:{bg:"bg-green-700",text:"text-green-200",shadow:"shadow-green-500/50",name:"",background:"/images/equipments/uncommonbgi.png"},rare:{bg:"bg-blue-700",text:"text-blue-200",shadow:"shadow-blue-500/50",name:"",background:"/images/equipments/rarebgi.png"},epic:{bg:"bg-purple-700",text:"text-purple-200",shadow:"shadow-purple-500/50",name:"",background:"/images/equipments/epicbgi.png"},legendary:{bg:"bg-red-800",text:"text-red-200",shadow:"shadow-red-500/50",name:"",background:"/images/equipments/legendarybgi.png"},mythic:{bg:"bg-orange-700",text:"text-orange-200",shadow:"shadow-orange-500/50",name:"",background:"/images/equipments/mythicbgi.png"}},j5={rare:"spinning-border-rare",epic:"spinning-border-epic",legendary:"spinning-border-legendary",mythic:"spinning-border-mythic"},M5=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-blue-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},Bd=({title:o,options:a,color:c})=>a.length===0?null:e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:`font-semibold ${c} border-b border-gray-600 pb-1 mb-1 text-sm`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:48,columnNumber:13},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-0.5 text-gray-300 text-xs",children:a.map((m,u)=>e.jsxDEV("li",{children:m.display},u,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:50,columnNumber:42},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:49,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:47,columnNumber:9},void 0),C5=o=>{if(!o.options)return null;const{main:a,combatSubs:c,specialSubs:m,mythicSubs:u}=o.options;return e.jsxDEV("div",{className:"w-full text-xs text-left space-y-2",children:[e.jsxDEV(Bd,{title:"",options:[a],color:"text-yellow-300"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:61,columnNumber:13},void 0),e.jsxDEV(Bd,{title:" ",options:c,color:"text-blue-300"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:62,columnNumber:13},void 0),e.jsxDEV(Bd,{title:" ",options:m,color:"text-green-300"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:63,columnNumber:13},void 0),e.jsxDEV(Bd,{title:" ",options:u,color:"text-red-400"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:60,columnNumber:9},void 0)},R5=({item:o,onClose:a,isTopmost:c})=>{var v;const m=S5[o.grade],u=o.type==="equipment"?hl[o.grade]:null,p=M5(o.stars),s=j5[o.grade],x=o.image==="/images/icon/Gold.png"||o.image==="/images/icon/Zem.png";return b.useEffect(()=>{["epic","legendary","mythic"].includes(o.grade)&&et.gachaEpicOrHigher()},[o.grade]),e.jsxDEV(mn,{title:" ",onClose:a,windowId:"item-obtained",initialWidth:400,isTopmost:c,zIndex:70,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"p-6 rounded-lg",children:[e.jsxDEV("div",{className:"relative w-48 h-48 mx-auto rounded-lg mb-4 overflow-hidden",children:[s&&e.jsxDEV("div",{className:`absolute -inset-1 rounded-lg ${s}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:88,columnNumber:29},void 0),e.jsxDEV("div",{className:"relative w-full h-full rounded-lg flex items-center justify-center border-2 border-black/50 overflow-hidden",children:[e.jsxDEV("img",{src:m.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:91,columnNumber:29},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-4"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:92,columnNumber:44},void 0),x&&e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-sm p-1",children:e.jsxDEV("span",{className:"text-white text-3xl font-bold text-center break-words",style:{textShadow:"1px 1px 2px black"},children:["+",(v=o.quantity)==null?void 0:v.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:95,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:94,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:90,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:86,columnNumber:21},void 0),e.jsxDEV("p",{className:`font-bold text-lg ${m.text}`,children:["[",m.name,"]"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:102,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-center gap-2",children:[e.jsxDEV("h2",{className:`text-3xl font-bold ${p.colorClass}`,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:104,columnNumber:25},void 0),o.stars>0&&e.jsxDEV("span",{className:`text-2xl font-bold ${p.colorClass}`,children:p.text},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:105,columnNumber:44},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:103,columnNumber:21},void 0),u&&e.jsxDEV("p",{className:"text-xs text-yellow-300",children:["(  : ",u,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:107,columnNumber:39},void 0),o.type==="equipment"&&e.jsxDEV("div",{className:"w-full text-xs text-left space-y-2 mt-4 max-h-48 overflow-y-auto bg-black/20 p-2 rounded-md",children:C5(o)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:109,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:85,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:84,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ItemObtainedModal.tsx",lineNumber:83,columnNumber:9},void 0)},VD={normal:{bg:"bg-gray-700",text:"text-white",shadow:"shadow-gray-900/50",name:"",background:"/images/equipments/normalbgi.png"},uncommon:{bg:"bg-green-700",text:"text-green-200",shadow:"shadow-green-500/50",name:"",background:"/images/equipments/uncommonbgi.png"},rare:{bg:"bg-blue-700",text:"text-blue-200",shadow:"shadow-blue-500/50",name:"",background:"/images/equipments/rarebgi.png"},epic:{bg:"bg-purple-700",text:"text-purple-200",shadow:"shadow-purple-500/50",name:"",background:"/images/equipments/epicbgi.png"},legendary:{bg:"bg-red-800",text:"text-red-200",shadow:"shadow-red-500/50",name:"",background:"/images/equipments/legendarybgi.png"},mythic:{bg:"bg-orange-700",text:"text-orange-200",shadow:"shadow-orange-500/50",name:"",background:"/images/equipments/mythicbgi.png"}},E5={rare:"spinning-border-rare",epic:"spinning-border-epic",legendary:"spinning-border-legendary",mythic:"spinning-border-mythic"},A5=({items:o,onClose:a,isTopmost:c,tournamentScoreChange:m})=>(b.useEffect(()=>{if(o&&o.length>0){const u=["normal","uncommon","rare","epic","legendary","mythic"],p=o.reduce((s,x)=>{const v=s.grade||"normal",g=x.grade||"normal";return u.indexOf(g)>u.indexOf(v)?x:s});["epic","legendary","mythic"].includes(p.grade)&&et.gachaEpicOrHigher()}},[o]),b.useMemo(()=>o.reduce((u,p)=>u+(p.quantity||1),0),[o]),e.jsxDEV(mn,{title:" ",onClose:a,windowId:"bulk-item-obtained",initialWidth:600,closeOnOutsideClick:!1,isTopmost:c,zIndex:70,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:" ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:54,columnNumber:17},void 0),m&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-900/40 to-green-800/40 rounded-lg border-2 border-green-600/60 shadow-lg",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:59,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-base font-bold text-green-200",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:60,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:58,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 text-lg",children:[e.jsxDEV("span",{className:"text-gray-300 font-mono",children:m.oldScore.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:63,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:64,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-green-300 font-bold font-mono",children:m.newScore.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:65,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-green-400 font-semibold",children:["(+",m.scoreReward.toLocaleString(),")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:66,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:62,columnNumber:29},void 0),m.scoreReward>0&&m.oldScore>0&&e.jsxDEV("div",{className:"text-xs text-green-400/80 mt-1",children:[(m.scoreReward/m.oldScore*100).toFixed(1),"% "]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:69,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:57,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:56,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 max-h-[60vh] overflow-y-auto p-2 bg-gray-900/50 rounded-lg justify-items-center",children:o.map((u,p)=>{var N;const s=u.grade||"normal",x=VD[s]||VD.normal,v=E5[s],g=u.type==="equipment"&&s?hl[s]:null,f=`${u.name}${g?` (  : ${g})`:""}`,h=u.image==="/images/icon/Gold.png"||u.image==="/images/icon/Zem.png";return e.jsxDEV("div",{className:"relative aspect-square rounded-md overflow-hidden",title:f,children:[v&&e.jsxDEV("div",{className:`absolute -inset-0.5 rounded-md ${v}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:88,columnNumber:49},void 0),e.jsxDEV("div",{className:`relative w-full h-full rounded-md flex items-center justify-center border-2 border-black/20 ${x.bg}`,children:[x.background&&e.jsxDEV("img",{src:x.background,alt:s,className:"absolute inset-0 w-full h-full object-cover rounded-sm"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:90,columnNumber:59},void 0),u.image&&e.jsxDEV("img",{src:u.image,alt:u.name,className:"relative w-full h-full object-contain p-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:91,columnNumber:52},void 0),h?e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-sm p-1",children:e.jsxDEV("span",{className:"text-white text-lg font-bold text-center break-words",style:{textShadow:"1px 1px 2px black"},children:["+",(N=u.quantity)==null?void 0:N.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:95,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:94,columnNumber:41},void 0):u.quantity&&u.quantity>1&&e.jsxDEV("span",{className:"absolute bottom-0 right-0 text-xs font-bold text-white bg-black/60 px-1 rounded-tl-md",children:u.quantity},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:101,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:89,columnNumber:33},void 0)]},p,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:87,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:53,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BulkItemObtainedModal.tsx",lineNumber:52,columnNumber:9},void 0)),kD={normal:"images/equipments/normalbgi.png",uncommon:"images/equipments/uncommonbgi.png",rare:"images/equipments/rarebgi.png",epic:"images/equipments/epicbgi.png",legendary:"images/equipments/legendarybgi.png",mythic:"images/equipments/mythicbgi.png"},Ld={normal:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5},U5=({onClose:o,isTopmost:a})=>{const[c,m]=b.useState("equipment"),u=["fan","board","top","bottom","bowl","stones"],p={fan:"",board:"",top:"",bottom:"",bowl:"",stones:""},s=[{id:"",name:""},{id:"",name:""},{id:"",name:""},{id:"",name:""}],x={normal:{name:"",color:"text-gray-300"},uncommon:{name:"",color:"text-green-400"},rare:{name:"",color:"text-blue-400"},epic:{name:"",color:"text-purple-400"},legendary:{name:"",color:"text-red-500"},mythic:{name:"",color:"text-orange-400"}},[v,g]=b.useState("fan"),[f,h]=b.useState(null),[N,y]=b.useState(""),E=b.useMemo(()=>{if(c==="equipment")return Dx.filter(M=>M.slot===v).sort((M,C)=>Ld[M.grade]-Ld[C.grade]);if(c==="material")return Object.values(ui).sort((M,C)=>Ld[M.grade]-Ld[C.grade]);if(c==="consumable"){const C={:" ",:" ",:" ",:" "}[N];return[...vl].filter(R=>R.name.includes(C)).sort((R,O)=>R.name.localeCompare(O.name))}return[]},[c,v,N]);b.useEffect(()=>{E.length>0?(!f||!E.some(M=>M.name===f.name))&&h(E[0]):f&&h(null)},[E,f]);const j=()=>{var G;if(!f||f.type!=="equipment"||!f.slot)return null;const M=lw[f.grade],C=q=>q[0]===q[1]?`${q[0]}`:`${q[0]}~${q[1]}`,w=M.mythicCount[0]>0,R=((G=aw[f.slot])==null?void 0:G[M.combatTier])||[],O=iw[f.slot],V=O.options[f.grade],$=V.value,z=O.isPercentage,P=V.stats.join("  ");return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h5",{className:"text-sm md:text-base font-semibold text-yellow-300 mt-3 border-b border-gray-600 pb-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:116,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-300 py-1",children:[e.jsxDEV("strong",{className:"text-yellow-400",children:P},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:117,columnNumber:70},void 0),": +",$,z?"%":""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:117,columnNumber:17},void 0),e.jsxDEV("h5",{className:"text-sm md:text-base font-semibold text-blue-300 mt-3 border-b border-gray-600 pb-1",children:[" ( ",C(M.combatCount),")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:119,columnNumber:17},void 0),e.jsxDEV("ul",{className:"space-y-1 text-[10px] md:text-xs text-gray-300 pt-1",children:R.map((q,B)=>e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-blue-400",children:q.type},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:122,columnNumber:65},void 0),": +",q.range[0],"~",q.range[1],q.isPercentage?"%":""]},`${q.type}-${B}`,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:122,columnNumber:32},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:120,columnNumber:17},void 0),e.jsxDEV("h5",{className:"text-sm md:text-base font-semibold text-green-300 mt-3 border-b border-gray-600 pb-1",children:["  ( ",C(M.specialCount),")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("ul",{className:"space-y-1 text-[10px] md:text-xs text-gray-300 pt-1",children:Object.entries(QD).map(([q,B])=>e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-green-400",children:B.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:131,columnNumber:33},void 0),": +",B.range[0],"~",B.range[1],B.isPercentage?"%":""]},q,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:130,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:127,columnNumber:17},void 0),w&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h5",{className:"text-sm md:text-base font-semibold text-red-400 mt-3 border-b border-gray-600 pb-1",children:["  ( ",C(M.mythicCount),")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:138,columnNumber:25},void 0),e.jsxDEV("ul",{className:"space-y-1 text-[10px] md:text-xs text-gray-300 pt-1",children:Object.values(ro).map(q=>{const B=YD[q];return e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-red-400",children:B.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:144,columnNumber:41},void 0),": ",B.description]},q,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:143,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:139,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:137,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:115,columnNumber:13},void 0)},U=()=>e.jsxDEV("div",{className:"text-left text-gray-300 space-y-6 overflow-y-auto pr-2 h-full",children:[e.jsxDEV("h3",{className:"text-2xl font-bold text-center text-yellow-300",children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:157,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-green-400 border-b-2 border-green-400/50 pb-1 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:159,columnNumber:17},void 0),e.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-1",children:[e.jsxDEV("li",{children:"     . (+4, +7, +10   2 )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:161,columnNumber:21},void 0),e.jsxDEV("li",{children:"      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:162,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:158,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-blue-400 border-b-2 border-blue-400/50 pb-1 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:166,columnNumber:17},void 0),e.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-2",children:[e.jsxDEV("li",{children:"     , ,      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:168,columnNumber:21},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-yellow-400",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:169,columnNumber:25},void 0),"             .       ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:169,columnNumber:21},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-yellow-400",children:"/ :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:170,columnNumber:25},void 0),"       ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-yellow-400",children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:171,columnNumber:25},void 0),"         ."]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:171,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:165,columnNumber:14},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-purple-400 border-b-2 border-purple-400/50 pb-1 mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:175,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-semibold text-yellow-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:178,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 pl-4",children:"1     .    (+4),  (+7),  (+10)    2 ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:179,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:177,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-semibold text-blue-300",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:182,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 pl-4",children:" 4 . 1  4     , 4        ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:183,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:181,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-semibold text-green-300",children:"  &  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:186,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 pl-4",children:"    .      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:187,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:185,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:176,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:156,columnNumber:9},void 0);return e.jsxDEV(mn,{title:"",onClose:o,windowId:"encyclopedia",initialWidth:900,isTopmost:a,children:[e.jsxDEV("div",{className:"flex bg-gray-900/70 p-1 rounded-lg mb-4 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>m("equipment"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${c==="equipment"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:199,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m("material"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${c==="material"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:200,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m("consumable"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${c==="consumable"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:201,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m("help"),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${c==="help"?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:198,columnNumber:14},void 0),c==="help"?e.jsxDEV("div",{className:"h-[calc(var(--vh,1vh)*65)] bg-gray-900/50 rounded-lg p-4",children:U()},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:206,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex gap-4 h-[calc(var(--vh,1vh)*65)] flex-row",children:[e.jsxDEV("div",{className:"flex flex-col gap-4 w-1/2 h-full",children:[c==="consumable"&&e.jsxDEV("div",{className:"w-full bg-gray-900/50 rounded-lg p-2 flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2 hidden md:block",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:215,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex flex-row md:flex-col gap-2 overflow-x-auto md:overflow-y-auto md:overflow-x-hidden pb-1 md:pb-0 scrollbar-thin",children:s.map(M=>e.jsxDEV("button",{onClick:()=>y(M.id),className:`flex-shrink-0 whitespace-nowrap text-center rounded-md transition-colors px-3 py-1.5 text-xs md:text-left md:w-full md:px-4 md:py-2 md:text-sm ${N===M.id?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:M.name},M.id,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:218,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:216,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:214,columnNumber:29},void 0),c==="equipment"&&e.jsxDEV("div",{className:"w-full bg-gray-900/50 rounded-lg p-2 flex-shrink-0",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2 hidden md:block",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:231,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex flex-row md:flex-col gap-2 overflow-x-auto md:overflow-y-auto md:overflow-x-hidden pb-1 md:pb-0 scrollbar-thin",children:u.map(M=>e.jsxDEV("button",{onClick:()=>g(M),className:`flex-shrink-0 whitespace-nowrap text-center rounded-md transition-colors px-3 py-1.5 text-xs md:text-left md:w-full md:px-4 md:py-2 md:text-sm ${v===M?"bg-blue-600":"text-gray-400 hover:bg-gray-700/50"}`,children:p[M]},M,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:234,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:232,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:230,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full bg-gray-900/50 rounded-lg p-2 flex flex-col min-h-0 flex-grow",children:[e.jsxDEV("h3",{className:"text-lg font-bold mb-2 flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:247,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col space-y-1 overflow-y-auto pr-2 flex-grow",children:E.map(M=>e.jsxDEV("button",{onClick:()=>h(M),className:`w-full text-left p-2 rounded-md text-sm flex items-center gap-2 ${(f==null?void 0:f.name)===M.name?"bg-blue-800/80":"hover:bg-gray-700/50"}`,children:[e.jsxDEV("div",{className:"relative w-8 h-8 flex-shrink-0",children:[e.jsxDEV("img",{src:kD[M.grade],alt:M.grade,className:"absolute inset-0 w-full h-full object-cover rounded-sm"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:256,columnNumber:45},void 0),M.image&&e.jsxDEV("img",{src:M.image,alt:M.name,className:"relative w-full h-full object-contain p-0.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:257,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:255,columnNumber:41},void 0),e.jsxDEV("span",{className:`${x[M.grade].color} truncate`,children:M.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:259,columnNumber:41},void 0)]},M.name,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:250,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:248,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:246,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:212,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 rounded-lg flex flex-col items-center min-h-0 w-1/2 h-full p-2",children:f?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`relative flex-shrink-0 ${c==="equipment"?"w-20 h-20 md:w-40 md:h-40":"w-24 h-24 md:w-40 md:h-40"}`,children:[e.jsxDEV("img",{src:kD[f.grade],alt:f.grade,className:"absolute inset-0 w-full h-full object-cover rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:271,columnNumber:37},void 0),f.image&&e.jsxDEV("img",{src:f.image,alt:f.name,className:"relative w-full h-full object-contain p-[15%]"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:272,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:270,columnNumber:33},void 0),e.jsxDEV("h3",{className:`font-bold mt-2 md:mt-4 ${x[f.grade].color} text-center ${c==="equipment"?"text-lg md:text-2xl":"text-xl md:text-2xl"}`,children:f.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:274,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-400 text-center",children:f.type==="equipment"?`[${x[f.grade].name}] ${f.slot?p[f.slot]:""}`:c==="material"?"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:275,columnNumber:33},void 0),f.type==="equipment"&&e.jsxDEV("p",{className:"text-[10px] md:text-xs text-gray-400 mt-1",children:`  : ${hl[f.grade]}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:283,columnNumber:37},void 0),e.jsxDEV("div",{className:"w-full flex-grow overflow-y-auto mt-2 pt-2 border-t border-gray-700 min-h-0 pr-2",children:[f.type==="equipment"&&j(),f.type!=="equipment"&&e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-300 py-1 text-center",children:f.description},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:287,columnNumber:75},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:285,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:269,columnNumber:30},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400",children:e.jsxDEV("p",{children:" ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:292,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:291,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:267,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EncyclopediaModal.tsx",lineNumber:197,columnNumber:9},void 0)},w5=({info:o,onClose:a,isTopmost:c})=>{const{user:m,mode:u}=o,p=m.seasonHistory||{},s=Object.keys(p).sort((v,g)=>g.localeCompare(v));if(u==="strategic"||u==="playful")return e.jsxDEV(mn,{title:"  ",onClose:a,windowId:"past-rankings",initialWidth:450,isTopmost:c,children:e.jsxDEV("div",{className:"max-h-[calc(var(--vh,1vh)*60)] overflow-y-auto pr-2",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-center mb-4",children:u==="strategic"?" ":" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:22,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-center text-gray-500 mt-4",children:"          ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:23,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-center text-gray-500 text-sm mt-2",children:"      ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:24,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:21,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:20,columnNumber:13},void 0);const x=u;return e.jsxDEV(mn,{title:"  ",onClose:a,windowId:"past-rankings",initialWidth:450,isTopmost:c,children:e.jsxDEV("div",{className:"max-h-[calc(var(--vh,1vh)*60)] overflow-y-auto pr-2",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-center mb-4",children:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:36,columnNumber:17},void 0),s.length>0?e.jsxDEV("ul",{className:"space-y-2",children:s.map(v=>{var h;const g=(h=p[v])==null?void 0:h[x],f=mi.find(N=>N.name===g);return e.jsxDEV("li",{className:"flex items-center justify-between p-3 bg-gray-900/50 rounded-lg",children:[e.jsxDEV("span",{className:"font-semibold text-gray-300",children:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:44,columnNumber:37},void 0),g&&f?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("img",{src:f.icon,alt:g,className:"w-8 h-8"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:47,columnNumber:45},void 0),e.jsxDEV("span",{className:`font-bold ${f.color}`,children:g},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:48,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:46,columnNumber:41},void 0):e.jsxDEV("span",{className:"text-gray-500",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:51,columnNumber:41},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:43,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:38,columnNumber:21},void 0):e.jsxDEV("p",{className:"text-center text-gray-500",children:"    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:58,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/PastRankingsModal.tsx",lineNumber:34,columnNumber:9},void 0)},V5=({user:o,currentUser:a,onClose:c,onAction:m,isTopmost:u})=>{const p=Date.now(),s=o.chatBanUntil&&o.chatBanUntil>p,x=o.connectionBanUntil&&o.connectionBanUntil>p,v=s?Math.ceil((o.chatBanUntil-p)/1e3/60):0,g=x?Math.ceil((o.connectionBanUntil-p)/1e3/60):0,f=(U,S)=>{m({type:"ADMIN_APPLY_SANCTION",payload:{targetUserId:o.id,sanctionType:U,durationMinutes:S}})},h=U=>{m({type:"ADMIN_LIFT_SANCTION",payload:{targetUserId:o.id,sanctionType:U}})},N=b.useMemo(()=>{var U;return(U=Jn.find(S=>S.id===o.avatarId))==null?void 0:U.url},[o.avatarId]),y=b.useMemo(()=>{var U;return(U=Zn.find(S=>S.id===o.borderId))==null?void 0:U.url},[o.borderId]),E=[{label:"1",minutes:1},{label:"5",minutes:5},{label:"10",minutes:10},{label:"30",minutes:30},{label:"1",minutes:60}],j=[{label:"10",minutes:10},{label:"1",minutes:60},{label:"6",minutes:360},{label:"1",minutes:1440},{label:"3",minutes:4320},{label:"",minutes:999999}];return e.jsxDEV(mn,{title:` : ${o.nickname}`,onClose:c,windowId:`admin-mod-${o.id}`,isTopmost:u,children:e.jsxDEV("div",{className:"flex flex-col gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4 bg-gray-900/50 p-3 rounded-lg",children:[e.jsxDEV(_n,{userId:o.id,userName:o.nickname,avatarUrl:N,borderUrl:y,size:64},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:70,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-xl font-bold",children:o.nickname},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:72,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:["ID: ",o.username]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:73,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:71,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:69,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-3",children:[e.jsxDEV("h4",{className:"font-bold text-lg border-b border-gray-600 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:78,columnNumber:21},void 0),s?e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-red-400",children:["  (",v," )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:81,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>h("chat"),colorScheme:"yellow",className:"!text-xs !py-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:80,columnNumber:25},void 0):e.jsxDEV("div",{className:"grid grid-cols-5 gap-2",children:E.map(U=>e.jsxDEV(ae,{onClick:()=>f("chat",U.minutes),className:"!text-xs",children:U.label},U.minutes,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:87,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:77,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-3",children:[e.jsxDEV("h4",{className:"font-bold text-lg border-b border-gray-600 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:94,columnNumber:21},void 0),x?e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-red-400",children:["  (",g," )"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:97,columnNumber:29},void 0),e.jsxDEV(ae,{onClick:()=>h("connection"),colorScheme:"yellow",className:"!text-xs !py-1",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:98,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:96,columnNumber:25},void 0):e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:j.map(U=>e.jsxDEV(ae,{onClick:()=>f("connection",U.minutes),colorScheme:"orange",className:"!text-xs",children:U.label},U.minutes,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:103,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:101,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:93,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:68,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/AdminModerationModal.tsx",lineNumber:67,columnNumber:9},void 0)},k5=({summary:o,onClose:a,isTopmost:c})=>{var s,x;const{reward:m,items:u,title:p}=o;return e.jsxDEV(mn,{title:p,onClose:a,windowId:"quest-reward-summary",initialWidth:400,isTopmost:c,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:" !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:24,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3 bg-gray-900/50 p-4 rounded-lg text-lg",children:[(m.gold??0)>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:28,columnNumber:71},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:28,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-yellow-300",children:["+",m.gold.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:29,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:27,columnNumber:25},void 0),(m.diamonds??0)>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:34,columnNumber:71},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:34,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-cyan-300",children:["+",m.diamonds.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:35,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:33,columnNumber:26},void 0),(m.actionPoints??0)>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:40,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-green-300",children:["+",m.actionPoints.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:41,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:39,columnNumber:25},void 0),((s=m.xp)==null?void 0:s.type)==="blacksmith"&&(((x=m.xp)==null?void 0:x.amount)??0)>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:" ",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:46,columnNumber:71},void 0),"  :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:46,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-orange-400",children:["+",m.xp.amount.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:47,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:45,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:25,columnNumber:17},void 0),u.length>0&&e.jsxDEV("div",{className:"mt-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"font-semibold mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:53,columnNumber:26},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2 justify-items-center",children:u.map((v,g)=>e.jsxDEV("div",{className:"flex flex-col items-center",title:v.name,children:[e.jsxDEV("img",{src:v.image,alt:v.name,className:"w-12 h-12 object-contain"},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:57,columnNumber:38},void 0),e.jsxDEV("span",{className:"text-xs",children:[v.name,v.quantity&&v.quantity>1?` x${v.quantity}`:""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:58,columnNumber:38},void 0)]},g,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:56,columnNumber:34},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:54,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:52,columnNumber:22},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:23,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/RewardSummaryModal.tsx",lineNumber:22,columnNumber:9},void 0)},T5={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},P5=["/images/equipments/Star1.png","/images/equipments/Star2.png","/images/equipments/Star3.png","/images/equipments/Star4.png"],I5=["/images/icon/Gold.png","/images/icon/Zem.png","/images/quest.png","/images/gibo.png","/images/mail.png","/images/store.png","/images/bag.png","/images/BlankEquipmentsSlot.png"],jS=new Set,ni=o=>{for(const a of o)a&&typeof a=="string"&&a.startsWith("/")&&jS.add(a)};ni(Object.values(wm));ni([ws.neighborhood.image,ws.national.image,ws.world.image]);ni(st.map(o=>o.image));ni(dt.map(o=>o.image));ni(jr.map(o=>o.icon));ni(Jn.map(o=>o.url));ni(Zn.map(o=>o.url));ni(mi.map(o=>o.icon));ni(Dx.map(o=>o.image));ni(vl.map(o=>o.image));ni(Object.values(ui).map(o=>o.image));ni([Xd,Zd,Sx,jx,sS,cS,mS,uS,dS]);ni(Object.values(T5));ni(P5);ni(I5);const _5=Array.from(jS),B5=o=>{const a=o.map(c=>new Promise(m=>{const u=new Image;u.src=c,u.onload=m,u.onerror=p=>m(`Failed to load ${c}: ${p.toString()}`)}));return Promise.all(a)},L5=({result:o,onClose:a,isTopmost:c})=>{const{gained:m,used:u,craftType:p,jackpot:s}=o,x=s?p==="upgrade"?" !":" !":p==="upgrade"?" ":" ",v=m[0],g=u[0],f=ui[v.name],h=ui[g.name];return e.jsxDEV(mn,{title:x,onClose:a,windowId:"crafting-result",initialWidth:400,isTopmost:c,zIndex:70,children:e.jsxDEV("div",{className:"text-center",children:[s&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-yellow-400 animate-pulse",children:" ! "},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:33,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-lg text-yellow-300 mt-2",children:" 2 !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:34,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:32,columnNumber:21},void 0),e.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:37,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-around text-center mb-4 bg-gray-900/50 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[(h==null?void 0:h.image)&&e.jsxDEV("img",{src:h.image,alt:g.name,className:"w-16 h-16"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:41,columnNumber:49},void 0),e.jsxDEV("span",{className:"font-semibold",children:g.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:42,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-red-400 mt-1",children:["-",g.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:43,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:40,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-4xl font-bold text-yellow-400 mx-4",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:45,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[(f==null?void 0:f.image)&&e.jsxDEV("img",{src:f.image,alt:v.name,className:"w-16 h-16"},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:47,columnNumber:51},void 0),e.jsxDEV("span",{className:"font-semibold",children:v.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:48,columnNumber:25},void 0),e.jsxDEV("span",{className:`text-sm mt-1 ${s?"text-yellow-400 font-bold":"text-green-400"}`,children:["+",v.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:49,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:46,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:39,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:55,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/CraftingResultModal.tsx",lineNumber:29,columnNumber:9},void 0)},hr=({checked:o,onChange:a,label:c,disabled:m=!1})=>{const u=to.useId();return e.jsxDEV("label",{htmlFor:u,className:`flex items-center ${m?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{id:u,type:"checkbox",className:"sr-only",checked:o,onChange:p=>!m&&a(p.target.checked),disabled:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:16,columnNumber:9},void 0),e.jsxDEV("div",{className:`block w-12 h-6 rounded-full transition-colors ${o?"bg-accent":"bg-secondary"}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:24,columnNumber:9},void 0),e.jsxDEV("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${o?"transform translate-x-6":""}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:25,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:15,columnNumber:7},void 0),c&&e.jsxDEV("span",{className:"ml-3 text-secondary font-medium",children:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:27,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ui/ToggleSwitch.tsx",lineNumber:14,columnNumber:5},void 0)},$5=({value:o,min:a,max:c,step:m=1,onChange:u,disabled:p=!1})=>e.jsxDEV("input",{type:"range",min:a,max:c,step:m,value:o,onChange:s=>u(Number(s.target.value)),disabled:p,className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer disabled:opacity-50"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ui/Slider.tsx",lineNumber:14,columnNumber:5},void 0),O5=[{id:"black",name:"",colors:["#0f172a","#1e293b","#e2e8f0","#eab308"]},{id:"white",name:" ",colors:["#edf1f6","#cbd5e1","#1f2937","#d4b373"]},{id:"sky",name:"  ",colors:["#1f2a37","#3a465e","#4ea8d1","#f6c453"]},{id:"blue",name:"  ",colors:["#1e1f2e","#4c4b69","#a887ff","#f6d8a6"]},{id:"green",name:"  ",colors:["#17251d","#2c4632","#7abf8b","#e3c970"]}],G5=({onClose:o,isTopmost:a})=>{const{settings:c,updateTheme:m,updateSoundSetting:u,updateFeatureSetting:p,updatePanelColor:s,updateTextColor:x,updatePanelEdgeStyle:v,resetGraphicsToDefault:g}=ot(),[f,h]=b.useState("graphics"),N=[{id:"graphics",label:""},{id:"sound",label:""},{id:"features",label:""}],y=[{key:"stone",label:"// "},{key:"notification",label:"/ "},{key:"item",label:"  "},{key:"countdown",label:"/ "},{key:"turn",label:"   "}],E=[{id:"none",label:" "},{id:"default",label:" "},{id:"style1",label:""},{id:"style2",label:""},{id:"style3",label:""},{id:"style4",label:""},{id:"style5",label:""}],j=S=>{const M=lS(S),C=[M.topLeft,M.topRight,M.bottomLeft,M.bottomRight].map(w=>w??"none").join(", ");return e.jsxDEV("div",{className:"w-20 h-14 rounded-lg border border-color bg-panel",style:{backgroundImage:C,backgroundRepeat:"no-repeat, no-repeat, no-repeat, no-repeat",backgroundPosition:"top left, top right, bottom left, bottom right",backgroundSize:"28px 28px"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:63,columnNumber:13},void 0)},U=()=>{switch(f){case"graphics":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary",children:"UI "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:81,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:O5.map(S=>e.jsxDEV("label",{className:"flex items-center p-3 bg-tertiary/50 rounded-lg cursor-pointer border-2 border-transparent has-[:checked]:border-accent has-[:checked]:ring-2 has-[:checked]:ring-accent",children:[e.jsxDEV("input",{type:"radio",name:"theme",value:S.id,checked:c.graphics.theme===S.id,onChange:()=>m(S.id),className:"w-5 h-5 text-accent bg-secondary border-color focus:ring-accent"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:85,columnNumber:41},void 0),e.jsxDEV("span",{className:"ml-3 text-text-primary text-sm sm:text-base whitespace-nowrap",children:S.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:93,columnNumber:37},void 0),e.jsxDEV("div",{className:"ml-auto flex -space-x-2",children:S.colors.map((M,C)=>e.jsxDEV("div",{style:{backgroundColor:M},className:"w-6 h-6 rounded-full border-2 border-primary"},C,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:96,columnNumber:49},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:94,columnNumber:41},void 0)]},S.id,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:84,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:80,columnNumber:25},void 0),e.jsxDEV("div",{className:"pt-4 border-t border-color",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary mb-3",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:104,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-center p-6 bg-tertiary/60 border border-color rounded-xl",children:j(c.graphics.panelEdgeStyle??"default")},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:106,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:E.map(S=>e.jsxDEV("label",{className:"flex items-center gap-2 rounded-lg bg-tertiary/40 border border-transparent transition-all cursor-pointer has-[:checked]:border-accent has-[:checked]:ring-2 has-[:checked]:ring-accent has-[:checked]:bg-tertiary/60 px-2.5 py-2",children:[e.jsxDEV("input",{type:"radio",name:"panelEdgeStyle",value:S.id,checked:(c.graphics.panelEdgeStyle??"default")===S.id,onChange:()=>v(S.id),className:"w-4 h-4 text-accent bg-secondary border-color focus:ring-accent flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:115,columnNumber:45},void 0),e.jsxDEV("span",{className:"text-sm text-text-primary whitespace-nowrap flex-1",children:S.label},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:123,columnNumber:45},void 0)]},S.id,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:111,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:109,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:105,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:103,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:79,columnNumber:21},void 0);case"sound":return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:135,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("span",{className:"w-12 text-center font-mono text-text-primary text-lg",children:(c.sound.masterVolume*10).toFixed(0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:137,columnNumber:33},void 0),e.jsxDEV($5,{min:0,max:1,step:.1,value:c.sound.masterVolume,onChange:S=>u("masterVolume",S),disabled:c.sound.masterMuted},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:138,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:136,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:134,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:149,columnNumber:29},void 0),e.jsxDEV(hr,{checked:!c.sound.masterMuted,onChange:S=>u("masterMuted",!S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:150,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:148,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-3 pt-4 border-t border-color",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:156,columnNumber:30},void 0),y.map(({key:S,label:M})=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:159,columnNumber:37},void 0),e.jsxDEV(hr,{checked:!c.sound.categoryMuted[S],onChange:C=>u("categoryMuted",{...c.sound.categoryMuted,[S]:!C}),disabled:c.sound.masterMuted},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:160,columnNumber:37},void 0)]},S,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:158,columnNumber:33},void 0))]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:155,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:133,columnNumber:21},void 0);case"features":return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:173,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:"   []  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:175,columnNumber:29},void 0),e.jsxDEV(hr,{checked:c.features.mobileConfirm,onChange:S=>p("mobileConfirm",S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:176,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:174,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:"  ( )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:182,columnNumber:29},void 0),e.jsxDEV(hr,{checked:c.features.stonePreview,onChange:S=>p("stonePreview",S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:183,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:181,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:189,columnNumber:29},void 0),e.jsxDEV(hr,{checked:c.features.lastMoveMarker,onChange:S=>p("lastMoveMarker",S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:190,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:188,columnNumber:26},void 0),e.jsxDEV("h3",{className:"text-lg font-semibold text-text-secondary mb-4 pt-4 border-t border-color",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:195,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:197,columnNumber:29},void 0),e.jsxDEV(hr,{checked:c.features.questNotifications,onChange:S=>p("questNotifications",S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:198,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:196,columnNumber:26},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-text-secondary",children:"   ( )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:204,columnNumber:29},void 0),e.jsxDEV(hr,{checked:c.features.chatNotifications,onChange:S=>p("chatNotifications",S)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:205,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:203,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:172,columnNumber:22},void 0)}};return e.jsxDEV(mn,{title:"",onClose:o,windowId:"settings",initialWidth:600,isTopmost:a,children:e.jsxDEV("div",{className:"h-[calc(var(--vh,1vh)*60)] flex flex-col",children:[e.jsxDEV("div",{className:"flex bg-tertiary/70 p-1 rounded-lg mb-4 flex-shrink-0",children:N.map(S=>e.jsxDEV("button",{onClick:()=>h(S.id),className:`flex-1 py-2 text-sm font-semibold rounded-md transition-all ${f===S.id?"bg-accent":"text-tertiary hover:bg-secondary/50"}`,children:S.label},S.id,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:220,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-2 p-2",children:U()},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:229,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-4 mt-4 pt-4 border-t border-color flex-shrink-0",children:e.jsxDEV(ae,{onClick:o,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:233,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:232,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:217,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/SettingsModal.tsx",lineNumber:216,columnNumber:9},void 0)},TD=({summary:o,onClose:a,isTopmost:c})=>e.jsxDEV(mn,{title:"  ",onClose:a,windowId:"claim-all-summary",initialWidth:400,isTopmost:c,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"   !"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:15,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3 bg-gray-900/50 p-4 rounded-lg text-lg",children:[o.gold>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:19,columnNumber:71},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:19,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-yellow-300",children:["+",o.gold.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:20,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:18,columnNumber:25},void 0),o.diamonds>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/icon/Zem.png",alt:"",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:25,columnNumber:71},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:25,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-cyan-300",children:["+",o.diamonds.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:26,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:24,columnNumber:25},void 0),o.actionPoints>0&&e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:31,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-green-300",children:["+",o.actionPoints.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:32,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:30,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:16,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:36,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:14,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/ClaimAllSummaryModal.tsx",lineNumber:13,columnNumber:9},void 0),z5={normal:{name:"",color:"text-gray-300",background:"/images/equipments/normalbgi.png"},uncommon:{name:"",color:"text-green-400",background:"/images/equipments/uncommonbgi.png"},rare:{name:"",color:"text-blue-400",background:"/images/equipments/rarebgi.png"},epic:{name:"",color:"text-purple-400",background:"/images/equipments/epicbgi.png"},legendary:{name:"",color:"text-red-500",background:"/images/equipments/legendarybgi.png"},mythic:{name:"",color:"text-orange-400",background:"/images/equipments/mythicbgi.png"}},H5=o=>{if(o===0)return null;let a="",c="";return o>=10?(a="/images/equipments/Star4.png",c="prism-text-effect"):o>=7?(a="/images/equipments/Star3.png",c="text-purple-400"):o>=4?(a="/images/equipments/Star2.png",c="text-amber-400"):o>=1&&(a="/images/equipments/Star1.png",c="text-white"),e.jsxDEV("div",{className:"absolute top-0.5 left-0.5 flex items-center gap-0.5 bg-black/40 rounded-br-md px-1 py-0.5 z-10",style:{textShadow:"1px 1px 2px black"},children:[e.jsxDEV("img",{src:a,alt:"star",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("span",{className:`font-bold text-xs leading-none ${c}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:38,columnNumber:9},void 0)},W5=({item:o})=>{var s,x,v,g;const{currentUserWithStatus:a}=ot(),c=z5[o.grade],m=hl[o.grade],p=((a==null?void 0:a.strategyLevel)||0)+((a==null?void 0:a.playfulLevel)||0)>=m;return e.jsxDEV("div",{className:"flex flex-col w-full h-full p-1",children:[e.jsxDEV("div",{className:"flex mb-2",children:[e.jsxDEV("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0 mr-3",children:[e.jsxDEV("img",{src:c.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:58,columnNumber:21},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:59,columnNumber:36},void 0),H5(o.stars)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:57,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow pt-2 min-w-0",children:[e.jsxDEV("h3",{className:`text-base font-bold whitespace-nowrap overflow-hidden text-ellipsis ${c.color}`,title:o.name,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:63,columnNumber:21},void 0),e.jsxDEV("p",{className:`text-xs ${p?"text-gray-500":"text-red-500"}`,children:["(: ",m,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:64,columnNumber:21},void 0),((s=o.options)==null?void 0:s.main)&&e.jsxDEV("p",{className:"font-semibold text-yellow-300 text-xs whitespace-nowrap overflow-hidden text-ellipsis",title:o.options.main.display,children:o.options.main.display},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:66,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:62,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:56,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full text-sm text-left space-y-1 bg-black/30 p-2 rounded-lg flex-grow overflow-y-auto",children:[((x=o.options)==null?void 0:x.combatSubs)&&o.options.combatSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.combatSubs.map((f,h)=>e.jsxDEV("p",{className:"text-blue-300",children:f.display},`c-${h}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:75,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:73,columnNumber:21},void 0),((v=o.options)==null?void 0:v.specialSubs)&&o.options.specialSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.specialSubs.map((f,h)=>e.jsxDEV("p",{className:"text-green-300",children:f.display},`s-${h}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:82,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:80,columnNumber:22},void 0),((g=o.options)==null?void 0:g.mythicSubs)&&o.options.mythicSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.mythicSubs.map((f,h)=>e.jsxDEV("p",{className:"text-red-400",children:f.display},`m-${h}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:89,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:87,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:71,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:54,columnNumber:9},void 0)},PD=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-purple-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},F5=({selectedItem:o,currentUser:a,onAction:c,enhancementOutcome:m,onOutcomeConfirm:u})=>{const[p,s]=b.useState(!1),[x,v]=b.useState(0),g=b.useRef(null),f=b.useRef(null),h=b.useCallback(()=>{g.current!==null&&(window.clearInterval(g.current),g.current=null),f.current!==null&&(window.clearTimeout(f.current),f.current=null)},[]),N=b.useMemo(()=>{var B;return o?(B=Gd[o.grade])==null?void 0:B[o.stars]:null},[o]),y=a?a.strategyLevel+a.playfulLevel:0,E=b.useMemo(()=>{if(!o)return 0;const B=o.stars+1;return B===4?3:B===7?8:B===10?15:0},[o]),j=y>=E,U=b.useMemo(()=>{if(!a)return{};const B={};for(const X of Object.keys(ui))B[X]=a.inventory.filter(H=>H.name===X).reduce((H,Q)=>H+(Q.quantity||0),0);return B},[a]),S=b.useMemo(()=>o?Z2(o.grade,o.stars):0,[o]),M=b.useMemo(()=>a?a.gold>=S:!1,[a,S]),C=b.useMemo(()=>!o||!N||E>0&&!j||!M?!1:N.every(B=>U[B.name]>=B.amount),[N,U,E,j,o,M]),{mainOptionPreview:w,subOptionPreview:R}=b.useMemo(()=>{if(!o)return{mainOptionPreview:"",subOptionPreview:""};if(!o.options||o.stars>=10)return{mainOptionPreview:" ",subOptionPreview:""};const{main:B,combatSubs:X}=o.options,H=B.baseValue;if(!H)return{mainOptionPreview:"N/A",subOptionPreview:"N/A"};let Q=1;[3,6,9].includes(o.stars)&&(Q=2);const Z=H*Q,ne=B.value+Z,le=`${B.type} +${B.value.toFixed(2).replace(/\.00$/,"")}${B.isPercentage?"%":""}`,L=`+${ne.toFixed(2).replace(/\.00$/,"")}${B.isPercentage?"%":""}`,ue=`${le}  ${L}`;let pe="";return X.length===0?pe=" ":X.length<4?pe="  ":pe=" ",{mainOptionPreview:ue,subOptionPreview:pe}},[o]),O=b.useMemo(()=>o?PD(o.stars):{text:"",colorClass:"text-white"},[o]),V=b.useMemo(()=>!o||o.stars>=10?null:PD(o.stars+1),[o]),$=b.useMemo(()=>o?p?" ...":o.stars>=10?" ":E>0&&!j?`  ( ${E} )`:N?M?C?` (+${o.stars+1})`:" ":`  (: ${S.toLocaleString()})`:"  ":"  .",[p,o,E,j,N,C,M,S]);if(b.useEffect(()=>()=>{h()},[h]),b.useEffect(()=>{s(!1),v(0),h()},[o,h]),!o)return e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxDEV("p",{children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:311,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:310,columnNumber:13},void 0);const z=K2[o.stars],P=J2[o.grade]||.5,G=(o.enhancementFails||0)*P,q=()=>{if(!C||p)return;s(!0),v(0),h();const B=2e3,X=o.id,H=Date.now();g.current=window.setInterval(()=>{const Q=Date.now()-H,Z=Math.min(100,Math.round(Q/B*100));v(Z),Q>=B&&g.current!==null&&(window.clearInterval(g.current),g.current=null)},50),f.current=window.setTimeout(()=>{f.current=null,(async()=>{try{v(100),await c({type:"ENHANCE_ITEM",payload:{itemId:X}})}catch(Q){console.error("[EnhancementView] Failed to enhance item:",Q)}finally{h(),s(!1),v(0)}})()},B)};return e.jsxDEV("div",{className:"relative h-full flex flex-col",children:e.jsxDEV("div",{className:"flex flex-row gap-4 h-full min-h-0",children:[e.jsxDEV("div",{className:"w-[55%] flex flex-col bg-gray-900/40 p-2 rounded-lg h-full min-h-0",children:e.jsxDEV(W5,{item:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:363,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:362,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2 h-full min-h-0",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-2 rounded-lg flex-shrink-0",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-1.5 text-green-300 text-xs",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:369,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-1.5 text-xs text-left",children:[e.jsxDEV("div",{className:"flex justify-between items-center gap-2 min-w-0",children:[e.jsxDEV("span",{className:"text-gray-400 whitespace-nowrap flex-shrink-0 text-xs",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:372,columnNumber:33},void 0),e.jsxDEV("div",{className:"font-mono text-white flex items-center gap-1 whitespace-nowrap",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:[e.jsxDEV("span",{className:O.colorClass,children:O.text||"(0)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:374,columnNumber:37},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:375,columnNumber:37},void 0),V?e.jsxDEV("span",{className:V.colorClass,children:V.text},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:376,columnNumber:53},void 0):"-"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:373,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:371,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-2 min-w-0",children:[e.jsxDEV("span",{className:"text-gray-400 whitespace-nowrap flex-shrink-0 text-xs",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:380,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-mono text-yellow-300 whitespace-nowrap overflow-hidden text-ellipsis text-right",style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},title:w,children:w},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:381,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:379,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-center gap-2 min-w-0",children:[e.jsxDEV("span",{className:"text-gray-400 whitespace-nowrap flex-shrink-0 text-xs",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:384,columnNumber:33},void 0),e.jsxDEV("span",{className:`font-mono whitespace-nowrap overflow-hidden text-ellipsis text-right ${o&&o.options&&o.options.combatSubs.length>0?"text-blue-300":"text-gray-400"}`,style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},title:o.stars<10?R:"",children:o.stars<10?R:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:385,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:383,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:370,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:368,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-gray-900/50 p-2 rounded-lg flex-shrink-0",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-2 text-xs",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:392,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-3 justify-center items-center",children:[e.jsxDEV("div",{className:"relative flex flex-col items-center px-1",title:`: ${((a==null?void 0:a.gold)||0).toLocaleString()} / ${S.toLocaleString()}`,children:[e.jsxDEV("div",{className:"relative w-8 h-8",style:{background:"transparent",borderRadius:0,overflow:"hidden"},children:[e.jsxDEV("img",{src:"/images/icon/Gold.png",alt:"",className:"w-full h-full",style:{background:"transparent",borderRadius:0,padding:0,margin:0,objectFit:"contain",display:"block",border:"none",boxShadow:"none"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:397,columnNumber:37},void 0),!M&&e.jsxDEV("div",{className:"absolute inset-0 bg-red-500/30 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:398,columnNumber:56},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:396,columnNumber:33},void 0),e.jsxDEV("span",{className:`font-mono mt-0.5 whitespace-nowrap ${M?"text-green-400":"text-red-400"}`,style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:S.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:400,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:395,columnNumber:29},void 0),N==null?void 0:N.map(B=>{const X=U[B.name]||0,H=X>=B.amount;return e.jsxDEV("div",{className:"relative flex flex-col items-center px-1",title:`${B.name}: ${X.toLocaleString()} / ${B.amount.toLocaleString()}`,children:[e.jsxDEV("div",{className:"relative w-8 h-8",style:{background:"transparent",borderRadius:0,overflow:"hidden"},children:[e.jsxDEV("img",{src:ui[B.name].image,alt:B.name,className:"w-full h-full",style:{background:"transparent",borderRadius:0,padding:0,margin:0,objectFit:"contain",display:"block",border:"none",boxShadow:"none"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:410,columnNumber:45},void 0),!H&&e.jsxDEV("div",{className:"absolute inset-0 bg-red-500/30 rounded-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:411,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:409,columnNumber:41},void 0),e.jsxDEV("span",{className:`font-mono mt-0.5 whitespace-nowrap ${H?"text-green-400":"text-red-400"}`,style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)"},children:B.amount.toLocaleString()},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:413,columnNumber:41},void 0)]},B.name,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:408,columnNumber:37},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:393,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:391,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxDEV("div",{className:"bg-gray-900/50 p-2 rounded-lg text-center flex flex-col justify-center",children:[e.jsxDEV("h4",{className:"font-semibold mb-1 text-xs whitespace-nowrap",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:425,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-bold text-yellow-300 whitespace-nowrap",style:{fontSize:"clamp(1rem, 3vw, 1.5rem)"},children:[z,"%",G>0&&e.jsxDEV("span",{className:"text-green-400 ml-1",style:{fontSize:"clamp(0.875rem, 2vw, 1.125rem)"},children:["(+",G.toFixed(1).replace(/\.0$/,""),"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:428,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:426,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:424,columnNumber:25},void 0),p&&e.jsxDEV("div",{className:"bg-gray-900/60 p-2 rounded-lg flex flex-col gap-1",children:[e.jsxDEV("span",{className:"text-center text-xs text-tertiary font-medium",children:" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:433,columnNumber:33},void 0),e.jsxDEV("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:e.jsxDEV("div",{className:"bg-yellow-400 h-full transition-[width] duration-100 ease-linear",style:{width:`${x}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:435,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:434,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:432,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV(ae,{onClick:q,disabled:!C||p||o.stars>=10,colorScheme:"yellow",className:"w-full py-2 whitespace-nowrap",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:$},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:443,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:442,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:423,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:366,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:361,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/EnhancementView.tsx",lineNumber:360,columnNumber:9},void 0)},q5={normal:{name:"",color:"text-gray-300",background:"/images/equipments/normalbgi.png"},uncommon:{name:"",color:"text-green-400",background:"/images/equipments/uncommonbgi.png"},rare:{name:"",color:"text-blue-400",background:"/images/equipments/rarebgi.png"},epic:{name:"",color:"text-purple-400",background:"/images/equipments/epicbgi.png"},legendary:{name:"",color:"text-red-500",background:"/images/equipments/legendarybgi.png"},mythic:{name:"",color:"text-orange-400",background:"/images/equipments/mythicbgi.png"}},ID=["fan","board","top","bottom","bowl","stones"],MS={fan:"",board:"",top:"",bottom:"",bowl:"",stones:""},Q5=({item:o,onRemove:a})=>{if(!o)return e.jsxDEV("div",{className:"w-1/3 h-32 border-2 border-dashed border-gray-500 rounded-lg flex items-center justify-center bg-black/20",children:e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:30,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:29,columnNumber:13},void 0);const c=q5[o.grade];return e.jsxDEV("div",{className:"w-1/3 h-32 rounded-lg bg-black/20 p-2 flex flex-col items-center justify-center text-center relative",children:[e.jsxDEV("button",{onClick:a,className:"absolute top-1 right-1 text-red-500 hover:text-red-400 z-10",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative w-16 h-16 rounded-lg flex-shrink-0",children:[e.jsxDEV("img",{src:c.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:43,columnNumber:17},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:44,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:42,columnNumber:13},void 0),e.jsxDEV("p",{className:`text-sm font-bold ${c.color} whitespace-nowrap overflow-hidden text-ellipsis w-full`,title:o.name,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:MS[o.slot]||""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:38,columnNumber:9},void 0)},Y5=({items:o,isRandom:a})=>{const c=b.useMemo(()=>{const m=o.filter(p=>p!==null);if(m.length!==3)return[];const u=new Map;if(a){const p=1/ID.length;for(const s of ID)u.set(s,p)}else{const p=new Map;for(const s of m)s.slot&&p.set(s.slot,(p.get(s.slot)||0)+1);for(const[s,x]of p.entries())u.set(s,x/3)}return Array.from(u.entries()).sort((p,s)=>s[1]-p[1])},[o,a]);return c.length===0?null:e.jsxDEV("div",{className:"w-full bg-black/20 p-3 rounded-lg mt-4",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:82,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-x-4 gap-y-1 text-sm",children:c.map(([m,u])=>e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-400",children:[MS[m],":"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:86,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-bold text-white",children:[(u*100).toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:87,columnNumber:25},void 0)]},m,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:85,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:81,columnNumber:9},void 0)},K5=({items:o,currentUser:a})=>{const{blacksmithLevel:c}=a,m=b.useMemo(()=>{var g;const u=o.filter(f=>f!==null);if(u.length!==3||new Set(u.map(f=>f.grade)).size!==1)return null;const p=u[0].grade,s=(c??1)-1,x=((g=bx[s])==null?void 0:g[p])??0;return{successRate:100-x,greatSuccessRate:x}},[o,c]);return m?e.jsxDEV("div",{className:"w-full bg-black/20 p-3 rounded-lg mt-2",children:[e.jsxDEV("h4",{className:"font-semibold text-center mb-2",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-400",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:116,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold text-white",children:[m.successRate.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:117,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:115,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-yellow-400",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:120,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-bold text-yellow-300",children:[m.greatSuccessRate.toFixed(1),"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:121,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:119,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:114,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:112,columnNumber:9},void 0):null},J5=({items:o,onRemoveItem:a,onAction:c,currentUser:m})=>{const[u,p]=b.useState(!1),s=()=>{const v=o.map(g=>g==null?void 0:g.id).filter(g=>!!g);v.length===3&&c({type:"COMBINE_ITEMS",payload:{itemIds:v,isRandom:u}})},x=o.every(v=>v!==null)&&new Set(o.map(v=>v==null?void 0:v.grade)).size===1;return e.jsxDEV("div",{className:"h-full flex flex-col items-center justify-between",children:[e.jsxDEV("div",{className:"w-full flex justify-around items-stretch gap-2",children:o.map((v,g)=>e.jsxDEV(Q5,{item:v,onRemove:()=>a(g)},g,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:151,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:149,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV(Y5,{items:o,isRandom:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV(K5,{items:o,currentUser:m},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:157,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:155,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full space-y-4 mt-4",children:[e.jsxDEV("div",{className:"flex items-center justify-center",children:[e.jsxDEV("input",{type:"checkbox",id:"random-combine",checked:u,onChange:v=>p(v.target.checked),className:"h-4 w-4 rounded text-accent bg-gray-700 border-gray-600 focus:ring-accent"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:162,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"random-combine",className:"ml-2 text-sm text-gray-300",children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:169,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:s,disabled:!x,colorScheme:"blue",className:"w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:160,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationView.tsx",lineNumber:148,columnNumber:9},void 0)},X5=({selectedIds:o,inventory:a,blacksmithLevel:c})=>{const{rangeMap:m,totalMaterials:u,itemCount:p}=b.useMemo(()=>{var g;const s=a.filter(f=>o.has(f.id)),x={},v={};for(const f of s){const h=Math.min(f.stars,9),N=(g=Gd[f.grade])==null?void 0:g[h];if(N)for(const y of N){const E=Math.max(1,Math.floor(y.amount*.2)),j=Math.max(E,Math.floor(y.amount*.5));v[y.name]||(v[y.name]={min:0,max:0}),v[y.name].min+=E,v[y.name].max+=j}}return Object.entries(v).forEach(([f,h])=>{const N=Math.trunc(h.min),y=Math.trunc(h.max),E=Math.max(N,Math.round((N+y)/2));x[f]=E,v[f]={min:N,max:y}}),{rangeMap:v,totalMaterials:Object.entries(x).map(([f,h])=>({name:f,amount:h})),itemCount:s.length}},[o,a]);return e.jsxDEV("div",{className:"w-full h-full bg-secondary/50 rounded-lg p-4 flex flex-col text-center min-h-0",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-tertiary mb-2 flex-shrink-0",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:54,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-tertiary mb-4 flex-shrink-0",children:[" : ",p,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:55,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 w-full bg-tertiary/30 p-3 rounded-md overflow-y-auto space-y-2",children:[e.jsxDEV("h4",{className:"font-semibold text-highlight text-left border-b border-color pb-1",children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:57,columnNumber:17},void 0),u.length>0?u.map(({name:s,amount:x})=>{const v=ui[s];return e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"flex items-center gap-2",children:[(v==null?void 0:v.image)&&e.jsxDEV("img",{src:v.image,alt:s,className:"w-6 h-6"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:64,columnNumber:57},void 0),s]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:63,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-mono text-primary",children:["x ",m[s]?`${m[s].min.toLocaleString()} ~ ${m[s].max.toLocaleString()}`:x.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:67,columnNumber:33},void 0)]},s,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:62,columnNumber:29},void 0)}):e.jsxDEV("p",{className:"text-sm text-tertiary pt-4",children:"  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:76,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-cyan-300 text-center pt-4",children:["  ",As[c-1],"%  ''     2 !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:78,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:56,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:53,columnNumber:9},void 0)},Z5=["normal","uncommon","rare","epic","legendary"],ek={normal:"",uncommon:"",rare:"",epic:"",legendary:"",mythic:""},nk=({onClose:o,onConfirm:a})=>{const[c,m]=b.useState([]),u=s=>{m(x=>x.includes(s)?x.filter(v=>v!==s):[...x,s])},p=()=>{a(c),o()};return e.jsxDEV(mn,{title:"  ",onClose:o,windowId:"disassembly-auto-select",initialWidth:400,isTopmost:!0,children:e.jsxDEV("div",{className:"text-on-panel",children:[e.jsxDEV("p",{className:"text-sm text-tertiary mb-4 text-center",children:"   .   ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:112,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:Z5.map(s=>e.jsxDEV("label",{className:"flex items-center gap-3 p-3 bg-tertiary/50 rounded-lg cursor-pointer border-2 border-transparent has-[:checked]:border-accent",children:[e.jsxDEV("input",{type:"checkbox",checked:c.includes(s),onChange:()=>u(s),className:"w-5 h-5 text-accent bg-secondary border-color rounded focus:ring-accent"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:117,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-semibold",children:ek[s]},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:123,columnNumber:33},void 0)]},s,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:116,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:113,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-4 mt-6 pt-4 border-t border-color",children:[e.jsxDEV(ae,{onClick:o,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:129,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:p,colorScheme:"blue",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:128,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:111,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:110,columnNumber:9},void 0)},tk=({onAction:o,selectedForDisassembly:a=new Set,onToggleDisassemblySelection:c})=>{const{currentUserWithStatus:m}=ot(),[u,p]=b.useState(!1);if(!m)return null;const{inventory:s}=m,x=()=>{if(a.size===0)return;const g=Array.from(a).map(N=>s.find(y=>y.id===N)).filter(N=>N!==void 0),f=g.some(N=>N.grade==="legendary"||N.grade==="mythic"),h=g.some(N=>(N.stars||0)>=7);if(f||h){const N=[];if(f&&N.push("   "),h&&N.push("7  "),!window.confirm(`${N.join(", ")}  .  ?`))return}window.confirm(`${a.size}  ?`)&&o({type:"DISASSEMBLE_ITEM",payload:{itemIds:Array.from(a)}})},v=g=>{const f=new Set;m.equipmentPresets&&m.equipmentPresets.forEach(N=>{N.equipment&&Object.values(N.equipment).forEach(y=>{y&&f.add(y)})}),s.filter(N=>N.type==="equipment"&&!N.isEquipped&&!f.has(N.id)&&g.includes(N.grade)).map(N=>N.id).forEach(N=>c(N)),p(!1)};return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",children:[u&&e.jsxDEV(nk,{onClose:()=>p(!1),onConfirm:v},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:211,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0",children:e.jsxDEV(X5,{selectedIds:a,inventory:s,blacksmithLevel:m.blacksmithLevel??1},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:217,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:216,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-shrink-0 border-t border-color py-3 px-2 mt-2 flex flex-wrap justify-center items-center gap-2",children:[e.jsxDEV(ae,{onClick:()=>p(!0),colorScheme:"blue",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:224,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:x,colorScheme:"red",disabled:a.size===0,children:["   (",a.size,")"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:223,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/DisassemblyView.tsx",lineNumber:209,columnNumber:9},void 0)},ok=({details:o,inventory:a,blacksmithLevel:c,onClose:m,onAction:u})=>{const{materialName:p,craftType:s}=o,x=s==="upgrade",v=[" "," "," "," "," "],g=v.indexOf(p),f=p,h=x?v[g+1]:v[g-1],N=ui[f],y=ui[h],E=x?10:1,j=x?1:3,U=x?1:5,S=b.useMemo(()=>a.filter(V=>V.name===f).reduce((V,$)=>V+($.quantity||0),0),[a,f]),M=Math.floor(S/E),[C,w]=b.useState(M>0?1:0);b.useEffect(()=>{const V=Math.floor(S/E);w($=>Math.min($,V))},[S,E]);const R=V=>{const $=parseInt(V.target.value,10);isNaN($)?w(0):w(Math.max(0,Math.min(M,$)))},O=async()=>{C>0&&await u({type:"CRAFT_MATERIAL",payload:{materialName:p,craftType:s,quantity:C}}),m()};return e.jsxDEV(mn,{title:x?" ":" ",onClose:m,windowId:`crafting-${p}-${s}`,initialWidth:460,initialHeight:620,isTopmost:!0,children:e.jsxDEV("div",{className:"p-4 text-on-panel flex flex-col gap-4 h-full",children:[e.jsxDEV("div",{className:"flex items-center justify-around text-center",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("img",{src:N.image,alt:f,className:"w-14 h-14 mb-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:77,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold text-sm",children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:78,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs text-tertiary mt-0.5",children:[": ",S.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:79,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:76,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-3xl font-bold text-highlight mx-3",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:81,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("img",{src:y.image,alt:h,className:"w-14 h-14 mb-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:83,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-semibold text-sm",children:h},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:84,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-green-400 mt-0.5",children:[":"," ",j===U?`${(C*j).toLocaleString()}`:`${(C*j).toLocaleString()} ~ ${(C*U).toLocaleString()}`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:82,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("label",{htmlFor:"quantity-slider",className:"block text-sm font-medium text-secondary text-center",children:[x?"":""," ",f,": ",e.jsxDEV("span",{className:"font-bold text-highlight",children:[(C*E).toLocaleString()," / ",S.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:96,columnNumber:74},void 0),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:95,columnNumber:21},void 0),e.jsxDEV("input",{id:"quantity-slider",type:"range",min:"0",max:M,value:C,onChange:R,disabled:M===0,className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:98,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between text-xs text-tertiary",children:[e.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:109,columnNumber:25},void 0),e.jsxDEV("span",{children:[M,""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:110,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:108,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-center text-sm text-tertiary",children:[x?"":""," : ",C.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:112,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:94,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-cyan-300 text-center leading-snug",children:[x?"":"","  ",As[c-1],"%  ''   2 !"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:117,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-3 mt-auto pt-1",children:[e.jsxDEV(ae,{onClick:m,colorScheme:"gray",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:122,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:O,colorScheme:x?"blue":"orange",disabled:C===0,children:[C," ",x?"":""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:123,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:121,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:74,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:66,columnNumber:9},void 0)},ik=({onAction:o})=>{const{currentUserWithStatus:a}=ot(),[c,m]=b.useState(null);if(!a)return null;const{inventory:u}=a,p=b.useMemo(()=>{const x={};return u.filter(v=>v.type==="material").forEach(v=>{x[v.name]||(x[v.name]=[]),x[v.name].push(v)}),x},[u]),s=[" "," "," "," "," "];return e.jsxDEV("div",{className:"h-full flex flex-col min-h-0",children:[c&&e.jsxDEV(ok,{details:c,inventory:u,blacksmithLevel:a.blacksmithLevel??1,onClose:()=>m(null),onAction:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 p-3 overflow-hidden flex flex-col items-center justify-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2.5 w-full",children:[" "," "," "].map((x,v,g)=>{var E;const f=p[x]&&p[x].length>0,h=p[x]?p[x].reduce((j,U)=>j+(U.quantity||0),0):0,N=ui[x],y=s.indexOf(x);return e.jsxDEV(to.Fragment,{children:[e.jsxDEV("div",{className:"bg-panel-secondary rounded-lg p-2.5 flex flex-col items-center justify-center min-w-[120px]",children:[e.jsxDEV("img",{src:N.image,alt:x,className:"w-12 h-12 mb-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:188,columnNumber:37},void 0),e.jsxDEV("h4",{className:"font-bold text-secondary text-[11px] text-center whitespace-nowrap mb-1",children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:189,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-[10px] text-tertiary text-center mb-1.5",children:[": ",h.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:190,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:187,columnNumber:33},void 0),v<g.length-1&&e.jsxDEV("div",{className:"flex flex-col gap-1 items-center",children:[e.jsxDEV("span",{className:"text-[10px] text-secondary font-medium",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:196,columnNumber:41},void 0),e.jsxDEV(ae,{onClick:()=>m({materialName:x,craftType:"upgrade"}),colorScheme:"blue",className:"!text-xs !py-1.5 !px-3 whitespace-nowrap",disabled:!f||h<10,title:`${x} 10  ${s[y+1]} `,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:197,columnNumber:41},void 0),e.jsxDEV(ae,{onClick:()=>m({materialName:s[y+1],craftType:"downgrade"}),colorScheme:"purple",className:"!text-xs !py-1.5 !px-3 whitespace-nowrap",disabled:!p[s[y+1]]||(((E=p[s[y+1]])==null?void 0:E.reduce((j,U)=>j+(U.quantity||0),0))||0)<1,title:`${s[y+1]}  ${x} `,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:206,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-[10px] text-secondary font-medium",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:216,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:195,columnNumber:37},void 0)]},x,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:185,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:173,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-center gap-2.5 w-full",children:[" "," "," "].map((x,v,g)=>{var E;const f=p[x]&&p[x].length>0,h=p[x]?p[x].reduce((j,U)=>j+(U.quantity||0),0):0,N=ui[x],y=s.indexOf(x);return e.jsxDEV(to.Fragment,{children:[e.jsxDEV("div",{className:"bg-panel-secondary rounded-lg p-2.5 flex flex-col items-center justify-center min-w-[120px]",children:[e.jsxDEV("img",{src:N.image,alt:x,className:"w-12 h-12 mb-1.5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:240,columnNumber:37},void 0),e.jsxDEV("h4",{className:"font-bold text-secondary text-[11px] text-center whitespace-nowrap mb-1",children:x},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:241,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-[10px] text-tertiary text-center mb-1.5",children:[": ",h.toLocaleString(),""]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:242,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:239,columnNumber:33},void 0),v<g.length-1&&e.jsxDEV("div",{className:"flex flex-col gap-1.5 items-center",children:[e.jsxDEV("span",{className:"text-[10px] text-secondary font-medium",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:248,columnNumber:41},void 0),e.jsxDEV(ae,{onClick:()=>m({materialName:x,craftType:"upgrade"}),colorScheme:"blue",className:"!text-xs !py-1.5 !px-3 whitespace-nowrap",disabled:!f||h<10,title:`${x} 10  ${s[y+1]} `,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:249,columnNumber:41},void 0),e.jsxDEV(ae,{onClick:()=>m({materialName:s[y+1],craftType:"downgrade"}),colorScheme:"purple",className:"!text-xs !py-1.5 !px-3 whitespace-nowrap",disabled:!p[s[y+1]]||(((E=p[s[y+1]])==null?void 0:E.reduce((j,U)=>j+(U.quantity||0),0))||0)<1,title:`${s[y+1]}  ${x} `,children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:258,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-[10px] text-secondary font-medium",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:268,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:247,columnNumber:37},void 0)]},x,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:237,columnNumber:29},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:171,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/ConversionView.tsx",lineNumber:160,columnNumber:9},void 0)},lk={normal:"/images/equipments/normalbgi.png",uncommon:"/images/equipments/uncommonbgi.png",rare:"/images/equipments/rarebgi.png",epic:"/images/equipments/epicbgi.png",legendary:"/images/equipments/legendarybgi.png",mythic:"/images/equipments/mythicbgi.png"},ak=o=>{if(o===0)return null;let a="",c="";return o>=10?(a="/images/equipments/Star4.png",c="prism-text-effect"):o>=7?(a="/images/equipments/Star3.png",c="text-purple-400"):o>=4?(a="/images/equipments/Star2.png",c="text-amber-400"):o>=1&&(a="/images/equipments/Star1.png",c="text-white"),e.jsxDEV("div",{className:"absolute top-0.5 left-0.5 flex items-center gap-0.5 bg-black/40 rounded-br-md px-1 py-0.5 z-10",style:{textShadow:"1px 1px 2px black"},children:[e.jsxDEV("img",{src:a,alt:"star",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:35,columnNumber:13},void 0),e.jsxDEV("span",{className:`font-bold text-xs leading-none ${c}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:36,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:34,columnNumber:9},void 0)},rk=({inventory:o,inventorySlots:a,onSelectItem:c,selectedItemId:m,disabledItemIds:u=[],selectedItemIdsForDisassembly:p,onToggleDisassemblySelection:s})=>{const x=Array.from({length:a},(v,g)=>o[g]||null);return e.jsxDEV("div",{className:"grid flex-grow pr-2 bg-tertiary/30 p-2 rounded-md",style:{gridTemplateColumns:"repeat(10, minmax(0, 1fr))",gap:"4px",width:"100%",minWidth:0},children:x.map((v,g)=>{const f=v?u.includes(v.id):!1;return e.jsxDEV("div",{onClick:()=>{!v||f||(p&&s?s(v.id):c(v))},className:`relative aspect-square rounded-md transition-all duration-200 ${v?"hover:scale-105":"bg-tertiary/50"} ${f?"filter grayscale opacity-50 pointer-events-none":"cursor-pointer"}`,style:{width:"100%",minWidth:0,minHeight:0,maxWidth:"100%"},children:v?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`absolute inset-0 rounded-md border-2 ${m===v.id?"border-accent ring-2 ring-accent":"border-black/20"} ${p!=null&&p.has(v.id)?"bg-gray-700/70":""}`},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:82,columnNumber:33},void 0),e.jsxDEV("img",{src:lk[v.grade],alt:v.grade,className:"absolute inset-0 object-cover rounded-sm",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:83,columnNumber:33},void 0),v.image&&e.jsxDEV("img",{src:v.image,alt:v.name,className:"relative object-contain p-1",style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"}},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:84,columnNumber:48},void 0),ak(v.stars),v.isEquipped&&e.jsxDEV("div",{className:"absolute top-0.5 right-0.5 text-xs font-bold text-white bg-blue-600/80 px-1 rounded-bl-md",children:"E"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:86,columnNumber:53},void 0),v.quantity&&v.quantity>1&&e.jsxDEV("span",{className:"absolute bottom-0 right-0 text-xs font-bold text-white bg-black/60 px-1 rounded-tl-md",children:v.quantity},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:87,columnNumber:72},void 0),(p==null?void 0:p.has(v.id))&&e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/70 rounded-md",children:e.jsxDEV("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:90,columnNumber:170},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:90,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:89,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:81,columnNumber:29},void 0):e.jsxDEV("div",{className:"bg-tertiary/50 w-full h-full rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:95,columnNumber:29},void 0)},v?v.id:`empty-${g}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:67,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/InventoryGrid.tsx",lineNumber:55,columnNumber:9},void 0)},vr=["normal","uncommon","rare","epic","legendary","mythic"],sk=({onClose:o,isTopmost:a,selectedItemForEnhancement:c,activeTab:m,onSetActiveTab:u,enhancementOutcome:p})=>{const{currentUserWithStatus:s,handlers:x,modals:v}=ot(),[g,f]=b.useState(c),[h,N]=b.useState([null,null,null]),[y,E]=b.useState(new Set),[j,U]=b.useState("grade");if(!s)return null;b.useEffect(()=>{c&&(f(c),u("enhance"))},[c,u]),b.useEffect(()=>{N([null,null,null])},[m]),b.useEffect(()=>{if(g&&m==="enhance"){const L=s.inventory.find(ue=>ue.id===g.id);L&&(L.stars!==g.stars||L.enhancementFails!==g.enhancementFails)&&f(L)}},[s.inventory,g,m]),b.useEffect(()=>{m==="combine"&&N(L=>L.map(pe=>pe&&s.inventory.find(ie=>ie.id===pe.id)||null))},[s.inventory,m]);const S=b.useCallback(L=>{if(m==="combine"){const ue=h.findIndex(pe=>pe===null);if(ue!==-1){const pe=[...h];pe[ue]=L,N(pe)}}else f(L)},[m,h]),M=b.useCallback(L=>{E(ue=>{const pe=new Set(ue);return pe.has(L)?pe.delete(L):pe.add(L),pe})},[]),{blacksmithLevel:C,blacksmithXp:w,inventory:R,inventorySlots:O}=s,V={normal:"",uncommon:"",rare:"",epic:"",legendary:"",mythic:""},$=C??1,z=$>=ZD,P=$-1,G=z?P:$,q=ex[P],B=vr.indexOf(q),X=b.useMemo(()=>{var L;if(m==="combine"){const ue=(L=h[0])==null?void 0:L.grade,pe=h.map(ie=>ie==null?void 0:ie.id).filter(Boolean);return R.filter(ie=>!!(pe.includes(ie.id)||ie.isEquipped||vr.indexOf(ie.grade)>B||ue&&ie.grade!==ue)).map(ie=>ie.id)}else if(m==="disassemble"){const ue=new Set;return s.equipmentPresets&&s.equipmentPresets.forEach(pe=>{pe.equipment&&Object.values(pe.equipment).forEach(ie=>{ie&&ue.add(ie)})}),R.filter(pe=>!!(pe.isEquipped||ue.has(pe.id))).map(pe=>pe.id)}return[]},[m,R,h,B,s.equipmentPresets]),H=[{id:"enhance",label:" "},{id:"combine",label:" "},{id:"disassemble",label:" "},{id:"convert",label:" "}],Q=()=>{switch(m){case"enhance":return e.jsxDEV(F5,{selectedItem:g,currentUser:s,onAction:x.handleAction,enhancementOutcome:p,onOutcomeConfirm:x.clearEnhancementOutcome},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:172,columnNumber:36},void 0);case"combine":return e.jsxDEV(J5,{items:h,onRemoveItem:L=>{const ue=[...h];ue[L]=null,N(ue)},onAction:x.handleAction,currentUser:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:179,columnNumber:36},void 0);case"disassemble":return e.jsxDEV(tk,{onAction:x.handleAction,selectedForDisassembly:y,onToggleDisassemblySelection:M},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:190,columnNumber:17},void 0);case"convert":return e.jsxDEV(ik,{onAction:x.handleAction},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:196,columnNumber:36},void 0);default:return null}},Z=b.useMemo(()=>{let L=[];return m==="enhance"||m==="combine"||m==="disassemble"?L=R.filter(pe=>pe.type==="equipment"):m==="convert"?L=R.filter(pe=>pe.type==="material"):L=R,[...L].sort((pe,ie)=>{switch(j){case"grade":const fe=vr.indexOf(pe.grade)-vr.indexOf(ie.grade);return fe!==0?fe:(ie.stars||0)-(pe.stars||0);case"stars":const W=(ie.stars||0)-(pe.stars||0);return W!==0?W:vr.indexOf(pe.grade)-vr.indexOf(ie.grade);case"name":return pe.name.localeCompare(ie.name,"ko");case"date":return(typeof ie.createdAt=="number"?ie.createdAt:0)-(typeof pe.createdAt=="number"?pe.createdAt:0);default:return 0}})},[R,m,j]),ne=(()=>{const L=O||{};return m==="enhance"||m==="combine"||m==="disassemble"?L.equipment||30:m==="convert"&&L.material||30})(),le=b.useMemo(()=>m==="enhance"||m==="combine"||m==="disassemble"?"":m==="convert"?"":"",[m]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(mn,{title:"",onClose:o,isTopmost:a&&!v.isBlacksmithHelpOpen&&!v.disassemblyResult,initialWidth:1100,initialHeight:900,windowId:"blacksmith",zIndex:50,children:e.jsxDEV("div",{className:"flex h-full min-h-0",children:[e.jsxDEV("div",{className:"w-[360px] bg-tertiary/30 p-4 flex flex-col items-center gap-4 flex-shrink-0 overflow-hidden",children:[e.jsxDEV("div",{className:"w-full aspect-w-3 aspect-h-2 prism-border rounded-lg overflow-hidden relative flex-shrink-0",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:"Blacksmith",className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:268,columnNumber:29},void 0),e.jsxDEV("button",{onClick:x.openBlacksmithHelp,className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center transition-transform hover:scale-110",children:e.jsxDEV("img",{src:"/images/button/help.png",alt:"",className:"w-full h-full"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:270,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:269,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:267,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-center",children:e.jsxDEV("h2",{className:"text-2xl font-bold",children:[" ",e.jsxDEV("span",{className:"text-yellow-400",children:["Lv.",C??1]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:274,columnNumber:68},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:274,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:273,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:278,columnNumber:33},void 0),e.jsxDEV("span",{children:[w??0," / ",nx(C??1)," (",Math.round((w??0)/nx(C??1)*100),"%)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:279,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:277,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full bg-black/50 rounded-full h-3 border border-color",children:e.jsxDEV("div",{className:"bg-yellow-500 h-full rounded-full transition-all",style:{width:`${(w??0)/nx(C??1)*100}%`}},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:282,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:281,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:276,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full text-left flex-1 min-h-0 overflow-y-auto",children:[e.jsxDEV("div",{className:"flex justify-between text-sm font-bold text-gray-400 px-2 pb-1 border-b border-gray-600 mb-1",children:[e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:287,columnNumber:33},void 0),e.jsxDEV("span",{children:["Lv.",$,!z&&e.jsxDEV("span",{className:"text-yellow-400",children:["  Lv.",$+1]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:290,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:288,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:286,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-sm text-secondary space-y-2",children:[e.jsxDEV("div",{className:"bg-black/20 p-2 rounded-md",children:e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:296,columnNumber:41},void 0),e.jsxDEV("span",{children:[V[ex[P]],!z&&e.jsxDEV("span",{className:"text-yellow-400",children:["  ",V[ex[G]]]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:300,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:297,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:295,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:294,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-black/20 p-2 rounded-md",children:e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:307,columnNumber:41},void 0),e.jsxDEV("span",{children:[As[P],"%",!z&&e.jsxDEV("span",{className:"text-yellow-400",children:["  ",As[G],"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:311,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:308,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:306,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:305,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-black/20 p-2 rounded-md",children:e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:" /  "},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:318,columnNumber:41},void 0),e.jsxDEV("span",{children:[As[P],"%",!z&&e.jsxDEV("span",{className:"text-yellow-400",children:["  ",As[G],"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:322,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:319,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:317,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:316,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-black/20 p-2 rounded-md",children:[e.jsxDEV("p",{className:"font-semibold",children:"  :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:328,columnNumber:37},void 0),vr.map(L=>{var ie,fe;const ue=((ie=bx[P])==null?void 0:ie[L])??0,pe=(fe=bx[G])==null?void 0:fe[L];return e.jsxDEV("div",{className:"flex justify-between pl-2",children:[e.jsxDEV("span",{children:V[L]},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:335,columnNumber:49},void 0),e.jsxDEV("span",{children:[ue,"%",!z&&pe!==void 0&&e.jsxDEV("span",{className:"text-yellow-400",children:["  ",pe,"%"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:339,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:336,columnNumber:49},void 0)]},L,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:334,columnNumber:45},void 0)})]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:327,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:293,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:285,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:266,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 bg-primary p-4 flex flex-col min-w-0 min-h-0",children:[e.jsxDEV("div",{className:"flex border-b border-color mb-4",children:H.map(L=>e.jsxDEV("button",{onClick:()=>u(L.id),className:`px-4 py-2 text-sm font-semibold ${m===L.id?"border-b-2 border-accent text-accent":"text-secondary hover:bg-secondary/20"}`,children:L.label},L.id,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:354,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:352,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-4 bg-tertiary/20 rounded-lg flex-1 min-h-0 overflow-hidden",children:Q()},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:367,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4 flex flex-col min-h-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-on-panel",children:le},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:372,columnNumber:33},void 0),e.jsxDEV("select",{value:j,onChange:L=>U(L.target.value),className:"bg-secondary border border-color text-on-panel text-xs rounded px-2 py-1",children:[e.jsxDEV("option",{value:"grade",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:378,columnNumber:37},void 0),e.jsxDEV("option",{value:"stars",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:379,columnNumber:37},void 0),e.jsxDEV("option",{value:"name",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:380,columnNumber:37},void 0),e.jsxDEV("option",{value:"date",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:381,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:373,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:371,columnNumber:29},void 0),e.jsxDEV("div",{className:"h-[130px] overflow-y-auto pr-1",children:e.jsxDEV(rk,{inventory:Z,inventorySlots:ne,onSelectItem:S,selectedItemId:(g==null?void 0:g.id)||null,disabledItemIds:X,selectedItemIdsForDisassembly:m==="disassemble"?y:void 0,onToggleDisassemblySelection:m==="disassemble"?M:void 0},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:385,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:384,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:370,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:264,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:255,columnNumber:13},void 0),e.jsxDEV(SS,{isOpen:!!v.disassemblyResult,onClose:x.closeDisassemblyResult,result:v.disassemblyResult},void 0,!1,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:400,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/BlacksmithModal.tsx",lineNumber:254,columnNumber:9},void 0)},ck=({onClose:o})=>e.jsxDEV(mn,{title:" ",onClose:o,windowId:"blacksmith-help",initialWidth:700,zIndex:60,children:e.jsxDEV("div",{className:"space-y-6 text-sm overflow-y-auto max-h-[600px] pr-2",children:[e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:" ",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:17,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-yellow-400 mb-2 border-b border-yellow-400/30 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:19,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2 text-gray-300",children:[e.jsxDEV("p",{className:"font-semibold",children:"    () ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:21,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 ml-2 text-xs",children:[e.jsxDEV("li",{children:"      (+3, +6, +9  2)"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:23,columnNumber:33},void 0),e.jsxDEV("li",{children:"   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:24,columnNumber:33},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:25,columnNumber:33},void 0),e.jsxDEV("li",{children:" +10 "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:26,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:22,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:20,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:18,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:16,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxDEV("img",{src:"/images/equipments/normalbgi.png",alt:" ",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:34,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-2xl text-blue-400 self-center",children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:35,columnNumber:25},void 0),e.jsxDEV("img",{src:"/images/equipments/normalbgi.png",alt:" ",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:36,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-2xl text-blue-400 self-center",children:"+"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:37,columnNumber:25},void 0),e.jsxDEV("img",{src:"/images/equipments/normalbgi.png",alt:" ",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:38,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:33,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-blue-400 mb-2 border-b border-blue-400/30 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:41,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2 text-gray-300",children:[e.jsxDEV("p",{className:"font-semibold",children:"   3    ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:43,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 ml-2 text-xs",children:[e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:45,columnNumber:33},void 0),e.jsxDEV("li",{children:"       (:    )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:46,columnNumber:33},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:47,columnNumber:33},void 0),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:48,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:44,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:42,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:40,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:32,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("img",{src:"/images/materials/materials1.png",alt:" ",className:"w-32 h-32 object-cover rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:55,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-red-400 mb-2 border-b border-red-400/30 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:57,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2 text-gray-300",children:[e.jsxDEV("p",{className:"font-semibold",children:"     ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:59,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 ml-2 text-xs",children:[e.jsxDEV("li",{children:"  30% "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:61,columnNumber:33},void 0),e.jsxDEV("li",{children:"    2 (:    )"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:62,columnNumber:33},void 0),e.jsxDEV("li",{children:" /    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:63,columnNumber:33},void 0),e.jsxDEV("li",{children:"    7   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:64,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:60,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:58,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:56,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:54,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"flex flex-col gap-2 flex-shrink-0 items-center",children:[e.jsxDEV("img",{src:"/images/materials/materials1.png",alt:" ",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:72,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-lg text-green-400",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:73,columnNumber:25},void 0),e.jsxDEV("img",{src:"/images/materials/materials2.png",alt:" ",className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:74,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:71,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-green-400 mb-2 border-b border-green-400/30 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:77,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2 text-gray-300",children:[e.jsxDEV("p",{className:"font-semibold",children:"  /  ."},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:79,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 ml-2 text-xs",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-green-300",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:81,columnNumber:37},void 0),"  10   1~2 (  2)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:81,columnNumber:33},void 0),e.jsxDEV("li",{children:[e.jsxDEV("strong",{className:"text-green-300",children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:82,columnNumber:37},void 0),"  1   3~14 (  2)"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:82,columnNumber:33},void 0),e.jsxDEV("li",{children:" :    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:83,columnNumber:33},void 0),e.jsxDEV("li",{children:":          "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:84,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:80,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:78,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:76,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-600 to-purple-800 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV("span",{className:"text-4xl font-bold text-yellow-300",children:"Lv"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:92,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:91,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-purple-400 mb-2 border-b border-purple-400/30 pb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:95,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-2 text-gray-300",children:[e.jsxDEV("p",{className:"font-semibold",children:"     ,    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:97,columnNumber:29},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 ml-2 text-xs",children:[e.jsxDEV("li",{children:"///    "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:99,columnNumber:33},void 0),e.jsxDEV("li",{children:"    ,  ,   "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:100,columnNumber:33},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:101,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:98,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:96,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:94,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:90,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:15,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/BlacksmithHelpModal.tsx",lineNumber:14,columnNumber:9},void 0),mk={normal:{name:"",color:"text-gray-300",background:"/images/equipments/normalbgi.png"},uncommon:{name:"",color:"text-green-400",background:"/images/equipments/uncommonbgi.png"},rare:{name:"",color:"text-blue-400",background:"/images/equipments/rarebgi.png"},epic:{name:"",color:"text-purple-400",background:"/images/equipments/epicbgi.png"},legendary:{name:"",color:"text-red-500",background:"/images/equipments/legendarybgi.png"},mythic:{name:"",color:"text-orange-400",background:"/images/equipments/mythicbgi.png"}},uk=o=>{if(o===0)return null;let a="";return o>=10?a="/images/equipments/Star4.png":o>=7?a="/images/equipments/Star3.png":o>=4?a="/images/equipments/Star2.png":o>=1&&(a="/images/equipments/Star1.png"),e.jsxDEV("div",{className:"absolute top-0.5 left-0.5 flex items-center gap-0.5 bg-black/40 rounded-br-md px-1 py-0.5 z-10",style:{textShadow:"1px 1px 2px black"},children:[e.jsxDEV("img",{src:a,alt:"star",className:"w-3 h-3"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:27,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-bold text-xs leading-none",children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:26,columnNumber:9},void 0)},dk=({item:o})=>{var c,m,u,p;const a=mk[o.grade];return e.jsxDEV("div",{className:"flex flex-col w-full h-full p-1 bg-black/20 rounded-lg",children:[e.jsxDEV("div",{className:"flex mb-2",children:[e.jsxDEV("div",{className:"relative w-20 h-20 rounded-lg flex-shrink-0 mr-3",children:[e.jsxDEV("img",{src:a.background,alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-lg"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:39,columnNumber:21},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:40,columnNumber:36},void 0),uk(o.stars)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-grow pt-2 min-w-0",children:[e.jsxDEV("h3",{className:`text-base font-bold whitespace-nowrap overflow-hidden text-ellipsis ${a.color}`,title:o.name,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:44,columnNumber:21},void 0),((c=o.options)==null?void 0:c.main)&&e.jsxDEV("p",{className:"font-semibold text-yellow-300 text-xs whitespace-nowrap overflow-hidden text-ellipsis",title:o.options.main.display,children:o.options.main.display},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:46,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:37,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-full text-sm text-left space-y-1 bg-black/30 p-2 rounded-lg flex-grow overflow-y-auto",children:[((m=o.options)==null?void 0:m.combatSubs)&&o.options.combatSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.combatSubs.map((s,x)=>e.jsxDEV("p",{className:"text-blue-300",children:s.display},`c-${x}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:53,columnNumber:66},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:52,columnNumber:21},void 0),((u=o.options)==null?void 0:u.specialSubs)&&o.options.specialSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.specialSubs.map((s,x)=>e.jsxDEV("p",{className:"text-green-300",children:s.display},`s-${x}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:58,columnNumber:67},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:57,columnNumber:22},void 0),((p=o.options)==null?void 0:p.mythicSubs)&&o.options.mythicSubs.length>0&&e.jsxDEV("div",{className:"space-y-0.5",children:o.options.mythicSubs.map((s,x)=>e.jsxDEV("p",{className:"text-red-400",children:s.display},`m-${x}`,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:63,columnNumber:66},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:62,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:36,columnNumber:9},void 0)},fk=({result:o,onClose:a})=>{const{item:c,xpGained:m,isGreatSuccess:u}=o;return e.jsxDEV(mn,{title:u?" !":" ",onClose:a,windowId:"combination-result",initialWidth:400,children:e.jsxDEV("div",{className:"text-center flex flex-col items-center",children:[e.jsxDEV("div",{className:"w-full max-w-xs",children:e.jsxDEV(dk,{item:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:93,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:92,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-4 bg-gray-900/50 p-4 rounded-lg text-lg w-full max-w-xs",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:" ",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:98,columnNumber:67},void 0),"  :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:98,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-bold text-orange-400",children:["+",m.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:99,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:97,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:96,columnNumber:17},void 0),e.jsxDEV(ae,{onClick:a,className:"w-full mt-6 py-2.5 max-w-xs",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:91,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/blacksmith/CombinationResultModal.tsx",lineNumber:85,columnNumber:9},void 0)},$d=({title:o,color:a,children:c})=>{const m=to.Children.toArray(c).filter(Boolean);return e.jsxDEV("div",{className:"flex-1 bg-gray-800/30 p-2 rounded-md flex flex-col min-h-0",children:[e.jsxDEV("h4",{className:`text-center font-semibold mb-1 text-sm flex-shrink-0 ${a}`,children:o},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:19,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow overflow-y-auto pr-1 space-y-1 text-xs",children:m.length>0?m:e.jsxDEV("p",{className:"text-xs text-gray-400 text-center",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:21,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:20,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:18,columnNumber:9},void 0)},pk=(o,a)=>{const c=YD[o].description;switch(o){case ro.StrategicGoldBonus:case ro.PlayfulGoldBonus:{const m=20*a.count;return e.jsxDEV("span",{className:"w-full",children:c.replace(/20%/,`${m}%`)},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:34,columnNumber:20},void 0)}case ro.MannerActionCooldown:return e.jsxDEV("div",{className:"flex justify-between items-center w-full",children:[e.jsxDEV("span",{children:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:39,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-mono font-semibold",children:["+",a.totalValue]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:40,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:38,columnNumber:17},void 0);case ro.DiceGoOddBonus:case ro.AlkkagiSlowBonus:case ro.AlkkagiAimingBonus:return e.jsxDEV("span",{className:"w-full",children:c.replace(/1/g,`${a.totalValue}`)},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:47,columnNumber:20},void 0);default:return e.jsxDEV("span",{className:"w-full",children:c},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:50,columnNumber:20},void 0)}},bk=({onClose:o,isTopmost:a,mainOptionBonuses:c,combatSubOptionBonuses:m,specialStatBonuses:u,aggregatedMythicStats:p})=>{const s={[_.Concentration]:"",[_.ThinkingSpeed]:"",[_.Judgment]:"",[_.Calculation]:"",[_.CombatPower]:"",[_.Stability]:""},x={[_t.ActionPointMax]:" AP",[_t.ActionPointRegen]:"AP ",[_t.StrategyXpBonus]:" XP",[_t.PlayfulXpBonus]:" XP",[_t.GoldBonus]:" ",[_t.ItemDropRate]:" ",[_t.MaterialDropRate]:" "};return e.jsxDEV(mn,{title:"  ",onClose:o,windowId:"equipment-effects",initialWidth:600,isTopmost:a,children:e.jsxDEV("div",{className:"flex flex-col gap-4 p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxDEV($d,{title:" ",color:"text-yellow-300",children:Object.values(_).map(v=>{const g=c[v],f=g?`+${g.value.toFixed(g.isPercentage?1:0).replace(/\.0$/,"")}${g.isPercentage?"%":""}`:"+0";return e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"text-gray-300",children:s[v]||v},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:93,columnNumber:37},void 0),e.jsxDEV("span",{className:`font-mono font-semibold text-right ${g?"":"text-gray-400"}`,children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:94,columnNumber:37},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:92,columnNumber:34},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:85,columnNumber:21},void 0),e.jsxDEV($d,{title:"  ",color:"text-blue-300",children:Object.values(_).map(v=>{const g=m[v],f=g?`+${g.value.toFixed(g.isPercentage?1:0).replace(/\.0$/,"")}${g.isPercentage?"%":""}`:"+0";return e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"text-gray-300",children:s[v]||v},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:109,columnNumber:37},void 0),e.jsxDEV("span",{className:`font-mono font-semibold text-right ${g?"":"text-gray-400"}`,children:f},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:110,columnNumber:37},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:108,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:101,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:84,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxDEV($d,{title:"  ",color:"text-green-300",children:Object.entries(u).map(([v,g])=>{if(g.flat===0&&g.percent===0)return null;const f=v,h=QD[f];if(!h)return null;const N=h.name,y=x[f]||v;return e.jsxDEV("div",{className:"flex justify-between items-baseline",title:N,children:[e.jsxDEV("span",{className:"text-gray-300 truncate",children:y},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:129,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-mono font-semibold text-right text-green-300",children:[g.flat>0&&`+${g.flat.toFixed(0)}`,g.percent>0&&(g.flat>0?", ":"")+`+${g.percent.toFixed(1)}%`]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:130,columnNumber:37},void 0)]},v,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:128,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:119,columnNumber:21},void 0),e.jsxDEV($d,{title:"  ",color:"text-red-400",children:Object.entries(p).map(([v,g])=>g.count===0?null:e.jsxDEV("div",{className:"text-red-300 text-[10px] leading-tight",children:pk(v,g)},v,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:142,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:138,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:118,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/EquipmentEffectsModal.tsx",lineNumber:82,columnNumber:9},void 0)},vx=o=>o>=10?{text:`(${o})`,colorClass:"prism-text-effect"}:o>=7?{text:`(${o})`,colorClass:"text-purple-400"}:o>=4?{text:`(${o})`,colorClass:"text-amber-400"}:o>=1?{text:`(${o})`,colorClass:"text-white"}:{text:"",colorClass:"text-white"},_D=({item:o})=>{const a=vx(o.stars);return e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:"relative w-20 h-20 mb-2",children:[e.jsxDEV("img",{src:Yd[o.grade],alt:o.grade,className:"absolute inset-0 w-full h-full object-cover rounded-md"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:37,columnNumber:17},void 0),o.image&&e.jsxDEV("img",{src:o.image,alt:o.name,className:"relative w-full h-full object-contain p-1"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:38,columnNumber:32},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 text-center text-xs font-bold bg-black/50 py-0.5",children:e.jsxDEV("span",{className:a.colorClass,children:["",o.stars]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:40,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:39,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:36,columnNumber:13},void 0),e.jsxDEV("p",{className:`font-bold text-sm ${Nm[o.grade].color}`,children:o.name},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:43,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:35,columnNumber:9},void 0)},Nk=({result:o,onClose:a,isTopmost:c})=>{const{success:m,message:u,itemBefore:p,itemAfter:s,xpGained:x}=o,v=b.useMemo(()=>{if(!m||!p.options||!s.options)return null;if(s.options.combatSubs.length>p.options.combatSubs.length){const y=s.options.combatSubs.find(E=>!p.options.combatSubs.some(j=>j.type===E.type&&j.isPercentage===E.isPercentage));return y?{type:"new",option:y}:null}for(const y of s.options.combatSubs){const E=p.options.combatSubs.find(j=>j.type===y.type&&j.isPercentage===y.isPercentage);if(!E||E.value!==y.value)return{type:"upgraded",before:E,after:y}}return null},[m,p,s]),g=vx(p.stars),f=vx(s.stars),h=m?" !":" !",N=m?"text-green-400":"text-red-400";return e.jsxDEV(mn,{title:h,onClose:a,windowId:"enhancementResult",initialWidth:500,isTopmost:c,children:e.jsxDEV("div",{className:"p-4 text-center",children:[e.jsxDEV("div",{className:`text-6xl mb-4 ${m?"animate-bounce":""}`,children:m?"":""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:79,columnNumber:17},void 0),e.jsxDEV("h3",{className:`text-2xl font-bold mb-2 ${N}`,children:m?" !":" ..."},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:80,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-300 mb-4",children:u},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:83,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-around items-center mb-4",children:[e.jsxDEV(_D,{item:p},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:85,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-2xl font-bold mx-4",children:m?"":"X"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:86,columnNumber:21},void 0),e.jsxDEV(_D,{item:s},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:87,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:84,columnNumber:17},void 0),m&&e.jsxDEV("div",{className:"bg-gray-800/50 p-3 rounded-lg mb-4 text-xs space-y-1 text-left",children:[e.jsxDEV("h4",{className:"font-bold text-center text-yellow-300 mb-2",children:" "},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:91,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:93,columnNumber:29},void 0),e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:g.colorClass,children:g.text||"()"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:95,columnNumber:33},void 0),"",e.jsxDEV("span",{className:f.colorClass,children:f.text},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:97,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:94,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:92,columnNumber:25},void 0),p.options&&s.options&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:102,columnNumber:33},void 0),e.jsxDEV("span",{className:"truncate ml-2",children:[p.options.main.display,"  ",s.options.main.display]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:103,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:101,columnNumber:29},void 0),(v==null?void 0:v.type)==="new"&&v.option&&e.jsxDEV("div",{className:"flex justify-between text-green-300",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:108,columnNumber:33},void 0),e.jsxDEV("span",{className:"truncate ml-2",children:v.option.display},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:109,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:107,columnNumber:29},void 0),(v==null?void 0:v.type)==="upgraded"&&v.before&&e.jsxDEV("div",{className:"flex justify-between text-green-300",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:114,columnNumber:33},void 0),e.jsxDEV("span",{className:"truncate ml-2",children:[v.before.display,"  ",v.after.display]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:115,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:113,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:90,columnNumber:21},void 0),x!==void 0&&x>0&&e.jsxDEV("div",{className:"bg-gray-800/50 p-3 rounded-lg mb-4 text-center",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("img",{src:"/images/equipments/moru.png",alt:" ",className:"w-5 h-5"},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:124,columnNumber:33},void 0)," :"]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:123,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold text-orange-400",children:["+",x.toLocaleString()]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:127,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:122,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:121,columnNumber:21},void 0),e.jsxDEV(ae,{onClick:y=>{y==null||y.stopPropagation(),a()},colorScheme:"blue",className:"mt-4 w-full",children:""},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:131,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:78,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/components/modals/EnhancementResultModal.tsx",lineNumber:77,columnNumber:9},void 0)};function xk(o){const a=b.useRef(void 0);return b.useEffect(()=>{a.current=o},[o]),a.current}const gk=()=>{const{currentUser:o,currentUserWithStatus:a,currentRoute:c,error:m,activeNegotiation:u,modals:p,showExitToast:s,enhancementResult:x,enhancementOutcome:v,handlers:g,onlineUsers:f,hasClaimableQuest:h,settings:N,mainOptionBonuses:y,combatSubOptionBonuses:E,specialStatBonuses:j,aggregatedMythicStats:U}=ot(),[S,M]=b.useState(!0),[C,w]=b.useState(!1),R=xk(h);b.useEffect(()=>{if(N.features.questNotifications&&h&&!R){w(!0);const P=setTimeout(()=>w(!1),3e3);return()=>clearTimeout(P)}},[h,R,N.features.questNotifications]),b.useEffect(()=>{if(C){const P=setTimeout(()=>w(!1),3e3);return()=>clearTimeout(P)}},[C]),b.useEffect(()=>{const P=()=>{et.initialize(),document.removeEventListener("pointerdown",P),document.removeEventListener("touchstart",P),document.removeEventListener("click",P),document.removeEventListener("touchend",P)};return document.addEventListener("pointerdown",P),document.addEventListener("touchstart",P),document.addEventListener("click",P),document.addEventListener("touchend",P),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("touchstart",P),document.removeEventListener("click",P),document.removeEventListener("touchend",P)}},[]),b.useEffect(()=>{o?B5(_5).then(()=>{M(!1)}):M(!1)},[o]);const O=b.useMemo(()=>{const P=[];return u&&P.push("negotiation"),p.isSettingsModalOpen&&P.push("settings"),p.isInventoryOpen&&P.push("inventory"),p.isMailboxOpen&&P.push("mailbox"),p.isQuestsOpen&&P.push("quests"),p.rewardSummary&&P.push("rewardSummary"),p.isClaimAllSummaryOpen&&P.push("claimAllSummary"),p.isShopOpen&&P.push("shop"),p.viewingUser&&P.push("viewingUser"),p.isInfoModalOpen&&P.push("infoModal"),p.isEncyclopediaOpen&&P.push("encyclopedia"),p.isStatAllocationModalOpen&&P.push("statAllocation"),p.isProfileEditModalOpen&&P.push("profileEdit"),p.pastRankingsInfo&&P.push("pastRankings"),p.moderatingUser&&P.push("moderatingUser"),p.viewingItem&&P.push("viewingItem"),p.enhancingItem&&P.push("enhancingItem"),p.isBlacksmithModalOpen&&P.push("blacksmith"),p.isBlacksmithHelpOpen&&P.push("blacksmithHelp"),p.combinationResult&&P.push("combinationResult"),p.disassemblyResult&&P.push("disassemblyResult"),p.craftResult&&P.push("craftResult"),p.isEnhancementResultModalOpen&&P.push("enhancementResult"),p.isMbtiInfoModalOpen&&P.push("mbtiInfo"),p.lastUsedItemResult&&P.push("itemObtained"),P},[p,u]),V=O.length>0?O[O.length-1]:null,$=c.view==="game",z=o?"bg-primary":"bg-login-background";return e.jsxDEV("div",{className:`font-sans ${z} text-primary h-full flex flex-col`,children:[S&&e.jsxDEV("div",{className:"fixed inset-0 bg-tertiary z-[100] flex flex-col items-center justify-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:163,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-4 text-primary",children:"  ..."},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:164,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:162,columnNumber:17},void 0),m&&e.jsxDEV("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 w-full max-w-md z-50 animate-slide-down",children:e.jsxDEV("div",{className:"bg-danger border-2 border-red-500 rounded-lg shadow-2xl p-4 text-white font-bold text-center",children:m},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:169,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:168,columnNumber:17},void 0),C&&e.jsxDEV("div",{onClick:()=>{g.openQuests(),w(!1)},className:"fixed top-20 right-4 w-full max-w-xs z-50 animate-slide-in-right cursor-pointer",children:e.jsxDEV("div",{className:"bg-success border-2 border-green-400 rounded-lg shadow-2xl p-4 text-white font-bold text-center",children:"   !"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:177,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:173,columnNumber:17},void 0),x&&!p.enhancingItem&&e.jsxDEV("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 w-full max-w-md z-50 animate-slide-down",children:e.jsxDEV("div",{className:`${x.success?"bg-accent border-accent":"bg-danger border-red-500"} border-2 rounded-lg shadow-2xl p-4 text-white font-bold text-center`,children:x.message},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:184,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:183,columnNumber:17},void 0),s&&e.jsxDEV("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-full max-w-md z-50 animate-slide-down-fast",children:e.jsxDEV("div",{className:"bg-primary border-2 border-color rounded-lg shadow-2xl p-3 text-primary font-semibold text-center",children:"     ."},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:189,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:188,columnNumber:17},void 0),o&&!$&&e.jsxDEV(vw,{},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:193,columnNumber:44},void 0),o?e.jsxDEV("main",{className:"flex-1 flex flex-col min-h-0",children:e.jsxDEV(AD,{},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:197,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:196,columnNumber:17},void 0):e.jsxDEV("div",{className:"relative h-full w-full flex flex-col items-center justify-center p-4 sm:p-8 bg-tertiary bg-[url('/images/bg/loginbg.png')] bg-cover bg-center",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-black/60"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:201,columnNumber:21},void 0),e.jsxDEV("header",{className:"relative text-center z-10 pt-8 md:pt-16 mb-8",children:[e.jsxDEV("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-white tracking-widest uppercase title-glow-secondary",style:{fontFamily:"serif"},children:"SUDAM"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:203,columnNumber:25},void 0),e.jsxDEV("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white tracking-wider mt-2 title-glow-secondary",style:{fontFamily:"serif"},children:"The Ascending Masters"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:206,columnNumber:25},void 0),e.jsxDEV("p",{className:"mt-4 text-xs sm:text-sm text-gray-300",children:["Supreme Universe of Dueling Ascending Masters (S.U.D.A.M)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:211,columnNumber:29},void 0),"(    )"]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:209,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:202,columnNumber:21},void 0),e.jsxDEV("main",{className:"relative flex-1 flex flex-col min-h-0 z-10",children:e.jsxDEV(AD,{},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:216,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:215,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:200,columnNumber:17},void 0),a&&e.jsxDEV(e.Fragment,{children:[p.isSettingsModalOpen&&e.jsxDEV(G5,{onClose:g.closeSettingsModal,isTopmost:V==="settings"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:224,columnNumber:52},void 0),p.isInventoryOpen&&e.jsxDEV(o5,{currentUser:a,onClose:g.closeInventory,onAction:g.handleAction,onStartEnhance:g.openEnhancingItem,enhancementAnimationTarget:p.enhancementAnimationTarget,onAnimationComplete:g.clearEnhancementAnimation,isTopmost:V==="inventory"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:225,columnNumber:48},void 0),p.isMailboxOpen&&e.jsxDEV(a5,{currentUser:a,onClose:g.closeMailbox,onAction:g.handleAction,isTopmost:V==="mailbox"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:226,columnNumber:46},void 0),p.isQuestsOpen&&e.jsxDEV(s5,{currentUser:a,onClose:g.closeQuests,onAction:g.handleAction,isTopmost:V==="quests"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:227,columnNumber:45},void 0),p.rewardSummary&&e.jsxDEV(k5,{summary:p.rewardSummary,onClose:g.closeRewardSummary,isTopmost:V==="rewardSummary"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:228,columnNumber:46},void 0),p.isClaimAllSummaryOpen&&p.claimAllSummary&&e.jsxDEV(TD,{summary:p.claimAllSummary,onClose:g.closeClaimAllSummary,isTopmost:V==="claimAllSummary"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:229,columnNumber:80},void 0),p.isShopOpen&&e.jsxDEV(d5,{currentUser:a,onClose:g.closeShop,onAction:g.handleAction,isTopmost:V==="shop",initialTab:p.shopInitialTab},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:230,columnNumber:43},void 0),p.lastUsedItemResult&&p.lastUsedItemResult.length===1&&e.jsxDEV(R5,{item:p.lastUsedItemResult[0],onClose:g.closeItemObtained,isTopmost:V==="itemObtained"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:232,columnNumber:93},void 0),p.lastUsedItemResult&&p.lastUsedItemResult.length>1&&e.jsxDEV(A5,{items:p.lastUsedItemResult,onClose:g.closeItemObtained,isTopmost:V==="itemObtained",tournamentScoreChange:p.tournamentScoreChange},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:233,columnNumber:91},void 0),p.disassemblyResult&&e.jsxDEV(SS,{result:p.disassemblyResult,onClose:g.closeDisassemblyResult,isTopmost:V==="disassemblyResult",isOpen:!0},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:235,columnNumber:50},void 0),p.craftResult&&(console.log("[App] Rendering CraftingResultModal:",{craftResult:p.craftResult,topmostModalId:V,isTopmost:V==="craftResult"}),e.jsxDEV(L5,{result:p.craftResult,onClose:g.closeCraftResult,isTopmost:V==="craftResult"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:242,columnNumber:32},void 0)),p.viewingUser&&e.jsxDEV(N5,{user:p.viewingUser,onClose:g.closeViewingUser,onViewItem:g.openViewingItem,isTopmost:V==="viewingUser"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:244,columnNumber:44},void 0),p.isInfoModalOpen&&e.jsxDEV(x5,{onClose:g.closeInfoModal,isTopmost:V==="infoModal"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:245,columnNumber:48},void 0),p.isEncyclopediaOpen&&e.jsxDEV(U5,{onClose:g.closeEncyclopedia,isTopmost:V==="encyclopedia"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:246,columnNumber:51},void 0),p.isStatAllocationModalOpen&&e.jsxDEV(g5,{currentUser:a,onClose:g.closeStatAllocationModal,onAction:g.handleAction,isTopmost:V==="statAllocation"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:247,columnNumber:58},void 0),p.isProfileEditModalOpen&&e.jsxDEV(D5,{currentUser:a,onClose:g.closeProfileEditModal,onAction:g.handleAction,isTopmost:V==="profileEdit"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:248,columnNumber:55},void 0),p.pastRankingsInfo&&e.jsxDEV(w5,{info:p.pastRankingsInfo,onClose:g.closePastRankings,isTopmost:V==="pastRankings"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:249,columnNumber:49},void 0),p.moderatingUser&&e.jsxDEV(V5,{user:p.moderatingUser,currentUser:a,onClose:g.closeModerationModal,onAction:g.handleAction,isTopmost:V==="moderatingUser"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:250,columnNumber:47},void 0),p.viewingItem&&e.jsxDEV(y5,{item:p.viewingItem.item,isOwnedByCurrentUser:p.viewingItem.isOwnedByCurrentUser,onClose:g.closeViewingItem,onStartEnhance:g.openEnhancementFromDetail,isTopmost:V==="viewingItem"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:251,columnNumber:44},void 0),u&&(()=>{const P=u.status==="pending"&&(u.opponent.id===a.id&&u.proposerId===u.opponent.id||u.challenger.id===a.id&&u.proposerId===u.challenger.id&&(u.turnCount??0)>0);return u.challenger.id===a.id&&u.status==="pending"&&u.proposerId===u.opponent.id&&u.turnCount===0?null:P?e.jsxDEV(QV,{negotiation:u,currentUser:a,onAccept:q=>{g.handleAction({type:"ACCEPT_NEGOTIATION",payload:{negotiationId:u.id,settings:q}})},onDecline:()=>{g.handleAction({type:"DECLINE_NEGOTIATION",payload:{negotiationId:u.id}})},onProposeModification:q=>{g.handleAction({type:"UPDATE_NEGOTIATION",payload:{negotiationId:u.id,settings:q}})},onClose:()=>{g.handleAction({type:"DECLINE_NEGOTIATION",payload:{negotiationId:u.id}})},onAction:g.handleAction},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:276,columnNumber:33},void 0):e.jsxDEV(gS,{negotiation:u,currentUser:a,onAction:g.handleAction,onlineUsers:f,isTopmost:V==="negotiation"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:310,columnNumber:29},void 0)})(),p.isMbtiInfoModalOpen&&e.jsxDEV(hx,{onClose:g.closeMbtiInfoModal,isTopmost:V==="mbtiInfo"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:319,columnNumber:52},void 0),p.isBlacksmithModalOpen&&e.jsxDEV(sk,{onClose:g.closeBlacksmithModal,isTopmost:V==="blacksmith",selectedItemForEnhancement:p.blacksmithSelectedItemForEnhancement,activeTab:p.blacksmithActiveTab,onSetActiveTab:g.setBlacksmithActiveTab,enhancementOutcome:v},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:320,columnNumber:54},void 0),p.combinationResult&&e.jsxDEV(fk,{result:p.combinationResult,onClose:g.closeCombinationResult,isTopmost:V==="combinationResult"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:328,columnNumber:50},void 0),p.isBlacksmithHelpOpen&&e.jsxDEV(ck,{onClose:g.closeBlacksmithHelp,isTopmost:V==="blacksmithHelp",currentUser:a},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:329,columnNumber:53},void 0),p.isEnhancementResultModalOpen&&v&&e.jsxDEV(Nk,{result:v,onClose:g.closeEnhancementModal,isTopmost:V==="enhancementResult"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:330,columnNumber:83},void 0),p.isClaimAllSummaryOpen&&p.claimAllSummary&&e.jsxDEV(TD,{summary:p.claimAllSummary,onClose:g.closeClaimAllSummary,isTopmost:V==="claimAllSummary"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:331,columnNumber:80},void 0),p.isMbtiInfoModalOpen&&e.jsxDEV(hx,{onClose:g.closeMbtiInfoModal,isTopmost:V==="mbtiInfo"},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:332,columnNumber:52},void 0),p.isEquipmentEffectsModalOpen&&e.jsxDEV(bk,{onClose:g.closeEquipmentEffectsModal,isTopmost:V==="equipmentEffects",mainOptionBonuses:y,combatSubOptionBonuses:E,specialStatBonuses:j,aggregatedMythicStats:U},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:333,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:223,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:160,columnNumber:9},void 0)},hk=()=>e.jsxDEV("div",{className:"app-container",children:e.jsxDEV(gw,{children:e.jsxDEV(gk,{},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:344,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:343,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/App.tsx",lineNumber:342,columnNumber:9},void 0),CS=document.getElementById("root");if(!CS)throw new Error("Could not find root element to mount to");const vk=fx.createRoot(CS);vk.render(e.jsxDEV(to.StrictMode,{children:e.jsxDEV(hk,{},void 0,!1,{fileName:"C:/project/SUDAMR/index.tsx",lineNumber:15,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/project/SUDAMR/index.tsx",lineNumber:14,columnNumber:3},void 0));
